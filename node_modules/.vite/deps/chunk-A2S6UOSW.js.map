{
  "version": 3,
  "sources": ["../../node_modules/zustand/vanilla.js", "../../@theatre/r3f/src/main/editable.tsx", "../../@theatre/r3f/src/main/store.ts", "../../node_modules/react-merge-refs/src/index.tsx", "../../@theatre/r3f/src/main/useInvalidate.ts", "../../@theatre/r3f/src/main/SheetProvider.tsx", "../../@theatre/r3f/src/main/editableFactoryConfigUtils.ts", "../../@theatre/r3f/src/main/defaultEditableFactoryConfig.ts", "../../@theatre/r3f/src/main/utils.ts", "../../@theatre/r3f/src/main/RafDriverProvider.tsx", "../../@theatre/r3f/src/main/RefreshSnapshot.tsx", "../../@theatre/r3f/src/drei/PerspectiveCamera.tsx", "../../@theatre/r3f/src/drei/OrthographicCamera.tsx"],
  "sourcesContent": ["'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nfunction create(createState) {\n  var state;\n  var listeners = new Set();\n\n  var setState = function setState(partial, replace) {\n    var nextState = typeof partial === 'function' ? partial(state) : partial;\n\n    if (nextState !== state) {\n      var _previousState = state;\n      state = replace ? nextState : Object.assign({}, state, nextState);\n      listeners.forEach(function (listener) {\n        return listener(state, _previousState);\n      });\n    }\n  };\n\n  var getState = function getState() {\n    return state;\n  };\n\n  var subscribeWithSelector = function subscribeWithSelector(listener, selector, equalityFn) {\n    if (selector === void 0) {\n      selector = getState;\n    }\n\n    if (equalityFn === void 0) {\n      equalityFn = Object.is;\n    }\n\n    var currentSlice = selector(state);\n\n    function listenerToAdd() {\n      var nextSlice = selector(state);\n\n      if (!equalityFn(currentSlice, nextSlice)) {\n        var _previousSlice = currentSlice;\n        listener(currentSlice = nextSlice, _previousSlice);\n      }\n    }\n\n    listeners.add(listenerToAdd);\n    return function () {\n      return listeners.delete(listenerToAdd);\n    };\n  };\n\n  var subscribe = function subscribe(listener, selector, equalityFn) {\n    if (selector || equalityFn) {\n      return subscribeWithSelector(listener, selector, equalityFn);\n    }\n\n    listeners.add(listener);\n    return function () {\n      return listeners.delete(listener);\n    };\n  };\n\n  var destroy = function destroy() {\n    return listeners.clear();\n  };\n\n  var api = {\n    setState: setState,\n    getState: getState,\n    subscribe: subscribe,\n    destroy: destroy\n  };\n  state = createState(setState, getState, api);\n  return api;\n}\n\nexports.default = create;\n", "import type {ComponentProps, ComponentType, Ref, RefAttributes} from 'react'\nimport {useMemo, useState} from 'react'\nimport React, {forwardRef, useEffect, useLayoutEffect, useRef} from 'react'\nimport {allRegisteredObjects, editorStore} from './store'\nimport {mergeRefs} from 'react-merge-refs'\nimport useInvalidate from './useInvalidate'\nimport {useCurrentSheet} from './SheetProvider'\nimport defaultEditableFactoryConfig from './defaultEditableFactoryConfig'\nimport type {EditableFactoryConfig} from './editableFactoryConfigUtils'\nimport {makeStoreKey} from './utils'\nimport type {$FixMe, $IntentionalAny} from '../types'\nimport type {ISheetObject} from '@theatre/core'\nimport {notify} from '@theatre/core'\nimport {useCurrentRafDriver} from './RafDriverProvider'\n\nconst createEditable = <Keys extends keyof JSX.IntrinsicElements>(\n  config: EditableFactoryConfig,\n) => {\n  const editable = <\n    T extends ComponentType<any> | keyof JSX.IntrinsicElements | 'primitive',\n    U extends Keys,\n  >(\n    Component: T,\n    type: T extends 'primitive' ? null : U,\n  ) => {\n    type Props = Omit<ComponentProps<T>, 'visible'> & {\n      theatreKey: string\n      visible?: boolean | 'editor'\n      additionalProps?: $FixMe\n      objRef?: $FixMe\n    } & (T extends 'primitive'\n        ? {\n            editableType: U\n          }\n        : {}) &\n      RefAttributes<JSX.IntrinsicElements[U]>\n\n    if (Component !== 'primitive' && !type) {\n      throw new Error(\n        `You must provide the type of the component you're creating an editable for. For example: editable(MyComponent, 'mesh').`,\n      )\n    }\n\n    // TODO: detect if `editable()` is being called in the body of a react component, which is a common\n    // mistake. If it is, throw an error.\n\n    return forwardRef(\n      (\n        {\n          theatreKey,\n          visible,\n          editableType,\n          additionalProps,\n          objRef,\n          ...props\n        }: Props,\n        ref,\n      ) => {\n        //region Runtime type checks\n        if (typeof theatreKey !== 'string') {\n          throw new Error(\n            `No valid theatreKey was provided to the editable component. theatreKey must be a string. Received: ${theatreKey}`,\n          )\n        }\n\n        if (Component === 'primitive' && !editableType) {\n          throw new Error(\n            `When using the primitive component, you must provide the editableType prop. Received: ${editableType}`,\n          )\n        }\n        //endregion\n\n        const actualType = type ?? editableType\n\n        const objectRef = useRef<JSX.IntrinsicElements[U]>()\n\n        const sheet = useCurrentSheet()!\n        const rafDriver = useCurrentRafDriver()\n\n        const [sheetObject, setSheetObject] = useState<\n          undefined | ISheetObject<$FixMe>\n        >(undefined)\n\n        const storeKey = useMemo(\n          () =>\n            makeStoreKey({\n              ...sheet.address,\n              objectKey: theatreKey as $IntentionalAny,\n            }),\n          [sheet, theatreKey],\n        )\n\n        const invalidate = useInvalidate()\n\n        // warn about cameras in r3f\n        useEffect(() => {\n          if (\n            Component === 'perspectiveCamera' ||\n            Component === 'orthographicCamera'\n          ) {\n            const dreiComponent =\n              Component.charAt(0).toUpperCase() + Component.slice(1)\n\n            notify.warning(\n              `Possibly incorrect use of <e.${Component} />`,\n              `You seem to have declared the camera \"${theatreKey}\" simply as \\`<e.${Component} ... />\\`. This alone won't make r3f use it for rendering.\n\nThe easiest way to create a custom animatable \\`${dreiComponent}\\` is to import it from \\`@react-three/drei\\`, and make it editable.\n\\`\\`\\`\nimport {${dreiComponent}} from '@react-three/drei'\n\nconst EditableCamera =\n  editable(${dreiComponent}, '${Component}')\n\\`\\`\\`\nThen you can use it in your JSX like any other editable component. Note the makeDefault prop exposed by drei, which makes r3f use it for rendering.\n\\`\\`\\`\n<EditableCamera\n  theatreKey=\"${theatreKey}\"\n  makeDefault\n>\n\\`\\`\\`\n`,\n            )\n          }\n        }, [Component, theatreKey])\n\n        // create sheet object and add editable to store\n        useLayoutEffect(() => {\n          if (!sheet) return\n          if (sheetObject) {\n            sheet.object(\n              theatreKey,\n              Object.assign(\n                {\n                  ...additionalProps,\n                },\n                // @ts-ignore\n                ...Object.values(config[actualType].props).map(\n                  // @ts-ignore\n                  (value) => value.type,\n                ),\n              ),\n              {reconfigure: true},\n            )\n            return\n          } else {\n            const sheetObject = sheet.object(\n              theatreKey,\n              Object.assign(\n                {\n                  ...additionalProps,\n                },\n                // @ts-ignore\n                ...Object.values(config[actualType].props).map(\n                  // @ts-ignore\n                  (value) => value.type,\n                ),\n              ),\n            )\n            allRegisteredObjects.add(sheetObject)\n            setSheetObject(sheetObject)\n\n            if (objRef)\n              typeof objRef === 'function'\n                ? objRef(sheetObject)\n                : (objRef.current = sheetObject)\n\n            editorStore.getState().addEditable(storeKey, {\n              type: actualType,\n              sheetObject,\n              visibleOnlyInEditor: visible === 'editor',\n              // @ts-ignore\n              objectConfig: config[actualType],\n            })\n          }\n        }, [sheet, storeKey, additionalProps])\n\n        // store initial values of props\n        useLayoutEffect(() => {\n          if (!sheetObject) return\n          sheetObject!.initialValue = Object.fromEntries(\n            // @ts-ignore\n            Object.entries(config[actualType].props).map(\n              // @ts-ignore\n              ([key, value]) => [key, value.parse(props)],\n            ),\n          )\n        }, [\n          sheetObject,\n          // @ts-ignore\n          ...Object.keys(config[actualType].props).map(\n            // @ts-ignore\n            (key) => props[key],\n          ),\n        ])\n\n        // subscribe to prop changes from theatre\n        useLayoutEffect(() => {\n          if (!sheetObject) return\n\n          const object = objectRef.current!\n\n          const setFromTheatre = (newValues: any) => {\n            // @ts-ignore\n            Object.entries(config[actualType].props).forEach(\n              // @ts-ignore\n              ([key, value]) => value.apply(newValues[key], object),\n            )\n            // @ts-ignore\n            config[actualType].updateObject?.(object)\n            invalidate()\n          }\n\n          setFromTheatre(sheetObject.value)\n\n          const unsubscribe = sheetObject.onValuesChange(\n            setFromTheatre,\n            rafDriver,\n          )\n\n          return () => {\n            unsubscribe()\n            sheetObject.sheet.detachObject(theatreKey)\n            allRegisteredObjects.delete(sheetObject)\n            editorStore.getState().removeEditable(storeKey)\n          }\n        }, [sheetObject, rafDriver])\n\n        return (\n          // @ts-ignore\n          <Component\n            ref={mergeRefs([objectRef, ref])}\n            {...props}\n            visible={visible !== 'editor' && visible}\n            userData={{\n              __editable: true,\n              __storeKey: storeKey,\n            }}\n          />\n        )\n      },\n    )\n  }\n\n  const extensions = {\n    ...Object.fromEntries(\n      Object.keys(config).map((key) => [\n        key,\n        // @ts-ignore\n        editable(key, key),\n      ]),\n    ),\n    primitive: editable('primitive', null),\n  } as unknown as {\n    [Property in Keys]: React.ForwardRefExoticComponent<\n      Omit<JSX.IntrinsicElements[Property], 'visible'> & {\n        theatreKey: string\n        visible?: boolean | 'editor'\n        additionalProps?: $FixMe\n        objRef?: $FixMe\n        // not exactly sure how to get the type of the threejs object itself\n        ref?: Ref<unknown>\n      }\n    >\n  } & {\n    primitive: React.ForwardRefExoticComponent<\n      {\n        object: any\n        theatreKey: string\n        visible?: boolean | 'editor'\n        additionalProps?: $FixMe\n        objRef?: $FixMe\n        editableType: keyof JSX.IntrinsicElements\n        // not exactly sure how to get the type of the threejs object itself\n        ref?: Ref<unknown>\n      } & {\n        // Have to reproduce the primitive component's props here because we need to\n        // lift this index type here to the outside to make auto-complete work\n        [props: string]: any\n      }\n    >\n  }\n\n  return Object.assign(editable, extensions)\n}\n\nconst editable = createEditable<keyof typeof defaultEditableFactoryConfig>(\n  defaultEditableFactoryConfig,\n)\n\nexport default editable\n", "import type {StateCreator} from 'zustand'\nimport create from 'zustand/vanilla'\nimport type {Object3D, Scene, WebGLRenderer} from 'three'\nimport {Group} from 'three'\nimport type {ISheetObject} from '@theatre/core'\nimport type {ObjectConfig} from './editableFactoryConfigUtils'\n\nexport type TransformControlsMode = 'translate' | 'rotate' | 'scale'\nexport type TransformControlsSpace = 'world' | 'local'\nexport type ViewportShading = 'wireframe' | 'flat' | 'solid' | 'rendered'\n\nexport type BaseSheetObjectType = ISheetObject<any>\n\nexport const allRegisteredObjects = new WeakSet<BaseSheetObjectType>()\n\nexport interface Editable<T> {\n  type: string\n  sheetObject: ISheetObject<any>\n  objectConfig: ObjectConfig<T>\n  visibleOnlyInEditor: boolean\n}\n\nexport type EditableSnapshot<T extends Editable<any> = Editable<any>> = {\n  proxyObject?: Object3D | null\n} & T\n\nexport interface SerializedEditable {\n  type: string\n}\n\nexport interface EditableState {\n  editables: Record<string, SerializedEditable>\n}\n\nexport type EditorStore = {\n  scene: Scene | null\n  gl: WebGLRenderer | null\n  helpersRoot: Group\n  editables: Record<string, Editable<any>>\n  // this will come in handy when we start supporting multiple canvases\n  canvasName: string\n  sceneSnapshot: Scene | null\n  editablesSnapshot: Record<string, EditableSnapshot> | null\n\n  init: (scene: Scene, gl: WebGLRenderer) => void\n\n  addEditable: (theatreKey: string, editable: Editable<any>) => void\n  removeEditable: (theatreKey: string) => void\n  createSnapshot: () => void\n  setSnapshotProxyObject: (\n    proxyObject: Object3D | null,\n    theatreKey: string,\n  ) => void\n}\n\nconst config: StateCreator<EditorStore> = (set, get) => {\n  return {\n    sheet: null,\n    editorObject: null,\n    scene: null,\n    gl: null,\n    helpersRoot: new Group(),\n    editables: {},\n    canvasName: 'default',\n    sceneSnapshot: null,\n    editablesSnapshot: null,\n    initialEditorCamera: {},\n\n    init: (scene, gl) => {\n      set({\n        scene,\n        gl,\n      })\n\n      // Create a snapshot, so that if the editor is already open, it gets refreshed\n      // when the scene is initialized\n      get().createSnapshot()\n    },\n\n    addEditable: (theatreKey, editable) => {\n      set((state) => ({\n        editables: {\n          ...state.editables,\n          [theatreKey]: editable,\n        },\n      }))\n    },\n\n    removeEditable: (theatreKey) => {\n      set((state) => {\n        const editables = {...state.editables}\n        delete editables[theatreKey]\n        return {\n          editables,\n        }\n      })\n    },\n\n    createSnapshot: () => {\n      set((state) => ({\n        sceneSnapshot: state.scene?.clone() ?? null,\n        editablesSnapshot: state.editables,\n      }))\n    },\n\n    setSnapshotProxyObject: (proxyObject, theatreKey) => {\n      set((state) => ({\n        editablesSnapshot: {\n          ...state.editablesSnapshot,\n          [theatreKey]: {\n            ...state.editablesSnapshot![theatreKey],\n            proxyObject,\n          },\n        },\n      }))\n    },\n  }\n}\n\nexport const editorStore = create<EditorStore>(config)\n\nexport type BindFunction = (options: {\n  allowImplicitInstancing?: boolean\n  gl: WebGLRenderer\n  scene: Scene\n}) => void\n\nexport const bindToCanvas: BindFunction = ({gl, scene}) => {\n  const init = editorStore.getState().init\n  init(scene, gl)\n}\n", "import type * as React from \"react\";\n\nexport function mergeRefs<T = any>(\n  refs: Array<React.MutableRefObject<T> | React.LegacyRef<T>>\n): React.RefCallback<T> {\n  return (value) => {\n    refs.forEach((ref) => {\n      if (typeof ref === \"function\") {\n        ref(value);\n      } else if (ref != null) {\n        (ref as React.MutableRefObject<T | null>).current = value;\n      }\n    });\n  };\n}\n", "import {useThree} from '@react-three/fiber'\n\nexport default function useInvalidate() {\n  return useThree(({invalidate}) => invalidate)\n}\n", "import type {ReactNode} from 'react'\nimport React, {\n  createContext,\n  useContext,\n  useEffect,\n  useLayoutEffect,\n} from 'react'\nimport {useThree} from '@react-three/fiber'\nimport type {ISheet} from '@theatre/core'\nimport {bindToCanvas} from './store'\n\nconst ctx = createContext<{sheet: ISheet}>(undefined!)\n\nconst useWrapperContext = (): {sheet: ISheet} => {\n  const val = useContext(ctx)\n  if (!val) {\n    throw new Error(\n      `No sheet found. You need to add a <SheetProvider> higher up in the tree. https://docs.theatrejs.com/r3f.html#sheetprovider`,\n    )\n  }\n  return val\n}\n\nexport const useCurrentSheet = (): ISheet | undefined => {\n  return useWrapperContext().sheet\n}\n\nconst SheetProvider: React.FC<{\n  sheet: ISheet\n  children: ReactNode\n}> = ({sheet, children}) => {\n  const {scene, gl} = useThree((s) => ({scene: s.scene, gl: s.gl}))\n\n  useEffect(() => {\n    if (!sheet || sheet.type !== 'Theatre_Sheet_PublicAPI') {\n      throw new Error(`sheet in <Wrapper sheet={sheet}> has an invalid value`)\n    }\n  }, [sheet])\n\n  useLayoutEffect(() => {\n    bindToCanvas({gl, scene})\n  }, [scene, gl])\n\n  return <ctx.Provider value={{sheet}}>{children}</ctx.Provider>\n}\n\nexport default SheetProvider\n", "import type {UnknownShorthandCompoundProps} from '@theatre/core'\nimport {notify} from '@theatre/core'\nimport {types} from '@theatre/core'\nimport type {Object3D} from 'three'\nimport type {IconID} from '../extension/icons'\nimport {Color} from 'three'\n\nexport type Helper = Object3D & {\n  update?: () => void\n}\ntype PropConfig<T> = {\n  parse: (props: Record<string, any>) => T\n  apply: (value: T, object: any) => void\n  type: UnknownShorthandCompoundProps\n}\ntype Props = Record<string, PropConfig<any>>\ntype Meta<T> = {\n  useTransformControls: boolean\n  updateObject?: (object: T) => void\n  icon: IconID\n  dimensionless?: boolean\n  createHelper?: (object: T) => Helper\n}\nexport type ObjectConfig<T> = {props: Props} & Meta<T>\nexport type EditableFactoryConfig = Partial<\n  Record<keyof JSX.IntrinsicElements, ObjectConfig<any>>\n>\n\ntype Vector3 = {\n  x: number\n  y: number\n  z: number\n}\n\nfunction isNumber(value: any) {\n  return typeof value === 'number' && isFinite(value)\n}\n\nfunction isVectorObject(value: any) {\n  return (['x', 'y', 'z'] as const).every((axis) => isNumber(value[axis]))\n}\n\nexport const createVector = (components?: [number, number, number]) => {\n  return components\n    ? {x: components[0], y: components[1], z: components[2]}\n    : {\n        x: 0,\n        y: 0,\n        z: 0,\n      }\n}\n\nexport const createVectorPropConfig = (\n  key: string,\n  defaultValue = createVector(),\n  {nudgeMultiplier = 0.01} = {},\n): PropConfig<Vector3> => ({\n  parse: (props) => {\n    const propValue = props[key]\n    // if prop exists\n    const vector = !propValue\n      ? defaultValue\n      : // if prop is an array\n      Array.isArray(propValue)\n      ? createVector(propValue as any)\n      : // if prop is a scalar\n      isNumber(propValue)\n      ? {\n          x: propValue,\n          y: propValue,\n          z: propValue,\n        }\n      : // if prop is a threejs Vector3\n      isVectorObject(propValue)\n      ? {\n          x: propValue.x,\n          y: propValue.y,\n          z: propValue.z,\n        }\n      : // show a warning and return defaultValue\n        (notify.warning(\n          `Invalid value for vector prop \"${key}\"`,\n          `Couldn't make sense of \\`${key}={${JSON.stringify(\n            propValue,\n          )}}\\`, falling back to \\`${key}={${JSON.stringify([\n            defaultValue.x,\n            defaultValue.y,\n            defaultValue.z,\n          ])}}\\`.\n\nTo fix this, make sure the prop is set to either a number, an array of numbers, or a three.js Vector3 object.`,\n        ),\n        defaultValue)\n    ;(['x', 'y', 'z'] as const).forEach((axis) => {\n      // e.g. r3f also accepts prop keys like \"scale-x\"\n      if (props[`${key}-${axis}` as any])\n        vector[axis] = props[`${key}-${axis}` as any]\n    })\n    return vector\n  },\n  apply: (value, object) => {\n    object[key].set(value.x, value.y, value.z)\n  },\n  type: {\n    [key]: {\n      x: types.number(defaultValue.x, {nudgeMultiplier}),\n      y: types.number(defaultValue.y, {nudgeMultiplier}),\n      z: types.number(defaultValue.z, {nudgeMultiplier}),\n    },\n  },\n})\n\nexport const createNumberPropConfig = (\n  key: string,\n  defaultValue: number = 0,\n  {nudgeMultiplier = 0.01} = {},\n): PropConfig<number> => ({\n  parse: (props) => {\n    return props[key] ?? defaultValue\n  },\n  apply: (value, object) => {\n    object[key] = value\n  },\n  type: {\n    [key]: types.number(defaultValue, {nudgeMultiplier}),\n  },\n})\n\nexport type Rgba = {\n  r: number\n  g: number\n  b: number\n  a: number\n}\n\nexport const createColorPropConfig = (\n  key: string,\n  defaultValue = new Color(0, 0, 0),\n): PropConfig<Rgba> => ({\n  parse: (props) => {\n    return {...(props[key] ?? defaultValue), a: 1}\n  },\n  apply: (value, object) => {\n    object[key].setRGB(value.r, value.g, value.b)\n  },\n  type: {\n    [key]: types.rgba({...defaultValue, a: 1}),\n  },\n})\n\nexport const extendObjectProps = <T extends {props: {}}>(\n  objectConfig: T,\n  extension: Props,\n) => ({\n  ...objectConfig,\n  props: {...objectConfig.props, ...extension},\n})\n", "import type {EditableFactoryConfig} from './editableFactoryConfigUtils'\nimport {\n  createColorPropConfig,\n  createNumberPropConfig,\n  createVector,\n  createVectorPropConfig,\n  extendObjectProps,\n} from './editableFactoryConfigUtils'\nimport type {\n  DirectionalLight,\n  Object3D,\n  OrthographicCamera,\n  PerspectiveCamera,\n  PointLight,\n  SpotLight,\n} from 'three'\nimport {\n  BoxHelper,\n  CameraHelper,\n  Color,\n  DirectionalLightHelper,\n  PointLightHelper,\n  SpotLightHelper,\n} from 'three'\n\nconst baseObjectConfig = {\n  props: {\n    position: createVectorPropConfig('position'),\n    rotation: createVectorPropConfig('rotation'),\n    scale: createVectorPropConfig('scale', createVector([1, 1, 1])),\n  },\n  useTransformControls: true,\n  icon: 'cube' as const,\n  createHelper: (object: Object3D) => new BoxHelper(object, selectionColor),\n}\n\nconst baseLightConfig = {\n  ...extendObjectProps(baseObjectConfig, {\n    intensity: createNumberPropConfig('intensity', 1),\n    distance: createNumberPropConfig('distance'),\n    decay: createNumberPropConfig('decay'),\n    color: createColorPropConfig('color', new Color('white')),\n  }),\n  dimensionless: true,\n}\n\nconst baseCameraConfig = {\n  ...extendObjectProps(baseObjectConfig, {\n    near: createNumberPropConfig('near', 0.1, {nudgeMultiplier: 0.1}),\n    far: createNumberPropConfig('far', 2000, {nudgeMultiplier: 0.1}),\n  }),\n  updateObject: (camera: PerspectiveCamera | OrthographicCamera) => {\n    camera.updateProjectionMatrix()\n  },\n  icon: 'camera' as const,\n  dimensionless: true,\n  createHelper: (camera: PerspectiveCamera) => new CameraHelper(camera),\n}\n\nconst selectionColor = '#40AAA4'\n\nconst defaultEditableFactoryConfig = {\n  group: {\n    ...baseObjectConfig,\n    icon: 'collection' as const,\n    createHelper: (object: Object3D) => new BoxHelper(object, selectionColor),\n  },\n  mesh: {\n    ...baseObjectConfig,\n    icon: 'cube' as const,\n    createHelper: (object: Object3D) => new BoxHelper(object, selectionColor),\n  },\n  spotLight: {\n    ...extendObjectProps(baseLightConfig, {\n      angle: createNumberPropConfig('angle', 0, {nudgeMultiplier: 0.001}),\n      penumbra: createNumberPropConfig('penumbra', 0, {nudgeMultiplier: 0.001}),\n    }),\n    icon: 'spotLight' as const,\n    createHelper: (light: SpotLight) =>\n      new SpotLightHelper(light, selectionColor),\n  },\n  directionalLight: {\n    ...extendObjectProps(baseObjectConfig, {\n      intensity: createNumberPropConfig('intensity', 1),\n      color: createColorPropConfig('color', new Color('white')),\n    }),\n    icon: 'sun' as const,\n    dimensionless: true,\n    createHelper: (light: DirectionalLight) =>\n      new DirectionalLightHelper(light, 1, selectionColor),\n  },\n  pointLight: {\n    ...baseLightConfig,\n    icon: 'lightBulb' as const,\n    createHelper: (light: PointLight) =>\n      new PointLightHelper(light, 1, selectionColor),\n  },\n  ambientLight: {\n    props: {\n      intensity: createNumberPropConfig('intensity', 1),\n      color: createColorPropConfig('color', new Color('white')),\n    },\n    useTransformControls: false,\n    icon: 'lightBulb' as const,\n  },\n  hemisphereLight: {\n    props: {\n      intensity: createNumberPropConfig('intensity', 1),\n      color: createColorPropConfig('color', new Color('white')),\n      groundColor: createColorPropConfig('groundColor', new Color('white')),\n    },\n    useTransformControls: false,\n    icon: 'lightBulb' as const,\n  },\n  perspectiveCamera: extendObjectProps(baseCameraConfig, {\n    fov: createNumberPropConfig('fov', 50, {nudgeMultiplier: 0.1}),\n    zoom: createNumberPropConfig('zoom', 1),\n  }),\n  orthographicCamera: baseCameraConfig,\n  points: baseObjectConfig,\n  line: baseObjectConfig,\n  lineLoop: baseObjectConfig,\n  lineSegments: baseObjectConfig,\n  fog: {\n    props: {\n      color: createColorPropConfig('color'),\n      near: createNumberPropConfig('near', 1, {nudgeMultiplier: 0.1}),\n      far: createNumberPropConfig('far', 1000, {nudgeMultiplier: 0.1}),\n    },\n    useTransformControls: false,\n    icon: 'cloud' as const,\n  },\n}\n\n// Assert that the config is indeed of EditableFactoryConfig without actually\n// forcing it to that type so that we can pass the real type to the editable factory\ndefaultEditableFactoryConfig as EditableFactoryConfig\n\nexport default defaultEditableFactoryConfig\n", "import {editorStore} from './store'\nimport type {ISheetObject} from '@theatre/core'\n\nexport const refreshSnapshot = editorStore.getState().createSnapshot\n\nexport const makeStoreKey = (sheetObjectAddress: ISheetObject['address']) =>\n  `${sheetObjectAddress.sheetId}:${sheetObjectAddress.sheetInstanceId}:${sheetObjectAddress.objectKey}`\n", "import type {ReactNode} from 'react'\nimport React, {createContext, useContext, useEffect} from 'react'\nimport type {IRafDriver} from '@theatre/core'\n\nconst ctx = createContext<{rafDriver: IRafDriver}>(undefined!)\n\nexport const useCurrentRafDriver = (): IRafDriver | undefined => {\n  return useContext(ctx)?.rafDriver\n}\n\nconst RafDriverProvider: React.FC<{\n  driver: IRafDriver\n  children: ReactNode\n}> = ({driver, children}) => {\n  useEffect(() => {\n    if (!driver || driver.type !== 'Theatre_RafDriver_PublicAPI') {\n      throw new Error(\n        `driver in <RafDriverProvider deriver={driver}> has an invalid value`,\n      )\n    }\n  }, [driver])\n\n  return <ctx.Provider value={{rafDriver: driver}}>{children}</ctx.Provider>\n}\n\nexport default RafDriverProvider\n", "import React, {useEffect} from 'react'\nimport {refreshSnapshot} from './utils'\n\n/**\n * Putting this element in a suspense tree makes sure the snapshot editor\n * gets refreshed once the tree renders.\n *\n * Alternatively you can use {@link refreshSnapshot}\n *\n * @example\n * Usage\n * ```jsx\n * <Suspense fallback={null}>\n *  <RefreshSnapshot />\n *  <Model url={sceneGLB} />\n * </Suspense>\n * ```\n */\nconst RefreshSnapshot: React.FC<{}> = () => {\n  useEffect(() => {\n    setTimeout(() => {\n      refreshSnapshot()\n    })\n  }, [])\n  return <></>\n}\n\nexport default RefreshSnapshot\n", "import * as React from 'react'\nimport type {PerspectiveCamera as PerspectiveCameraImpl, Object3D} from 'three'\nimport {useFrame, useThree} from '@react-three/fiber'\nimport {mergeRefs} from 'react-merge-refs'\nimport {editable} from '../index'\nimport {Vector3} from 'three'\nimport {editorStore} from '../main/store'\nimport type {MutableRefObject} from 'react'\n\nexport type PerspectiveCameraProps = Omit<\n  JSX.IntrinsicElements['perspectiveCamera'],\n  'lookAt'\n> & {\n  lookAt?:\n    | [number, number, number]\n    | Vector3\n    | MutableRefObject<Object3D | null | undefined>\n  makeDefault?: boolean\n  manual?: boolean\n  children?: React.ReactNode\n}\n\nexport const PerspectiveCamera = editable(\n  React.forwardRef(\n    ({makeDefault, lookAt, ...props}: PerspectiveCameraProps, ref) => {\n      const set = useThree(({set}) => set)\n      const camera = useThree(({camera}) => camera)\n      const size = useThree(({size}) => size)\n      const cameraRef = React.useRef<PerspectiveCameraImpl>(null!)\n\n      React.useLayoutEffect(() => {\n        if (!props.manual) {\n          cameraRef.current.aspect = size.width / size.height\n        }\n      }, [size, props])\n\n      React.useLayoutEffect(() => {\n        cameraRef.current.updateProjectionMatrix()\n      })\n\n      React.useLayoutEffect(() => {\n        if (makeDefault) {\n          const oldCam = camera\n          set(() => ({camera: cameraRef.current!}))\n          return () => set(() => ({camera: oldCam}))\n        }\n        // The camera should not be part of the dependency list because this components camera is a stable reference\n        // that must exchange the default, and clean up after itself on unmount.\n      }, [cameraRef, makeDefault, set])\n\n      useFrame(() => {\n        if (lookAt && cameraRef.current) {\n          cameraRef.current.lookAt(\n            Array.isArray(lookAt)\n              ? new Vector3(...lookAt)\n              : (lookAt as MutableRefObject<Object3D>).current\n              ? (lookAt as MutableRefObject<Object3D>).current.position\n              : (lookAt as Vector3),\n          )\n\n          // how could we make it possible for users to do something like this too?\n          const snapshot = editorStore.getState().editablesSnapshot\n          if (snapshot) {\n            snapshot[\n              cameraRef.current.userData.__storeKey\n            ].proxyObject?.rotation.copy(cameraRef.current.rotation)\n          }\n        }\n      })\n\n      return <perspectiveCamera ref={mergeRefs([cameraRef, ref])} {...props} />\n    },\n  ),\n  'perspectiveCamera',\n)\n", "import * as React from 'react'\nimport type {\n  OrthographicCamera as OrthographicCameraImpl,\n  Object3D,\n} from 'three'\nimport {useFrame, useThree} from '@react-three/fiber'\nimport {mergeRefs} from 'react-merge-refs'\nimport {editable} from '../index'\nimport {Vector3} from 'three'\nimport type {MutableRefObject} from 'react'\nimport {editorStore} from '../main/store'\n\nexport type OrthographicCameraProps = Omit<\n  JSX.IntrinsicElements['orthographicCamera'],\n  'lookAt'\n> & {\n  lookAt?:\n    | [number, number, number]\n    | Vector3\n    | MutableRefObject<Object3D | null | undefined>\n  makeDefault?: boolean\n  manual?: boolean\n  children?: React.ReactNode\n}\n\nexport const OrthographicCamera = editable(\n  React.forwardRef(\n    ({makeDefault, lookAt, ...props}: OrthographicCameraProps, ref) => {\n      const set = useThree(({set}) => set)\n      const camera = useThree(({camera}) => camera)\n      const size = useThree(({size}) => size)\n      const cameraRef = React.useRef<OrthographicCameraImpl>(null!)\n\n      React.useLayoutEffect(() => {\n        if (!props.manual) {\n          cameraRef.current.updateProjectionMatrix()\n        }\n      }, [size, props])\n\n      React.useLayoutEffect(() => {\n        cameraRef.current.updateProjectionMatrix()\n      })\n\n      React.useLayoutEffect(() => {\n        if (makeDefault) {\n          const oldCam = camera\n          set(() => ({camera: cameraRef.current!}))\n          return () => set(() => ({camera: oldCam}))\n        }\n        // The camera should not be part of the dependency list because this components camera is a stable reference\n        // that must exchange the default, and clean up after itself on unmount.\n      }, [cameraRef, makeDefault, set])\n\n      useFrame(() => {\n        if (lookAt && cameraRef.current) {\n          cameraRef.current.lookAt(\n            Array.isArray(lookAt)\n              ? new Vector3(...lookAt)\n              : (lookAt as MutableRefObject<Object3D>).current\n              ? (lookAt as MutableRefObject<Object3D>).current.position\n              : (lookAt as Vector3),\n          )\n\n          // how could we make it possible for users to do something like this too?\n          const snapshot = editorStore.getState().editablesSnapshot\n          if (snapshot) {\n            snapshot[\n              cameraRef.current.userData.__storeKey\n            ].proxyObject?.rotation.copy(cameraRef.current.rotation)\n          }\n        }\n      })\n\n      return (\n        <orthographicCamera\n          left={size.width / -2}\n          right={size.width / 2}\n          top={size.height / 2}\n          bottom={size.height / -2}\n          ref={mergeRefs([cameraRef, ref])}\n          {...props}\n        />\n      )\n    },\n  ),\n  'orthographicCamera',\n)\n"],
  "mappings": "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",
  "names": ["import_react", "import_react", "import_core", "import_core", "import_react", "create", "setState", "getState", "subscribeWithSelector", "subscribe", "destroy", "__toESM", "editable", "useThree", "React", "Color", "ctx", "createContext", "useContext", "useEffect", "config", "notify", "useLayoutEffect", "sheetObject", "_a", "_b", "set", "camera", "size", "useFrame", "Vector3"]
}
