"use strict";var Hq=Object.create,mM=Object.freeze,L7=Object.defineProperty,Vq=Object.defineProperties,wq=Object.getOwnPropertyDescriptor,Bq=Object.getOwnPropertyDescriptors,yq=Object.getOwnPropertyNames,ve=Object.getOwnPropertySymbols,Sq=Object.getPrototypeOf,nv=Object.prototype.hasOwnProperty,MM=Object.prototype.propertyIsEnumerable;var iv=(t,a)=>{if(a=Symbol[t])return a;throw Error("Symbol."+t+" is not defined")};var ov=(t,a,c)=>a in t?L7(t,a,{enumerable:!0,configurable:!0,writable:!0,value:c}):t[a]=c,S=(t,a)=>{for(var c in a||(a={}))nv.call(a,c)&&ov(t,c,a[c]);if(ve)for(var c of ve(a))MM.call(a,c)&&ov(t,c,a[c]);return t},W=(t,a)=>Vq(t,Bq(a));var m4=(t,a)=>{var c={};for(var r in t)nv.call(t,r)&&a.indexOf(r)<0&&(c[r]=t[r]);if(t!=null&&ve)for(var r of ve(t))a.indexOf(r)<0&&MM.call(t,r)&&(c[r]=t[r]);return c};var x=(t,a)=>()=>(t&&(a=t(t=0)),a);var L1=(t,a)=>()=>(a||t((a={exports:{}}).exports,a),a.exports),fM=(t,a)=>{for(var c in a)L7(t,c,{get:a[c],enumerable:!0})},xM=(t,a,c,r)=>{if(a&&typeof a=="object"||typeof a=="function")for(let e of yq(a))!nv.call(t,e)&&e!==c&&L7(t,e,{get:()=>a[e],enumerable:!(r=wq(a,e))||r.enumerable});return t};var P=(t,a,c)=>(c=t!=null?Hq(Sq(t)):{},xM(a||!t||!t.__esModule?L7(c,"default",{value:t,enumerable:!0}):c,t)),kq=t=>xM(L7({},"__esModule",{value:!0}),t);var y1=(t,a,c)=>(ov(t,typeof a!="symbol"?a+"":a,c),c);var V=(t,a)=>mM(L7(t,"raw",{value:mM(a||t.slice())})),e2=(t,a,c)=>new Promise((r,e)=>{var l=n=>{try{o(c.next(n))}catch(h){e(h)}},i=n=>{try{o(c.throw(n))}catch(h){e(h)}},o=n=>n.done?r(n.value):Promise.resolve(n.value).then(l,i);o((c=c.apply(t,a)).next())}),Aq=function(t,a){this[0]=t,this[1]=a};var CM=t=>{var a=t[iv("asyncIterator")],c=!1,r,e={};return a==null?(a=t[iv("iterator")](),r=l=>e[l]=i=>a[l](i)):(a=a.call(t),r=l=>e[l]=i=>{if(c){if(c=!1,l==="throw")throw i;return i}return c=!0,{done:!1,value:new Aq(new Promise(o=>{var n=a[l](i);if(!(n instanceof Object))throw TypeError("Object expected");o(n)}),1)}}),e[iv("iterator")]=()=>e,r("next"),"throw"in a?r("throw"):e.throw=l=>{throw l},"return"in a&&r("return"),e};function HM(t){LM=t}function Z(){return LM}var LM,m1=x(()=>{"use strict"});function j5(t,a,c=[]){if(typeof t=="object"&&t){if(Rq(t)||bq(t)){a(t,c);return}for(let[r,e]of Object.entries(t))j5(e,a,[...c,r])}else{if(t==null)return;a(t,c)}}var Rq,bq,ge=x(()=>{"use strict";Rq=t=>typeof t=="object"&&t!==null&&Object.hasOwnProperty.call(t,"type")&&t.type==="image"&&Object.hasOwnProperty.call(t,"id")&&typeof t.id=="string"&&t.id!=="",bq=t=>typeof t=="object"&&t!==null&&Object.hasOwnProperty.call(t,"r")&&Object.hasOwnProperty.call(t,"g")&&Object.hasOwnProperty.call(t,"b")&&Object.hasOwnProperty.call(t,"a")&&typeof t.r=="number"&&typeof t.g=="number"&&typeof t.b=="number"&&typeof t.a=="number"});function q5(t){return a=>typeof a=="object"&&!!a&&a.type===t}var de,H7,VM,c0,wM,sl1,hv,vv,N5=x(()=>{"use strict";de=q5("Theatre_Project"),H7=q5("Theatre_Sheet"),VM=q5("Theatre_SheetTemplate"),c0=q5("Theatre_SheetObject"),wM=q5("Theatre_SheetObjectTemplate"),sl1=q5("Theatre_Project_PublicAPI"),hv=q5("Theatre_Sheet_PublicAPI"),vv=q5("Theatre_SheetObject_PublicAPI")});var Iq,se,dv=x(()=>{Iq=typeof global=="object"&&global&&global.Object===Object&&global,se=Iq});var Pq,Gq,g2,m3=x(()=>{dv();Pq=typeof self=="object"&&self&&self.Object===Object&&self,Gq=se||Pq||Function("return this")(),g2=Gq});var Tq,p0,V7=x(()=>{m3();Tq=g2.Symbol,p0=Tq});function Eq(t){var a=Zq.call(t,ta),c=t[ta];try{t[ta]=void 0;var r=!0}catch(l){}var e=Oq.call(t);return r&&(a?t[ta]=c:delete t[ta]),e}var BM,Zq,Oq,ta,yM,SM=x(()=>{V7();BM=Object.prototype,Zq=BM.hasOwnProperty,Oq=BM.toString,ta=p0?p0.toStringTag:void 0;yM=Eq});function _q(t){return Wq.call(t)}var Dq,Wq,kM,AM=x(()=>{Dq=Object.prototype,Wq=Dq.toString;kM=_q});function Nq(t){return t==null?t===void 0?qq:jq:RM&&RM in Object(t)?yM(t):kM(t)}var jq,qq,RM,q0,p8=x(()=>{V7();SM();AM();jq="[object Null]",qq="[object Undefined]",RM=p0?p0.toStringTag:void 0;q0=Nq});function Uq(t){return t!=null&&typeof t=="object"}var N0,m8=x(()=>{N0=Uq});function $q(t){return typeof t=="symbol"||N0(t)&&q0(t)==Kq}var Kq,E3,w7=x(()=>{p8();m8();Kq="[object Symbol]";E3=$q});function Qq(t,a){for(var c=-1,r=t==null?0:t.length,e=Array(r);++c<r;)e[c]=a(t[c],c,t);return e}var U5,ze=x(()=>{U5=Qq});var Xq,o2,M3=x(()=>{Xq=Array.isArray,o2=Xq});function IM(t){if(typeof t=="string")return t;if(o2(t))return U5(t,IM)+"";if(E3(t))return FM?FM.call(t):"";var a=t+"";return a=="0"&&1/t==-Yq?"-0":a}var Yq,bM,FM,PM,GM=x(()=>{V7();ze();M3();w7();Yq=1/0,bM=p0?p0.prototype:void 0,FM=bM?bM.toString:void 0;PM=IM});function tN(t){for(var a=t.length;a--&&Jq.test(t.charAt(a)););return a}var Jq,TM,ZM=x(()=>{Jq=/\s/;TM=tN});function cN(t){return t&&t.slice(0,TM(t)+1).replace(aN,"")}var aN,OM,EM=x(()=>{ZM();aN=/^\s+/;OM=cN});function rN(t){var a=typeof t;return t!=null&&(a=="object"||a=="function")}var r0,K5=x(()=>{r0=rN});function nN(t){if(typeof t=="number")return t;if(E3(t))return DM;if(r0(t)){var a=typeof t.valueOf=="function"?t.valueOf():t;t=r0(a)?a+"":a}if(typeof t!="string")return t===0?t:+t;t=OM(t);var c=lN.test(t);return c||iN.test(t)?oN(t.slice(2),c?2:8):eN.test(t)?DM:+t}var DM,eN,lN,iN,oN,U0,B7=x(()=>{EM();K5();w7();DM=0/0,eN=/^[-+]0x[0-9a-f]+$/i,lN=/^0b[01]+$/i,iN=/^0o[0-7]+$/i,oN=parseInt;U0=nN});function vN(t){if(!t)return t===0?t:0;if(t=U0(t),t===WM||t===-WM){var a=t<0?-1:1;return a*hN}return t===t?t:0}var WM,hN,aa,sv=x(()=>{B7();WM=1/0,hN=17976931348623157e292;aa=vN});function gN(t){var a=aa(t),c=a%1;return a===a?c?a-c:a:0}var $5,ca=x(()=>{sv();$5=gN});function dN(t){return t}var Q5,ra=x(()=>{Q5=dN});function mN(t){if(!r0(t))return!1;var a=q0(t);return a==zN||a==uN||a==sN||a==pN}var sN,zN,uN,pN,ue,zv=x(()=>{p8();K5();sN="[object AsyncFunction]",zN="[object Function]",uN="[object GeneratorFunction]",pN="[object Proxy]";ue=mN});var MN,pe,_M=x(()=>{m3();MN=g2["__core-js_shared__"],pe=MN});function fN(t){return!!jM&&jM in t}var jM,qM,NM=x(()=>{_M();jM=function(){var t=/[^.]+$/.exec(pe&&pe.keys&&pe.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();qM=fN});function LN(t){if(t!=null){try{return CN.call(t)}catch(a){}try{return t+""}catch(a){}}return""}var xN,CN,c5,uv=x(()=>{xN=Function.prototype,CN=xN.toString;c5=LN});function AN(t){if(!r0(t)||qM(t))return!1;var a=ue(t)?kN:VN;return a.test(c5(t))}var HN,VN,wN,BN,yN,SN,kN,UM,KM=x(()=>{zv();NM();K5();uv();HN=/[\\^$.*+?()[\]{}|]/g,VN=/^\[object .+?Constructor\]$/,wN=Function.prototype,BN=Object.prototype,yN=wN.toString,SN=BN.hasOwnProperty,kN=RegExp("^"+yN.call(SN).replace(HN,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");UM=AN});function RN(t,a){return t==null?void 0:t[a]}var $M,QM=x(()=>{$M=RN});function bN(t,a){var c=$M(t,a);return UM(c)?c:void 0}var w0,X5=x(()=>{KM();QM();w0=bN});var FN,me,XM=x(()=>{X5();m3();FN=w0(g2,"WeakMap"),me=FN});function IN(t,a,c){switch(c.length){case 0:return t.call(a);case 1:return t.call(a,c[0]);case 2:return t.call(a,c[0],c[1]);case 3:return t.call(a,c[0],c[1],c[2])}return t.apply(a,c)}var YM,JM=x(()=>{YM=IN});function PN(){}var tf,af=x(()=>{tf=PN});function GN(t,a){var c=-1,r=t.length;for(a||(a=Array(r));++c<r;)a[c]=t[c];return a}var cf,rf=x(()=>{cf=GN});function EN(t){var a=0,c=0;return function(){var r=ON(),e=ZN-(r-c);if(c=r,e>0){if(++a>=TN)return arguments[0]}else a=0;return t.apply(void 0,arguments)}}var TN,ZN,ON,ef,lf=x(()=>{TN=800,ZN=16,ON=Date.now;ef=EN});function DN(t){return function(){return t}}var of,nf=x(()=>{of=DN});var WN,y7,pv=x(()=>{X5();WN=function(){try{var t=w0(Object,"defineProperty");return t({},"",{}),t}catch(a){}}(),y7=WN});var _N,hf,vf=x(()=>{nf();pv();ra();_N=y7?function(t,a){return y7(t,"toString",{configurable:!0,enumerable:!1,value:of(a),writable:!0})}:Q5,hf=_N});var jN,gf,df=x(()=>{vf();lf();jN=ef(hf),gf=jN});function qN(t,a,c,r){for(var e=t.length,l=c+(r?1:-1);r?l--:++l<e;)if(a(t[l],l,t))return l;return-1}var S7,Me=x(()=>{S7=qN});function NN(t){return t!==t}var sf,zf=x(()=>{sf=NN});function UN(t,a,c){for(var r=c-1,e=t.length;++r<e;)if(t[r]===a)return r;return-1}var uf,pf=x(()=>{uf=UN});function KN(t,a,c){return a===a?uf(t,a,c):S7(t,sf,c)}var fe,mv=x(()=>{Me();zf();pf();fe=KN});function $N(t,a){var c=t==null?0:t.length;return!!c&&fe(t,a,0)>-1}var mf,Mf=x(()=>{mv();mf=$N});function YN(t,a){var c=typeof t;return a=a==null?QN:a,!!a&&(c=="number"||c!="symbol"&&XN.test(t))&&t>-1&&t%1==0&&t<a}var QN,XN,Y5,ea=x(()=>{QN=9007199254740991,XN=/^(?:0|[1-9]\d*)$/;Y5=YN});function JN(t,a,c){a=="__proto__"&&y7?y7(t,a,{configurable:!0,enumerable:!0,value:c,writable:!0}):t[a]=c}var k7,xe=x(()=>{pv();k7=JN});function tU(t,a){return t===a||t!==t&&a!==a}var J5,la=x(()=>{J5=tU});function rU(t,a,c){var r=t[a];(!(cU.call(t,a)&&J5(r,c))||c===void 0&&!(a in t))&&k7(t,a,c)}var aU,cU,ff,xf=x(()=>{xe();la();aU=Object.prototype,cU=aU.hasOwnProperty;ff=rU});function eU(t,a,c){return a=Cf(a===void 0?t.length-1:a,0),function(){for(var r=arguments,e=-1,l=Cf(r.length-a,0),i=Array(l);++e<l;)i[e]=r[a+e];e=-1;for(var o=Array(a+1);++e<a;)o[e]=r[e];return o[a]=c(i),YM(t,this,o)}}var Cf,Lf,Hf=x(()=>{JM();Cf=Math.max;Lf=eU});function lU(t,a){return gf(Lf(t,a,Q5),t+"")}var Ce,Mv=x(()=>{ra();Hf();df();Ce=lU});function oU(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=iU}var iU,A7,Le=x(()=>{iU=9007199254740991;A7=oU});function nU(t){return t!=null&&A7(t.length)&&!ue(t)}var t6,ia=x(()=>{zv();Le();t6=nU});function hU(t,a,c){if(!r0(c))return!1;var r=typeof a;return(r=="number"?t6(c)&&Y5(a,c.length):r=="string"&&a in c)?J5(c[a],t):!1}var fv,Vf=x(()=>{la();ia();ea();K5();fv=hU});function gU(t){var a=t&&t.constructor,c=typeof a=="function"&&a.prototype||vU;return t===c}var vU,wf,Bf=x(()=>{vU=Object.prototype;wf=gU});function dU(t,a){for(var c=-1,r=Array(t);++c<t;)r[c]=a(c);return r}var yf,Sf=x(()=>{yf=dU});function zU(t){return N0(t)&&q0(t)==sU}var sU,xv,kf=x(()=>{p8();m8();sU="[object Arguments]";xv=zU});var Af,uU,pU,mU,R7,He=x(()=>{kf();m8();Af=Object.prototype,uU=Af.hasOwnProperty,pU=Af.propertyIsEnumerable,mU=xv(function(){return arguments}())?xv:function(t){return N0(t)&&uU.call(t,"callee")&&!pU.call(t,"callee")},R7=mU});function MU(){return!1}var Rf,bf=x(()=>{Rf=MU});var Pf,Ff,fU,If,xU,CU,oa,Cv=x(()=>{m3();bf();Pf=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ff=Pf&&typeof module=="object"&&module&&!module.nodeType&&module,fU=Ff&&Ff.exports===Pf,If=fU?g2.Buffer:void 0,xU=If?If.isBuffer:void 0,CU=xU||Rf,oa=CU});function NU(t){return N0(t)&&A7(t.length)&&!!J1[q0(t)]}var LU,HU,VU,wU,BU,yU,SU,kU,AU,RU,bU,FU,IU,PU,GU,TU,ZU,OU,EU,DU,WU,_U,jU,qU,J1,Gf,Tf=x(()=>{p8();Le();m8();LU="[object Arguments]",HU="[object Array]",VU="[object Boolean]",wU="[object Date]",BU="[object Error]",yU="[object Function]",SU="[object Map]",kU="[object Number]",AU="[object Object]",RU="[object RegExp]",bU="[object Set]",FU="[object String]",IU="[object WeakMap]",PU="[object ArrayBuffer]",GU="[object DataView]",TU="[object Float32Array]",ZU="[object Float64Array]",OU="[object Int8Array]",EU="[object Int16Array]",DU="[object Int32Array]",WU="[object Uint8Array]",_U="[object Uint8ClampedArray]",jU="[object Uint16Array]",qU="[object Uint32Array]",J1={};J1[TU]=J1[ZU]=J1[OU]=J1[EU]=J1[DU]=J1[WU]=J1[_U]=J1[jU]=J1[qU]=!0;J1[LU]=J1[HU]=J1[PU]=J1[VU]=J1[GU]=J1[wU]=J1[BU]=J1[yU]=J1[SU]=J1[kU]=J1[AU]=J1[RU]=J1[bU]=J1[FU]=J1[IU]=!1;Gf=NU});function UU(t){return function(a){return t(a)}}var b7,Ve=x(()=>{b7=UU});var Zf,na,KU,Lv,$U,Hv,Of=x(()=>{dv();Zf=typeof exports=="object"&&exports&&!exports.nodeType&&exports,na=Zf&&typeof module=="object"&&module&&!module.nodeType&&module,KU=na&&na.exports===Zf,Lv=KU&&se.process,$U=function(){try{var t=na&&na.require&&na.require("util").types;return t||Lv&&Lv.binding&&Lv.binding("util")}catch(a){}}(),Hv=$U});var Ef,QU,we,Vv=x(()=>{Tf();Ve();Of();Ef=Hv&&Hv.isTypedArray,QU=Ef?b7(Ef):Gf,we=QU});function JU(t,a){var c=o2(t),r=!c&&R7(t),e=!c&&!r&&oa(t),l=!c&&!r&&!e&&we(t),i=c||r||e||l,o=i?yf(t.length,String):[],n=o.length;for(var h in t)(a||YU.call(t,h))&&!(i&&(h=="length"||e&&(h=="offset"||h=="parent")||l&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||Y5(h,n)))&&o.push(h);return o}var XU,YU,Df,Wf=x(()=>{Sf();He();M3();Cv();ea();Vv();XU=Object.prototype,YU=XU.hasOwnProperty;Df=JU});function tK(t,a){return function(c){return t(a(c))}}var Be,wv=x(()=>{Be=tK});var aK,_f,jf=x(()=>{wv();aK=Be(Object.keys,Object),_f=aK});function eK(t){if(!wf(t))return _f(t);var a=[];for(var c in Object(t))rK.call(t,c)&&c!="constructor"&&a.push(c);return a}var cK,rK,qf,Nf=x(()=>{Bf();jf();cK=Object.prototype,rK=cK.hasOwnProperty;qf=eK});function lK(t){return t6(t)?Df(t):qf(t)}var F7,ye=x(()=>{Wf();Nf();ia();F7=lK});function nK(t,a){if(o2(t))return!1;var c=typeof t;return c=="number"||c=="symbol"||c=="boolean"||t==null||E3(t)?!0:oK.test(t)||!iK.test(t)||a!=null&&t in Object(a)}var iK,oK,I7,Se=x(()=>{M3();w7();iK=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,oK=/^\w*$/;I7=nK});var hK,r5,ha=x(()=>{X5();hK=w0(Object,"create"),r5=hK});function vK(){this.__data__=r5?r5(null):{},this.size=0}var Uf,Kf=x(()=>{ha();Uf=vK});function gK(t){var a=this.has(t)&&delete this.__data__[t];return this.size-=a?1:0,a}var $f,Qf=x(()=>{$f=gK});function uK(t){var a=this.__data__;if(r5){var c=a[t];return c===dK?void 0:c}return zK.call(a,t)?a[t]:void 0}var dK,sK,zK,Xf,Yf=x(()=>{ha();dK="__lodash_hash_undefined__",sK=Object.prototype,zK=sK.hasOwnProperty;Xf=uK});function MK(t){var a=this.__data__;return r5?a[t]!==void 0:mK.call(a,t)}var pK,mK,Jf,tx=x(()=>{ha();pK=Object.prototype,mK=pK.hasOwnProperty;Jf=MK});function xK(t,a){var c=this.__data__;return this.size+=this.has(t)?0:1,c[t]=r5&&a===void 0?fK:a,this}var fK,ax,cx=x(()=>{ha();fK="__lodash_hash_undefined__";ax=xK});function P7(t){var a=-1,c=t==null?0:t.length;for(this.clear();++a<c;){var r=t[a];this.set(r[0],r[1])}}var Bv,rx=x(()=>{Kf();Qf();Yf();tx();cx();P7.prototype.clear=Uf;P7.prototype.delete=$f;P7.prototype.get=Xf;P7.prototype.has=Jf;P7.prototype.set=ax;Bv=P7});function CK(){this.__data__=[],this.size=0}var ex,lx=x(()=>{ex=CK});function LK(t,a){for(var c=t.length;c--;)if(J5(t[c][0],a))return c;return-1}var a6,va=x(()=>{la();a6=LK});function wK(t){var a=this.__data__,c=a6(a,t);if(c<0)return!1;var r=a.length-1;return c==r?a.pop():VK.call(a,c,1),--this.size,!0}var HK,VK,ix,ox=x(()=>{va();HK=Array.prototype,VK=HK.splice;ix=wK});function BK(t){var a=this.__data__,c=a6(a,t);return c<0?void 0:a[c][1]}var nx,hx=x(()=>{va();nx=BK});function yK(t){return a6(this.__data__,t)>-1}var vx,gx=x(()=>{va();vx=yK});function SK(t,a){var c=this.__data__,r=a6(c,t);return r<0?(++this.size,c.push([t,a])):c[r][1]=a,this}var dx,sx=x(()=>{va();dx=SK});function G7(t){var a=-1,c=t==null?0:t.length;for(this.clear();++a<c;){var r=t[a];this.set(r[0],r[1])}}var c6,ga=x(()=>{lx();ox();hx();gx();sx();G7.prototype.clear=ex;G7.prototype.delete=ix;G7.prototype.get=nx;G7.prototype.has=vx;G7.prototype.set=dx;c6=G7});var kK,r6,ke=x(()=>{X5();m3();kK=w0(g2,"Map"),r6=kK});function AK(){this.size=0,this.__data__={hash:new Bv,map:new(r6||c6),string:new Bv}}var zx,ux=x(()=>{rx();ga();ke();zx=AK});function RK(t){var a=typeof t;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?t!=="__proto__":t===null}var px,mx=x(()=>{px=RK});function bK(t,a){var c=t.__data__;return px(a)?c[typeof a=="string"?"string":"hash"]:c.map}var e6,da=x(()=>{mx();e6=bK});function FK(t){var a=e6(this,t).delete(t);return this.size-=a?1:0,a}var Mx,fx=x(()=>{da();Mx=FK});function IK(t){return e6(this,t).get(t)}var xx,Cx=x(()=>{da();xx=IK});function PK(t){return e6(this,t).has(t)}var Lx,Hx=x(()=>{da();Lx=PK});function GK(t,a){var c=e6(this,t),r=c.size;return c.set(t,a),this.size+=c.size==r?0:1,this}var Vx,wx=x(()=>{da();Vx=GK});function T7(t){var a=-1,c=t==null?0:t.length;for(this.clear();++a<c;){var r=t[a];this.set(r[0],r[1])}}var M8,Ae=x(()=>{ux();fx();Cx();Hx();wx();T7.prototype.clear=zx;T7.prototype.delete=Mx;T7.prototype.get=xx;T7.prototype.has=Lx;T7.prototype.set=Vx;M8=T7});function yv(t,a){if(typeof t!="function"||a!=null&&typeof a!="function")throw new TypeError(TK);var c=function(){var r=arguments,e=a?a.apply(this,r):r[0],l=c.cache;if(l.has(e))return l.get(e);var i=t.apply(this,r);return c.cache=l.set(e,i)||l,i};return c.cache=new(yv.Cache||M8),c}var TK,sa,Sv=x(()=>{Ae();TK="Expected a function";yv.Cache=M8;sa=yv});function OK(t){var a=sa(t,function(r){return c.size===ZK&&c.clear(),r}),c=a.cache;return a}var ZK,Bx,yx=x(()=>{Sv();ZK=500;Bx=OK});var EK,DK,WK,Sx,kx=x(()=>{yx();EK=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,DK=/\\(\\)?/g,WK=Bx(function(t){var a=[];return t.charCodeAt(0)===46&&a.push(""),t.replace(EK,function(c,r,e,l){a.push(e?l.replace(DK,"$1"):r||c)}),a}),Sx=WK});function _K(t){return t==null?"":PM(t)}var za,kv=x(()=>{GM();za=_K});function jK(t,a){return o2(t)?t:I7(t,a)?[t]:Sx(za(t))}var Z7,Re=x(()=>{M3();Se();kx();kv();Z7=jK});function NK(t){if(typeof t=="string"||E3(t))return t;var a=t+"";return a=="0"&&1/t==-qK?"-0":a}var qK,M4,O7=x(()=>{w7();qK=1/0;M4=NK});function UK(t,a){a=Z7(a,t);for(var c=0,r=a.length;t!=null&&c<r;)t=t[M4(a[c++])];return c&&c==r?t:void 0}var E7,be=x(()=>{Re();O7();E7=UK});function KK(t,a,c){var r=t==null?void 0:E7(t,a);return r===void 0?c:r}var D3,D7=x(()=>{be();D3=KK});function $K(t,a){for(var c=-1,r=a.length,e=t.length;++c<r;)t[e+c]=a[c];return t}var Fe,Av=x(()=>{Fe=$K});function QK(t){return o2(t)||R7(t)||!!(Ax&&t&&t[Ax])}var Ax,Rx,bx=x(()=>{V7();He();M3();Ax=p0?p0.isConcatSpreadable:void 0;Rx=QK});function Fx(t,a,c,r,e){var l=-1,i=t.length;for(c||(c=Rx),e||(e=[]);++l<i;){var o=t[l];a>0&&c(o)?a>1?Fx(o,a-1,c,r,e):Fe(e,o):r||(e[e.length]=o)}return e}var Ix,Px=x(()=>{Av();bx();Ix=Fx});var XK,Gx,Tx=x(()=>{wv();XK=Be(Object.getPrototypeOf,Object),Gx=XK});function r$(t){if(!N0(t)||q0(t)!=YK)return!1;var a=Gx(t);if(a===null)return!0;var c=a$.call(a,"constructor")&&a.constructor;return typeof c=="function"&&c instanceof c&&Zx.call(c)==c$}var YK,JK,t$,Zx,a$,c$,f8,Rv=x(()=>{p8();Tx();m8();YK="[object Object]",JK=Function.prototype,t$=Object.prototype,Zx=JK.toString,a$=t$.hasOwnProperty,c$=Zx.call(Object);f8=r$});function i$(t){var a=Math[t];return function(c,r){if(c=U0(c),r=r==null?0:l$($5(r),292),r&&e$(c)){var e=(za(c)+"e").split("e"),l=a(e[0]+"e"+(+e[1]+r));return e=(za(l)+"e").split("e"),+(e[0]+"e"+(+e[1]-r))}return a(c)}}var e$,l$,Ox,Ex=x(()=>{m3();ca();B7();kv();e$=g2.isFinite,l$=Math.min;Ox=i$});function o$(t,a,c){return t===t&&(c!==void 0&&(t=t<=c?t:c),a!==void 0&&(t=t>=a?t:a)),t}var Dx,Wx=x(()=>{Dx=o$});function n$(t,a,c){return c===void 0&&(c=a,a=void 0),c!==void 0&&(c=U0(c),c=c===c?c:0),a!==void 0&&(a=U0(a),a=a===a?a:0),Dx(U0(t),a,c)}var F1,ua=x(()=>{Wx();B7();F1=n$});function h$(){this.__data__=new c6,this.size=0}var _x,jx=x(()=>{ga();_x=h$});function v$(t){var a=this.__data__,c=a.delete(t);return this.size=a.size,c}var qx,Nx=x(()=>{qx=v$});function g$(t){return this.__data__.get(t)}var Ux,Kx=x(()=>{Ux=g$});function d$(t){return this.__data__.has(t)}var $x,Qx=x(()=>{$x=d$});function z$(t,a){var c=this.__data__;if(c instanceof c6){var r=c.__data__;if(!r6||r.length<s$-1)return r.push([t,a]),this.size=++c.size,this;c=this.__data__=new M8(r)}return c.set(t,a),this.size=c.size,this}var s$,Xx,Yx=x(()=>{ga();ke();Ae();s$=200;Xx=z$});function W7(t){var a=this.__data__=new c6(t);this.size=a.size}var _7,bv=x(()=>{ga();jx();Nx();Kx();Qx();Yx();W7.prototype.clear=_x;W7.prototype.delete=qx;W7.prototype.get=Ux;W7.prototype.has=$x;W7.prototype.set=Xx;_7=W7});function u$(t,a){for(var c=-1,r=t==null?0:t.length,e=0,l=[];++c<r;){var i=t[c];a(i,c,t)&&(l[e++]=i)}return l}var Jx,tC=x(()=>{Jx=u$});function p$(){return[]}var aC,cC=x(()=>{aC=p$});var m$,M$,rC,f$,eC,lC=x(()=>{tC();cC();m$=Object.prototype,M$=m$.propertyIsEnumerable,rC=Object.getOwnPropertySymbols,f$=rC?function(t){return t==null?[]:(t=Object(t),Jx(rC(t),function(a){return M$.call(t,a)}))}:aC,eC=f$});function x$(t,a,c){var r=a(t);return o2(t)?r:Fe(r,c(t))}var iC,oC=x(()=>{Av();M3();iC=x$});function C$(t){return iC(t,F7,eC)}var Fv,nC=x(()=>{oC();lC();ye();Fv=C$});var L$,Ie,hC=x(()=>{X5();m3();L$=w0(g2,"DataView"),Ie=L$});var H$,Pe,vC=x(()=>{X5();m3();H$=w0(g2,"Promise"),Pe=H$});var V$,l6,Iv=x(()=>{X5();m3();V$=w0(g2,"Set"),l6=V$});var gC,w$,dC,sC,zC,uC,B$,y$,S$,k$,A$,x8,Pv,pC=x(()=>{hC();ke();vC();Iv();XM();p8();uv();gC="[object Map]",w$="[object Object]",dC="[object Promise]",sC="[object Set]",zC="[object WeakMap]",uC="[object DataView]",B$=c5(Ie),y$=c5(r6),S$=c5(Pe),k$=c5(l6),A$=c5(me),x8=q0;(Ie&&x8(new Ie(new ArrayBuffer(1)))!=uC||r6&&x8(new r6)!=gC||Pe&&x8(Pe.resolve())!=dC||l6&&x8(new l6)!=sC||me&&x8(new me)!=zC)&&(x8=function(t){var a=q0(t),c=a==w$?t.constructor:void 0,r=c?c5(c):"";if(r)switch(r){case B$:return uC;case y$:return gC;case S$:return dC;case k$:return sC;case A$:return zC}return a});Pv=x8});var R$,Gv,mC=x(()=>{m3();R$=g2.Uint8Array,Gv=R$});function F$(t){return this.__data__.set(t,b$),this}var b$,MC,fC=x(()=>{b$="__lodash_hash_undefined__";MC=F$});function I$(t){return this.__data__.has(t)}var xC,CC=x(()=>{xC=I$});function Ge(t){var a=-1,c=t==null?0:t.length;for(this.__data__=new M8;++a<c;)this.add(t[a])}var Te,Tv=x(()=>{Ae();fC();CC();Ge.prototype.add=Ge.prototype.push=MC;Ge.prototype.has=xC;Te=Ge});function P$(t,a){for(var c=-1,r=t==null?0:t.length;++c<r;)if(a(t[c],c,t))return!0;return!1}var LC,HC=x(()=>{LC=P$});function G$(t,a){return t.has(a)}var Ze,Zv=x(()=>{Ze=G$});function O$(t,a,c,r,e,l){var i=c&T$,o=t.length,n=a.length;if(o!=n&&!(i&&n>o))return!1;var h=l.get(t),v=l.get(a);if(h&&v)return h==a&&v==t;var g=-1,s=!0,d=c&Z$?new Te:void 0;for(l.set(t,a),l.set(a,t);++g<o;){var z=t[g],u=a[g];if(r)var M=i?r(u,z,g,a,t,l):r(z,u,g,t,a,l);if(M!==void 0){if(M)continue;s=!1;break}if(d){if(!LC(a,function(m,p){if(!Ze(d,p)&&(z===m||e(z,m,c,r,l)))return d.push(p)})){s=!1;break}}else if(!(z===u||e(z,u,c,r,l))){s=!1;break}}return l.delete(t),l.delete(a),s}var T$,Z$,Oe,Ov=x(()=>{Tv();HC();Zv();T$=1,Z$=2;Oe=O$});function E$(t){var a=-1,c=Array(t.size);return t.forEach(function(r,e){c[++a]=[e,r]}),c}var VC,wC=x(()=>{VC=E$});function D$(t){var a=-1,c=Array(t.size);return t.forEach(function(r){c[++a]=r}),c}var j7,Ee=x(()=>{j7=D$});function aQ(t,a,c,r,e,l,i){switch(c){case tQ:if(t.byteLength!=a.byteLength||t.byteOffset!=a.byteOffset)return!1;t=t.buffer,a=a.buffer;case J$:return!(t.byteLength!=a.byteLength||!l(new Gv(t),new Gv(a)));case j$:case q$:case K$:return J5(+t,+a);case N$:return t.name==a.name&&t.message==a.message;case $$:case X$:return t==a+"";case U$:var o=VC;case Q$:var n=r&W$;if(o||(o=j7),t.size!=a.size&&!n)return!1;var h=i.get(t);if(h)return h==a;r|=_$,i.set(t,a);var v=Oe(o(t),o(a),r,e,l,i);return i.delete(t),v;case Y$:if(Ev)return Ev.call(t)==Ev.call(a)}return!1}var W$,_$,j$,q$,N$,U$,K$,$$,Q$,X$,Y$,J$,tQ,BC,Ev,yC,SC=x(()=>{V7();mC();la();Ov();wC();Ee();W$=1,_$=2,j$="[object Boolean]",q$="[object Date]",N$="[object Error]",U$="[object Map]",K$="[object Number]",$$="[object RegExp]",Q$="[object Set]",X$="[object String]",Y$="[object Symbol]",J$="[object ArrayBuffer]",tQ="[object DataView]",BC=p0?p0.prototype:void 0,Ev=BC?BC.valueOf:void 0;yC=aQ});function lQ(t,a,c,r,e,l){var i=c&cQ,o=Fv(t),n=o.length,h=Fv(a),v=h.length;if(n!=v&&!i)return!1;for(var g=n;g--;){var s=o[g];if(!(i?s in a:eQ.call(a,s)))return!1}var d=l.get(t),z=l.get(a);if(d&&z)return d==a&&z==t;var u=!0;l.set(t,a),l.set(a,t);for(var M=i;++g<n;){s=o[g];var m=t[s],p=a[s];if(r)var f=i?r(p,m,s,a,t,l):r(m,p,s,t,a,l);if(!(f===void 0?m===p||e(m,p,c,r,l):f)){u=!1;break}M||(M=s=="constructor")}if(u&&!M){var H=t.constructor,w=a.constructor;H!=w&&"constructor"in t&&"constructor"in a&&!(typeof H=="function"&&H instanceof H&&typeof w=="function"&&w instanceof w)&&(u=!1)}return l.delete(t),l.delete(a),u}var cQ,rQ,eQ,kC,AC=x(()=>{nC();cQ=1,rQ=Object.prototype,eQ=rQ.hasOwnProperty;kC=lQ});function nQ(t,a,c,r,e,l){var i=o2(t),o=o2(a),n=i?bC:Pv(t),h=o?bC:Pv(a);n=n==RC?De:n,h=h==RC?De:h;var v=n==De,g=h==De,s=n==h;if(s&&oa(t)){if(!oa(a))return!1;i=!0,v=!1}if(s&&!v)return l||(l=new _7),i||we(t)?Oe(t,a,c,r,e,l):yC(t,a,n,c,r,e,l);if(!(c&iQ)){var d=v&&FC.call(t,"__wrapped__"),z=g&&FC.call(a,"__wrapped__");if(d||z){var u=d?t.value():t,M=z?a.value():a;return l||(l=new _7),e(u,M,c,r,l)}}return s?(l||(l=new _7),kC(t,a,c,r,e,l)):!1}var iQ,RC,bC,De,oQ,FC,IC,PC=x(()=>{bv();Ov();SC();AC();pC();M3();Cv();Vv();iQ=1,RC="[object Arguments]",bC="[object Array]",De="[object Object]",oQ=Object.prototype,FC=oQ.hasOwnProperty;IC=nQ});function GC(t,a,c,r,e){return t===a?!0:t==null||a==null||!N0(t)&&!N0(a)?t!==t&&a!==a:IC(t,a,c,r,GC,e)}var We,Dv=x(()=>{PC();m8();We=GC});function gQ(t,a,c,r){var e=c.length,l=e,i=!r;if(t==null)return!l;for(t=Object(t);e--;){var o=c[e];if(i&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++e<l;){o=c[e];var n=o[0],h=t[n],v=o[1];if(i&&o[2]){if(h===void 0&&!(n in t))return!1}else{var g=new _7;if(r)var s=r(h,v,n,t,a,g);if(!(s===void 0?We(v,h,hQ|vQ,r,g):s))return!1}}return!0}var hQ,vQ,TC,ZC=x(()=>{bv();Dv();hQ=1,vQ=2;TC=gQ});function dQ(t){return t===t&&!r0(t)}var _e,Wv=x(()=>{K5();_e=dQ});function sQ(t){for(var a=F7(t),c=a.length;c--;){var r=a[c],e=t[r];a[c]=[r,e,_e(e)]}return a}var OC,EC=x(()=>{Wv();ye();OC=sQ});function zQ(t,a){return function(c){return c==null?!1:c[t]===a&&(a!==void 0||t in Object(c))}}var je,_v=x(()=>{je=zQ});function uQ(t){var a=OC(t);return a.length==1&&a[0][2]?je(a[0][0],a[0][1]):function(c){return c===t||TC(c,t,a)}}var DC,WC=x(()=>{ZC();EC();_v();DC=uQ});function pQ(t,a){return t!=null&&a in Object(t)}var _C,jC=x(()=>{_C=pQ});function mQ(t,a,c){a=Z7(a,t);for(var r=-1,e=a.length,l=!1;++r<e;){var i=M4(a[r]);if(!(l=t!=null&&c(t,i)))break;t=t[i]}return l||++r!=e?l:(e=t==null?0:t.length,!!e&&A7(e)&&Y5(i,e)&&(o2(t)||R7(t)))}var qC,NC=x(()=>{Re();He();M3();ea();Le();O7();qC=mQ});function MQ(t,a){return t!=null&&qC(t,a,_C)}var UC,KC=x(()=>{jC();NC();UC=MQ});function CQ(t,a){return I7(t)&&_e(a)?je(M4(t),a):function(c){var r=D3(c,t);return r===void 0&&r===a?UC(c,t):We(a,r,fQ|xQ)}}var fQ,xQ,$C,QC=x(()=>{Dv();D7();KC();Se();Wv();_v();O7();fQ=1,xQ=2;$C=CQ});function LQ(t){return function(a){return a==null?void 0:a[t]}}var XC,YC=x(()=>{XC=LQ});function HQ(t){return function(a){return E7(a,t)}}var JC,tL=x(()=>{be();JC=HQ});function VQ(t){return I7(t)?XC(M4(t)):JC(t)}var aL,cL=x(()=>{YC();tL();Se();O7();aL=VQ});function wQ(t){return typeof t=="function"?t:t==null?Q5:typeof t=="object"?o2(t)?$C(t[0],t[1]):DC(t):aL(t)}var f4,q7=x(()=>{WC();QC();ra();M3();cL();f4=wQ});function BQ(t,a,c,r){for(var e=-1,l=t==null?0:t.length;++e<l;){var i=t[e];a(r,i,c(i),t)}return r}var rL,eL=x(()=>{rL=BQ});function yQ(t){return function(a,c,r){for(var e=-1,l=Object(a),i=r(a),o=i.length;o--;){var n=i[t?o:++e];if(c(l[n],n,l)===!1)break}return a}}var lL,iL=x(()=>{lL=yQ});var SQ,oL,nL=x(()=>{iL();SQ=lL(),oL=SQ});function kQ(t,a){return t&&oL(t,a,F7)}var qe,jv=x(()=>{nL();ye();qe=kQ});function AQ(t,a){return function(c,r){if(c==null)return c;if(!t6(c))return t(c,r);for(var e=c.length,l=a?e:-1,i=Object(c);(a?l--:++l<e)&&r(i[l],l,i)!==!1;);return c}}var hL,vL=x(()=>{ia();hL=AQ});var RQ,Ne,qv=x(()=>{jv();vL();RQ=hL(qe),Ne=RQ});function bQ(t,a,c,r){return Ne(t,function(e,l,i){a(r,e,c(e),i)}),r}var gL,dL=x(()=>{qv();gL=bQ});function FQ(t,a){return function(c,r){var e=o2(c)?rL:gL,l=a?a():{};return e(c,t,f4(r,2),l)}}var sL,zL=x(()=>{eL();dL();q7();M3();sL=FQ});var IQ,Ue,uL=x(()=>{m3();IQ=function(){return g2.Date.now()},Ue=IQ});function ZQ(t,a,c){var r,e,l,i,o,n,h=0,v=!1,g=!1,s=!0;if(typeof t!="function")throw new TypeError(PQ);a=U0(a)||0,r0(c)&&(v=!!c.leading,g="maxWait"in c,l=g?GQ(U0(c.maxWait)||0,a):l,s="trailing"in c?!!c.trailing:s);function d(y){var k=r,I=e;return r=e=void 0,h=y,i=t.apply(I,k),i}function z(y){return h=y,o=setTimeout(m,a),v?d(y):i}function u(y){var k=y-n,I=y-h,U=a-k;return g?TQ(U,l-I):U}function M(y){var k=y-n,I=y-h;return n===void 0||k>=a||k<0||g&&I>=l}function m(){var y=Ue();if(M(y))return p(y);o=setTimeout(m,u(y))}function p(y){return o=void 0,s&&r?d(y):(r=e=void 0,i)}function f(){o!==void 0&&clearTimeout(o),h=0,r=n=e=o=void 0}function H(){return o===void 0?i:p(Ue())}function w(){var y=Ue(),k=M(y);if(r=arguments,e=this,n=y,k){if(o===void 0)return z(n);if(g)return clearTimeout(o),o=setTimeout(m,a),d(n)}return o===void 0&&(o=setTimeout(m,a)),i}return w.cancel=f,w.flush=H,w}var PQ,GQ,TQ,pa,Nv=x(()=>{K5();uL();B7();PQ="Expected a function",GQ=Math.max,TQ=Math.min;pa=ZQ});function OQ(t,a,c){for(var r=-1,e=t==null?0:t.length;++r<e;)if(c(a,t[r]))return!0;return!1}var pL,mL=x(()=>{pL=OQ});function EQ(t){var a=t==null?0:t.length;return a?t[a-1]:void 0}var f3,ma=x(()=>{f3=EQ});function WQ(t,a,c){var r=t==null?0:t.length;if(!r)return-1;var e=c==null?0:$5(c);return e<0&&(e=DQ(r+e,0)),S7(t,f4(a,3),e)}var DQ,Ke,ML=x(()=>{Me();q7();ca();DQ=Math.max;Ke=WQ});function qQ(t,a,c){var r=t==null?0:t.length;if(!r)return-1;var e=r-1;return c!==void 0&&(e=$5(c),e=c<0?_Q(r+e,0):jQ(e,r-1)),S7(t,f4(a,3),e,!0)}var _Q,jQ,fL,xL=x(()=>{Me();q7();ca();_Q=Math.max,jQ=Math.min;fL=qQ});function NQ(t,a){var c=-1,r=t6(t)?Array(t.length):[];return Ne(t,function(e,l,i){r[++c]=a(e,l,i)}),r}var CL,LL=x(()=>{qv();ia();CL=NQ});function $Q(t,a,c){return t>=KQ(a,c)&&t<UQ(a,c)}var UQ,KQ,HL,VL=x(()=>{UQ=Math.max,KQ=Math.min;HL=$Q});function QQ(t,a,c){return a=aa(a),c===void 0?(c=a,a=0):c=aa(c),t=U0(t),HL(t,a,c)}var $e,wL=x(()=>{VL();sv();B7();$e=QQ});function XQ(t){return typeof t=="number"&&t==$5(t)}var Uv,BL=x(()=>{ca();Uv=XQ});var YQ,Ma,yL=x(()=>{xe();zL();YQ=sL(function(t,a,c){k7(t,c,a)}),Ma=YQ});function JQ(t,a){var c={};return a=f4(a,3),qe(t,function(r,e,l){k7(c,e,a(r,e,l))}),c}var e5,Kv=x(()=>{xe();jv();q7();e5=JQ});function tX(t,a,c,r){if(!r0(t))return t;a=Z7(a,t);for(var e=-1,l=a.length,i=l-1,o=t;o!=null&&++e<l;){var n=M4(a[e]),h=c;if(n==="__proto__"||n==="constructor"||n==="prototype")return t;if(e!=i){var v=o[n];h=r?r(v,n,o):void 0,h===void 0&&(h=r0(v)?v:Y5(a[e+1])?[]:{})}ff(o,n,h),o=o[n]}return t}var SL,kL=x(()=>{xf();Re();ea();K5();O7();SL=tX});function aX(t,a){var c=t.length;for(t.sort(a);c--;)t[c]=t[c].value;return t}var AL,RL=x(()=>{AL=aX});function cX(t,a){if(t!==a){var c=t!==void 0,r=t===null,e=t===t,l=E3(t),i=a!==void 0,o=a===null,n=a===a,h=E3(a);if(!o&&!h&&!l&&t>a||l&&i&&n&&!o&&!h||r&&i&&n||!c&&n||!e)return 1;if(!r&&!l&&!h&&t<a||h&&c&&e&&!r&&!l||o&&c&&e||!i&&e||!n)return-1}return 0}var bL,FL=x(()=>{w7();bL=cX});function rX(t,a,c){for(var r=-1,e=t.criteria,l=a.criteria,i=e.length,o=c.length;++r<i;){var n=bL(e[r],l[r]);if(n){if(r>=o)return n;var h=c[r];return n*(h=="desc"?-1:1)}}return t.index-a.index}var IL,PL=x(()=>{FL();IL=rX});function eX(t,a,c){a.length?a=U5(a,function(l){return o2(l)?function(i){return E7(i,l.length===1?l[0]:l)}:l}):a=[Q5];var r=-1;a=U5(a,b7(f4));var e=CL(t,function(l,i,o){var n=U5(a,function(h){return h(l)});return{criteria:n,index:++r,value:l}});return AL(e,function(l,i){return IL(l,i,c)})}var GL,TL=x(()=>{ze();be();q7();LL();RL();Ve();PL();ra();M3();GL=eX});function lX(t,a,c,r){for(var e=c-1,l=t.length;++e<l;)if(r(t[e],a))return e;return-1}var ZL,OL=x(()=>{ZL=lX});function oX(t,a,c,r){var e=r?ZL:fe,l=-1,i=a.length,o=t;for(t===a&&(a=cf(a)),c&&(o=U5(t,b7(c)));++l<i;)for(var n=0,h=a[l],v=c?c(h):h;(n=e(o,v,n,r))>-1;)o!==t&&EL.call(o,n,1),EL.call(t,n,1);return t}var iX,EL,DL,WL=x(()=>{ze();mv();OL();Ve();rf();iX=Array.prototype,EL=iX.splice;DL=oX});function nX(t,a){return t&&t.length&&a&&a.length?DL(t,a):t}var _L,jL=x(()=>{WL();_L=nX});var hX,qL,NL=x(()=>{Mv();jL();hX=Ce(_L),qL=hX});var vX,$v,UL=x(()=>{Ex();vX=Ox("round"),$v=vX});function gX(t,a,c){return t==null?t:SL(t,a,c)}var i6,Qe=x(()=>{kL();i6=gX});var dX,KL,$L=x(()=>{Px();TL();Mv();Vf();dX=Ce(function(t,a){if(t==null)return[];var c=a.length;return c>1&&fv(t,a[0],a[1])?a=[]:c>2&&fv(a[0],a[1],a[2])&&(a=[a[0]]),GL(t,Ix(a,1),[])}),KL=dX});var sX,zX,QL,XL=x(()=>{Iv();af();Ee();sX=1/0,zX=l6&&1/j7(new l6([,-0]))[1]==sX?function(t){return new l6(t)}:tf,QL=zX});function pX(t,a,c){var r=-1,e=mf,l=t.length,i=!0,o=[],n=o;if(c)i=!1,e=pL;else if(l>=uX){var h=a?null:QL(t);if(h)return j7(h);i=!1,e=Ze,n=new Te}else n=a?[]:o;t:for(;++r<l;){var v=t[r],g=a?a(v):v;if(v=c||v!==0?v:0,i&&g===g){for(var s=n.length;s--;)if(n[s]===g)continue t;a&&n.push(g),o.push(v)}else e(n,g,c)||(n!==o&&n.push(g),o.push(v))}return o}var uX,YL,JL=x(()=>{Tv();Mf();mL();Zv();XL();Ee();uX=200;YL=pX});function mX(t){return t&&t.length?YL(t):[]}var x3,tH=x(()=>{JL();x3=mX});var H2=x(()=>{ua();Nv();ML();wL();BL();Rv();ma();Kv();Sv();UL();tH();});var rH=L1((wz1,cH)=>{var aH;cH.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window!="undefined"?window:global):t=>(aH||(aH=Promise.resolve())).then(t).catch(a=>setTimeout(()=>{throw a},0))});var zH=L1(b1=>{"use strict";var fa=Symbol.for("react.element"),MX=Symbol.for("react.portal"),fX=Symbol.for("react.fragment"),xX=Symbol.for("react.strict_mode"),CX=Symbol.for("react.profiler"),LX=Symbol.for("react.provider"),HX=Symbol.for("react.context"),VX=Symbol.for("react.forward_ref"),wX=Symbol.for("react.suspense"),BX=Symbol.for("react.memo"),yX=Symbol.for("react.lazy"),eH=Symbol.iterator;function SX(t){return t===null||typeof t!="object"?null:(t=eH&&t[eH]||t["@@iterator"],typeof t=="function"?t:null)}var oH={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nH=Object.assign,hH={};function N7(t,a,c){this.props=t,this.context=a,this.refs=hH,this.updater=c||oH}N7.prototype.isReactComponent={};N7.prototype.setState=function(t,a){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,a,"setState")};N7.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function vH(){}vH.prototype=N7.prototype;function Xv(t,a,c){this.props=t,this.context=a,this.refs=hH,this.updater=c||oH}var Yv=Xv.prototype=new vH;Yv.constructor=Xv;nH(Yv,N7.prototype);Yv.isPureReactComponent=!0;var lH=Array.isArray,gH=Object.prototype.hasOwnProperty,Jv={current:null},dH={key:!0,ref:!0,__self:!0,__source:!0};function sH(t,a,c){var r,e={},l=null,i=null;if(a!=null)for(r in a.ref!==void 0&&(i=a.ref),a.key!==void 0&&(l=""+a.key),a)gH.call(a,r)&&!dH.hasOwnProperty(r)&&(e[r]=a[r]);var o=arguments.length-2;if(o===1)e.children=c;else if(1<o){for(var n=Array(o),h=0;h<o;h++)n[h]=arguments[h+2];e.children=n}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)e[r]===void 0&&(e[r]=o[r]);return{$$typeof:fa,type:t,key:l,ref:i,props:e,_owner:Jv.current}}function kX(t,a){return{$$typeof:fa,type:t.type,key:a,ref:t.ref,props:t.props,_owner:t._owner}}function tg(t){return typeof t=="object"&&t!==null&&t.$$typeof===fa}function AX(t){var a={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(c){return a[c]})}var iH=/\/+/g;function Qv(t,a){return typeof t=="object"&&t!==null&&t.key!=null?AX(""+t.key):a.toString(36)}function Ye(t,a,c,r,e){var l=typeof t;(l==="undefined"||l==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(l){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case fa:case MX:i=!0}}if(i)return i=t,e=e(i),t=r===""?"."+Qv(i,0):r,lH(e)?(c="",t!=null&&(c=t.replace(iH,"$&/")+"/"),Ye(e,a,c,"",function(h){return h})):e!=null&&(tg(e)&&(e=kX(e,c+(!e.key||i&&i.key===e.key?"":(""+e.key).replace(iH,"$&/")+"/")+t)),a.push(e)),1;if(i=0,r=r===""?".":r+":",lH(t))for(var o=0;o<t.length;o++){l=t[o];var n=r+Qv(l,o);i+=Ye(l,a,c,n,e)}else if(n=SX(t),typeof n=="function")for(t=n.call(t),o=0;!(l=t.next()).done;)l=l.value,n=r+Qv(l,o++),i+=Ye(l,a,c,n,e);else if(l==="object")throw a=String(t),Error("Objects are not valid as a React child (found: "+(a==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":a)+"). If you meant to render a collection of children, use an array instead.");return i}function Xe(t,a,c){if(t==null)return t;var r=[],e=0;return Ye(t,r,"","",function(l){return a.call(c,l,e++)}),r}function RX(t){if(t._status===-1){var a=t._result;a=a(),a.then(function(c){(t._status===0||t._status===-1)&&(t._status=1,t._result=c)},function(c){(t._status===0||t._status===-1)&&(t._status=2,t._result=c)}),t._status===-1&&(t._status=0,t._result=a)}if(t._status===1)return t._result.default;throw t._result}var m0={current:null},Je={transition:null},bX={ReactCurrentDispatcher:m0,ReactCurrentBatchConfig:Je,ReactCurrentOwner:Jv};b1.Children={map:Xe,forEach:function(t,a,c){Xe(t,function(){a.apply(this,arguments)},c)},count:function(t){var a=0;return Xe(t,function(){a++}),a},toArray:function(t){return Xe(t,function(a){return a})||[]},only:function(t){if(!tg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};b1.Component=N7;b1.Fragment=fX;b1.Profiler=CX;b1.PureComponent=Xv;b1.StrictMode=xX;b1.Suspense=wX;b1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bX;b1.cloneElement=function(t,a,c){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=nH({},t.props),e=t.key,l=t.ref,i=t._owner;if(a!=null){if(a.ref!==void 0&&(l=a.ref,i=Jv.current),a.key!==void 0&&(e=""+a.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(n in a)gH.call(a,n)&&!dH.hasOwnProperty(n)&&(r[n]=a[n]===void 0&&o!==void 0?o[n]:a[n])}var n=arguments.length-2;if(n===1)r.children=c;else if(1<n){o=Array(n);for(var h=0;h<n;h++)o[h]=arguments[h+2];r.children=o}return{$$typeof:fa,type:t.type,key:e,ref:l,props:r,_owner:i}};b1.createContext=function(t){return t={$$typeof:HX,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:LX,_context:t},t.Consumer=t};b1.createElement=sH;b1.createFactory=function(t){var a=sH.bind(null,t);return a.type=t,a};b1.createRef=function(){return{current:null}};b1.forwardRef=function(t){return{$$typeof:VX,render:t}};b1.isValidElement=tg;b1.lazy=function(t){return{$$typeof:yX,_payload:{_status:-1,_result:t},_init:RX}};b1.memo=function(t,a){return{$$typeof:BX,type:t,compare:a===void 0?null:a}};b1.startTransition=function(t){var a=Je.transition;Je.transition={};try{t()}finally{Je.transition=a}};b1.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};b1.useCallback=function(t,a){return m0.current.useCallback(t,a)};b1.useContext=function(t){return m0.current.useContext(t)};b1.useDebugValue=function(){};b1.useDeferredValue=function(t){return m0.current.useDeferredValue(t)};b1.useEffect=function(t,a){return m0.current.useEffect(t,a)};b1.useId=function(){return m0.current.useId()};b1.useImperativeHandle=function(t,a,c){return m0.current.useImperativeHandle(t,a,c)};b1.useInsertionEffect=function(t,a){return m0.current.useInsertionEffect(t,a)};b1.useLayoutEffect=function(t,a){return m0.current.useLayoutEffect(t,a)};b1.useMemo=function(t,a){return m0.current.useMemo(t,a)};b1.useReducer=function(t,a,c){return m0.current.useReducer(t,a,c)};b1.useRef=function(t){return m0.current.useRef(t)};b1.useState=function(t){return m0.current.useState(t)};b1.useSyncExternalStore=function(t,a,c){return m0.current.useSyncExternalStore(t,a,c)};b1.useTransition=function(){return m0.current.useTransition()};b1.version="18.2.0"});var T=L1((yz1,uH)=>{"use strict";uH.exports=zH()});var wH=L1(K1=>{"use strict";function eg(t,a){var c=t.length;t.push(a);t:for(;0<c;){var r=c-1>>>1,e=t[r];if(0<tl(e,a))t[r]=a,t[c]=e,c=r;else break t}}function W3(t){return t.length===0?null:t[0]}function cl(t){if(t.length===0)return null;var a=t[0],c=t.pop();if(c!==a){t[0]=c;t:for(var r=0,e=t.length,l=e>>>1;r<l;){var i=2*(r+1)-1,o=t[i],n=i+1,h=t[n];if(0>tl(o,c))n<e&&0>tl(h,o)?(t[r]=h,t[n]=c,r=n):(t[r]=o,t[i]=c,r=i);else if(n<e&&0>tl(h,c))t[r]=h,t[n]=c,r=n;else break t}}return a}function tl(t,a){var c=t.sortIndex-a.sortIndex;return c!==0?c:t.id-a.id}typeof performance=="object"&&typeof performance.now=="function"?(pH=performance,K1.unstable_now=function(){return pH.now()}):(ag=Date,mH=ag.now(),K1.unstable_now=function(){return ag.now()-mH});var pH,ag,mH,x4=[],o6=[],FX=1,C3=null,e0=3,rl=!1,C8=!1,Ca=!1,xH=typeof setTimeout=="function"?setTimeout:null,CH=typeof clearTimeout=="function"?clearTimeout:null,MH=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function lg(t){for(var a=W3(o6);a!==null;){if(a.callback===null)cl(o6);else if(a.startTime<=t)cl(o6),a.sortIndex=a.expirationTime,eg(x4,a);else break;a=W3(o6)}}function ig(t){if(Ca=!1,lg(t),!C8)if(W3(x4)!==null)C8=!0,ng(og);else{var a=W3(o6);a!==null&&hg(ig,a.startTime-t)}}function og(t,a){C8=!1,Ca&&(Ca=!1,CH(La),La=-1),rl=!0;var c=e0;try{for(lg(a),C3=W3(x4);C3!==null&&(!(C3.expirationTime>a)||t&&!VH());){var r=C3.callback;if(typeof r=="function"){C3.callback=null,e0=C3.priorityLevel;var e=r(C3.expirationTime<=a);a=K1.unstable_now(),typeof e=="function"?C3.callback=e:C3===W3(x4)&&cl(x4),lg(a)}else cl(x4);C3=W3(x4)}if(C3!==null)var l=!0;else{var i=W3(o6);i!==null&&hg(ig,i.startTime-a),l=!1}return l}finally{C3=null,e0=c,rl=!1}}var el=!1,al=null,La=-1,LH=5,HH=-1;function VH(){return!(K1.unstable_now()-HH<LH)}function cg(){if(al!==null){var t=K1.unstable_now();HH=t;var a=!0;try{a=al(!0,t)}finally{a?xa():(el=!1,al=null)}}else el=!1}var xa;typeof MH=="function"?xa=function(){MH(cg)}:typeof MessageChannel!="undefined"?(rg=new MessageChannel,fH=rg.port2,rg.port1.onmessage=cg,xa=function(){fH.postMessage(null)}):xa=function(){xH(cg,0)};var rg,fH;function ng(t){al=t,el||(el=!0,xa())}function hg(t,a){La=xH(function(){t(K1.unstable_now())},a)}K1.unstable_IdlePriority=5;K1.unstable_ImmediatePriority=1;K1.unstable_LowPriority=4;K1.unstable_NormalPriority=3;K1.unstable_Profiling=null;K1.unstable_UserBlockingPriority=2;K1.unstable_cancelCallback=function(t){t.callback=null};K1.unstable_continueExecution=function(){C8||rl||(C8=!0,ng(og))};K1.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):LH=0<t?Math.floor(1e3/t):5};K1.unstable_getCurrentPriorityLevel=function(){return e0};K1.unstable_getFirstCallbackNode=function(){return W3(x4)};K1.unstable_next=function(t){switch(e0){case 1:case 2:case 3:var a=3;break;default:a=e0}var c=e0;e0=a;try{return t()}finally{e0=c}};K1.unstable_pauseExecution=function(){};K1.unstable_requestPaint=function(){};K1.unstable_runWithPriority=function(t,a){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var c=e0;e0=t;try{return a()}finally{e0=c}};K1.unstable_scheduleCallback=function(t,a,c){var r=K1.unstable_now();switch(typeof c=="object"&&c!==null?(c=c.delay,c=typeof c=="number"&&0<c?r+c:r):c=r,t){case 1:var e=-1;break;case 2:e=250;break;case 5:e=1073741823;break;case 4:e=1e4;break;default:e=5e3}return e=c+e,t={id:FX++,callback:a,priorityLevel:t,startTime:c,expirationTime:e,sortIndex:-1},c>r?(t.sortIndex=c,eg(o6,t),W3(x4)===null&&t===W3(o6)&&(Ca?(CH(La),La=-1):Ca=!0,hg(ig,c-r))):(t.sortIndex=e,eg(x4,t),C8||rl||(C8=!0,ng(og))),t};K1.unstable_shouldYield=VH;K1.unstable_wrapCallback=function(t){var a=e0;return function(){var c=e0;e0=a;try{return t.apply(this,arguments)}finally{e0=c}}}});var yH=L1((kz1,BH)=>{"use strict";BH.exports=wH()});var FB=L1(J0=>{"use strict";var IV=T(),X0=yH();function o1(t){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+t,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+t+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var PV=new Set,ja={};function I8(t,a){s9(t,a),s9(t+"Capture",a)}function s9(t,a){for(ja[t]=a,t=0;t<a.length;t++)PV.add(a[t])}var v5=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),bg=Object.prototype.hasOwnProperty,IX=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,SH={},kH={};function PX(t){return bg.call(kH,t)?!0:bg.call(SH,t)?!1:IX.test(t)?kH[t]=!0:(SH[t]=!0,!1)}function GX(t,a,c,r){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return r?!1:c!==null?!c.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function TX(t,a,c,r){if(a===null||typeof a=="undefined"||GX(t,a,c,r))return!0;if(r)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function x0(t,a,c,r,e,l,i){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=r,this.attributeNamespace=e,this.mustUseProperty=c,this.propertyName=t,this.type=a,this.sanitizeURL=l,this.removeEmptyString=i}var q2={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){q2[t]=new x0(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var a=t[0];q2[a]=new x0(a,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){q2[t]=new x0(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){q2[t]=new x0(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){q2[t]=new x0(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){q2[t]=new x0(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){q2[t]=new x0(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){q2[t]=new x0(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){q2[t]=new x0(t,5,!1,t.toLowerCase(),null,!1,!1)});var Vd=/[\-:]([a-z])/g;function wd(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var a=t.replace(Vd,wd);q2[a]=new x0(a,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var a=t.replace(Vd,wd);q2[a]=new x0(a,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var a=t.replace(Vd,wd);q2[a]=new x0(a,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){q2[t]=new x0(t,1,!1,t.toLowerCase(),null,!1,!1)});q2.xlinkHref=new x0("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){q2[t]=new x0(t,1,!1,t.toLowerCase(),null,!0,!0)});function Bd(t,a,c,r){var e=q2.hasOwnProperty(a)?q2[a]:null;(e!==null?e.type!==0:r||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(TX(a,c,e,r)&&(c=null),r||e===null?PX(a)&&(c===null?t.removeAttribute(a):t.setAttribute(a,""+c)):e.mustUseProperty?t[e.propertyName]=c===null?e.type===3?!1:"":c:(a=e.attributeName,r=e.attributeNamespace,c===null?t.removeAttribute(a):(e=e.type,c=e===3||e===4&&c===!0?"":""+c,r?t.setAttributeNS(r,a,c):t.setAttribute(a,c))))}var z5=IV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ll=Symbol.for("react.element"),$7=Symbol.for("react.portal"),Q7=Symbol.for("react.fragment"),yd=Symbol.for("react.strict_mode"),Fg=Symbol.for("react.profiler"),GV=Symbol.for("react.provider"),TV=Symbol.for("react.context"),Sd=Symbol.for("react.forward_ref"),Ig=Symbol.for("react.suspense"),Pg=Symbol.for("react.suspense_list"),kd=Symbol.for("react.memo"),h6=Symbol.for("react.lazy");Symbol.for("react.scope");Symbol.for("react.debug_trace_mode");var ZV=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden");Symbol.for("react.cache");Symbol.for("react.tracing_marker");var AH=Symbol.iterator;function Ha(t){return t===null||typeof t!="object"?null:(t=AH&&t[AH]||t["@@iterator"],typeof t=="function"?t:null)}var v2=Object.assign,vg;function Ra(t){if(vg===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);vg=a&&a[1]||""}return"\n"+vg+t}var gg=!1;function dg(t,a){if(!t||gg)return"";gg=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(h){var r=h}Reflect.construct(t,[],a)}else{try{a.call()}catch(h){r=h}t.call(a.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var e=h.stack.split("\n"),l=r.stack.split("\n"),i=e.length-1,o=l.length-1;1<=i&&0<=o&&e[i]!==l[o];)o--;for(;1<=i&&0<=o;i--,o--)if(e[i]!==l[o]){if(i!==1||o!==1)do if(i--,o--,0>o||e[i]!==l[o]){var n="\n"+e[i].replace(" at new "," at ");return t.displayName&&n.includes("<anonymous>")&&(n=n.replace("<anonymous>",t.displayName)),n}while(1<=i&&0<=o);break}}}finally{gg=!1,Error.prepareStackTrace=c}return(t=t?t.displayName||t.name:"")?Ra(t):""}function ZX(t){switch(t.tag){case 5:return Ra(t.type);case 16:return Ra("Lazy");case 13:return Ra("Suspense");case 19:return Ra("SuspenseList");case 0:case 2:case 15:return t=dg(t.type,!1),t;case 11:return t=dg(t.type.render,!1),t;case 1:return t=dg(t.type,!0),t;default:return""}}function Gg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Q7:return"Fragment";case $7:return"Portal";case Fg:return"Profiler";case yd:return"StrictMode";case Ig:return"Suspense";case Pg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case TV:return(t.displayName||"Context")+".Consumer";case GV:return(t._context.displayName||"Context")+".Provider";case Sd:var a=t.render;return t=t.displayName,t||(t=a.displayName||a.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case kd:return a=t.displayName||null,a!==null?a:Gg(t.type)||"Memo";case h6:a=t._payload,t=t._init;try{return Gg(t(a))}catch(c){}}return null}function OX(t){var a=t.type;switch(t.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=a.render,t=t.displayName||t.name||"",a.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Gg(a);case 8:return a===yd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function H6(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function OV(t){var a=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function EX(t){var a=OV(t)?"checked":"value",c=Object.getOwnPropertyDescriptor(t.constructor.prototype,a),r=""+t[a];if(!t.hasOwnProperty(a)&&typeof c!="undefined"&&typeof c.get=="function"&&typeof c.set=="function"){var e=c.get,l=c.set;return Object.defineProperty(t,a,{configurable:!0,get:function(){return e.call(this)},set:function(i){r=""+i,l.call(this,i)}}),Object.defineProperty(t,a,{enumerable:c.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){t._valueTracker=null,delete t[a]}}}}function il(t){t._valueTracker||(t._valueTracker=EX(t))}function EV(t){if(!t)return!1;var a=t._valueTracker;if(!a)return!0;var c=a.getValue(),r="";return t&&(r=OV(t)?t.checked?"true":"false":t.value),t=r,t!==c?(a.setValue(t),!0):!1}function Il(t){if(t=t||(typeof document!="undefined"?document:void 0),typeof t=="undefined")return null;try{return t.activeElement||t.body}catch(a){return t.body}}function Tg(t,a){var c=a.checked;return v2({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c!=null?c:t._wrapperState.initialChecked})}function RH(t,a){var c=a.defaultValue==null?"":a.defaultValue,r=a.checked!=null?a.checked:a.defaultChecked;c=H6(a.value!=null?a.value:c),t._wrapperState={initialChecked:r,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function DV(t,a){a=a.checked,a!=null&&Bd(t,"checked",a,!1)}function Zg(t,a){DV(t,a);var c=H6(a.value),r=a.type;if(c!=null)r==="number"?(c===0&&t.value===""||t.value!=c)&&(t.value=""+c):t.value!==""+c&&(t.value=""+c);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}a.hasOwnProperty("value")?Og(t,a.type,c):a.hasOwnProperty("defaultValue")&&Og(t,a.type,H6(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(t.defaultChecked=!!a.defaultChecked)}function bH(t,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var r=a.type;if(!(r!=="submit"&&r!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+t._wrapperState.initialValue,c||a===t.value||(t.value=a),t.defaultValue=a}c=t.name,c!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,c!==""&&(t.name=c)}function Og(t,a,c){(a!=="number"||Il(t.ownerDocument)!==t)&&(c==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+c&&(t.defaultValue=""+c))}var ba=Array.isArray;function o9(t,a,c,r){if(t=t.options,a){a={};for(var e=0;e<c.length;e++)a["$"+c[e]]=!0;for(c=0;c<t.length;c++)e=a.hasOwnProperty("$"+t[c].value),t[c].selected!==e&&(t[c].selected=e),e&&r&&(t[c].defaultSelected=!0)}else{for(c=""+H6(c),a=null,e=0;e<t.length;e++){if(t[e].value===c){t[e].selected=!0,r&&(t[e].defaultSelected=!0);return}a!==null||t[e].disabled||(a=t[e])}a!==null&&(a.selected=!0)}}function Eg(t,a){if(a.dangerouslySetInnerHTML!=null)throw Error(o1(91));return v2({},a,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function FH(t,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(o1(92));if(ba(c)){if(1<c.length)throw Error(o1(93));c=c[0]}a=c}a==null&&(a=""),c=a}t._wrapperState={initialValue:H6(c)}}function WV(t,a){var c=H6(a.value),r=H6(a.defaultValue);c!=null&&(c=""+c,c!==t.value&&(t.value=c),a.defaultValue==null&&t.defaultValue!==c&&(t.defaultValue=c)),r!=null&&(t.defaultValue=""+r)}function IH(t){var a=t.textContent;a===t._wrapperState.initialValue&&a!==""&&a!==null&&(t.value=a)}function _V(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Dg(t,a){return t==null||t==="http://www.w3.org/1999/xhtml"?_V(a):t==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ol,jV=function(t){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(a,c,r,e){MSApp.execUnsafeLocalFunction(function(){return t(a,c,r,e)})}:t}(function(t,a){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=a;else{for(ol=ol||document.createElement("div"),ol.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=ol.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;a.firstChild;)t.appendChild(a.firstChild)}});function qa(t,a){if(a){var c=t.firstChild;if(c&&c===t.lastChild&&c.nodeType===3){c.nodeValue=a;return}}t.textContent=a}var Pa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},DX=["Webkit","ms","Moz","O"];Object.keys(Pa).forEach(function(t){DX.forEach(function(a){a=a+t.charAt(0).toUpperCase()+t.substring(1),Pa[a]=Pa[t]})});function qV(t,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||Pa.hasOwnProperty(t)&&Pa[t]?(""+a).trim():a+"px"}function NV(t,a){t=t.style;for(var c in a)if(a.hasOwnProperty(c)){var r=c.indexOf("--")===0,e=qV(c,a[c],r);c==="float"&&(c="cssFloat"),r?t.setProperty(c,e):t[c]=e}}var WX=v2({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wg(t,a){if(a){if(WX[t]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(o1(137,t));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(o1(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(o1(61))}if(a.style!=null&&typeof a.style!="object")throw Error(o1(62))}}function _g(t,a){if(t.indexOf("-")===-1)return typeof a.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jg=null;function Ad(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var qg=null,n9=null,h9=null;function PH(t){if(t=hc(t)){if(typeof qg!="function")throw Error(o1(280));var a=t.stateNode;a&&(a=ni(a),qg(t.stateNode,t.type,a))}}function UV(t){n9?h9?h9.push(t):h9=[t]:n9=t}function KV(){if(n9){var t=n9,a=h9;if(h9=n9=null,PH(t),a)for(t=0;t<a.length;t++)PH(a[t])}}function $V(t,a){return t(a)}function QV(){}var sg=!1;function XV(t,a,c){if(sg)return t(a,c);sg=!0;try{return $V(t,a,c)}finally{sg=!1,(n9!==null||h9!==null)&&(QV(),KV())}}function Na(t,a){var c=t.stateNode;if(c===null)return null;var r=ni(c);if(r===null)return null;c=r[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break t;default:t=!1}if(t)return null;if(c&&typeof c!="function")throw Error(o1(231,a,typeof c));return c}var Ng=!1;if(v5)try{U7={},Object.defineProperty(U7,"passive",{get:function(){Ng=!0}}),window.addEventListener("test",U7,U7),window.removeEventListener("test",U7,U7)}catch(t){Ng=!1}var U7;function _X(t,a,c,r,e,l,i,o,n){var h=Array.prototype.slice.call(arguments,3);try{a.apply(c,h)}catch(v){this.onError(v)}}var Ga=!1,Pl=null,Gl=!1,Ug=null,jX={onError:function(t){Ga=!0,Pl=t}};function qX(t,a,c,r,e,l,i,o,n){Ga=!1,Pl=null,_X.apply(jX,arguments)}function NX(t,a,c,r,e,l,i,o,n){if(qX.apply(this,arguments),Ga){if(Ga){var h=Pl;Ga=!1,Pl=null}else throw Error(o1(198));Gl||(Gl=!0,Ug=h)}}function P8(t){var a=t,c=t;if(t.alternate)for(;a.return;)a=a.return;else{t=a;do a=t,a.flags&4098&&(c=a.return),t=a.return;while(t)}return a.tag===3?c:null}function YV(t){if(t.tag===13){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function GH(t){if(P8(t)!==t)throw Error(o1(188))}function UX(t){var a=t.alternate;if(!a){if(a=P8(t),a===null)throw Error(o1(188));return a!==t?null:t}for(var c=t,r=a;;){var e=c.return;if(e===null)break;var l=e.alternate;if(l===null){if(r=e.return,r!==null){c=r;continue}break}if(e.child===l.child){for(l=e.child;l;){if(l===c)return GH(e),t;if(l===r)return GH(e),a;l=l.sibling}throw Error(o1(188))}if(c.return!==r.return)c=e,r=l;else{for(var i=!1,o=e.child;o;){if(o===c){i=!0,c=e,r=l;break}if(o===r){i=!0,r=e,c=l;break}o=o.sibling}if(!i){for(o=l.child;o;){if(o===c){i=!0,c=l,r=e;break}if(o===r){i=!0,r=l,c=e;break}o=o.sibling}if(!i)throw Error(o1(189))}}if(c.alternate!==r)throw Error(o1(190))}if(c.tag!==3)throw Error(o1(188));return c.stateNode.current===c?t:a}function JV(t){return t=UX(t),t!==null?tw(t):null}function tw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var a=tw(t);if(a!==null)return a;t=t.sibling}return null}var aw=X0.unstable_scheduleCallback,TH=X0.unstable_cancelCallback,KX=X0.unstable_shouldYield,$X=X0.unstable_requestPaint,m2=X0.unstable_now,QX=X0.unstable_getCurrentPriorityLevel,Rd=X0.unstable_ImmediatePriority,cw=X0.unstable_UserBlockingPriority,Tl=X0.unstable_NormalPriority,XX=X0.unstable_LowPriority,rw=X0.unstable_IdlePriority,ei=null,V4=null;function YX(t){if(V4&&typeof V4.onCommitFiberRoot=="function")try{V4.onCommitFiberRoot(ei,t,void 0,(t.current.flags&128)===128)}catch(a){}}var U3=Math.clz32?Math.clz32:aY,JX=Math.log,tY=Math.LN2;function aY(t){return t>>>=0,t===0?32:31-(JX(t)/tY|0)|0}var nl=64,hl=4194304;function Fa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Zl(t,a){var c=t.pendingLanes;if(c===0)return 0;var r=0,e=t.suspendedLanes,l=t.pingedLanes,i=c&268435455;if(i!==0){var o=i&~e;o!==0?r=Fa(o):(l&=i,l!==0&&(r=Fa(l)))}else i=c&~e,i!==0?r=Fa(i):l!==0&&(r=Fa(l));if(r===0)return 0;if(a!==0&&a!==r&&!(a&e)&&(e=r&-r,l=a&-a,e>=l||e===16&&(l&4194240)!==0))return a;if(r&4&&(r|=c&16),a=t.entangledLanes,a!==0)for(t=t.entanglements,a&=r;0<a;)c=31-U3(a),e=1<<c,r|=t[c],a&=~e;return r}function cY(t,a){switch(t){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rY(t,a){for(var c=t.suspendedLanes,r=t.pingedLanes,e=t.expirationTimes,l=t.pendingLanes;0<l;){var i=31-U3(l),o=1<<i,n=e[i];n===-1?(!(o&c)||o&r)&&(e[i]=cY(o,a)):n<=a&&(t.expiredLanes|=o),l&=~o}}function Kg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ew(){var t=nl;return nl<<=1,!(nl&4194240)&&(nl=64),t}function zg(t){for(var a=[],c=0;31>c;c++)a.push(t);return a}function oc(t,a,c){t.pendingLanes|=a,a!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,a=31-U3(a),t[a]=c}function eY(t,a){var c=t.pendingLanes&~a;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=a,t.mutableReadLanes&=a,t.entangledLanes&=a,a=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<c;){var e=31-U3(c),l=1<<e;a[e]=0,r[e]=-1,t[e]=-1,c&=~l}}function bd(t,a){var c=t.entangledLanes|=a;for(t=t.entanglements;c;){var r=31-U3(c),e=1<<r;e&a|t[r]&a&&(t[r]|=a),c&=~e}}var W1=0;function lw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var iw,Fd,ow,nw,hw,$g=!1,vl=[],u6=null,p6=null,m6=null,Ua=new Map,Ka=new Map,g6=[],lY="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ZH(t,a){switch(t){case"focusin":case"focusout":u6=null;break;case"dragenter":case"dragleave":p6=null;break;case"mouseover":case"mouseout":m6=null;break;case"pointerover":case"pointerout":Ua.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ka.delete(a.pointerId)}}function Va(t,a,c,r,e,l){return t===null||t.nativeEvent!==l?(t={blockedOn:a,domEventName:c,eventSystemFlags:r,nativeEvent:l,targetContainers:[e]},a!==null&&(a=hc(a),a!==null&&Fd(a)),t):(t.eventSystemFlags|=r,a=t.targetContainers,e!==null&&a.indexOf(e)===-1&&a.push(e),t)}function iY(t,a,c,r,e){switch(a){case"focusin":return u6=Va(u6,t,a,c,r,e),!0;case"dragenter":return p6=Va(p6,t,a,c,r,e),!0;case"mouseover":return m6=Va(m6,t,a,c,r,e),!0;case"pointerover":var l=e.pointerId;return Ua.set(l,Va(Ua.get(l)||null,t,a,c,r,e)),!0;case"gotpointercapture":return l=e.pointerId,Ka.set(l,Va(Ka.get(l)||null,t,a,c,r,e)),!0}return!1}function vw(t){var a=V8(t.target);if(a!==null){var c=P8(a);if(c!==null){if(a=c.tag,a===13){if(a=YV(c),a!==null){t.blockedOn=a,hw(t.priority,function(){ow(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){t.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Vl(t){if(t.blockedOn!==null)return!1;for(var a=t.targetContainers;0<a.length;){var c=Qg(t.domEventName,t.eventSystemFlags,a[0],t.nativeEvent);if(c===null){c=t.nativeEvent;var r=new c.constructor(c.type,c);jg=r,c.target.dispatchEvent(r),jg=null}else return a=hc(c),a!==null&&Fd(a),t.blockedOn=c,!1;a.shift()}return!0}function OH(t,a,c){Vl(t)&&c.delete(a)}function oY(){$g=!1,u6!==null&&Vl(u6)&&(u6=null),p6!==null&&Vl(p6)&&(p6=null),m6!==null&&Vl(m6)&&(m6=null),Ua.forEach(OH),Ka.forEach(OH)}function wa(t,a){t.blockedOn===a&&(t.blockedOn=null,$g||($g=!0,X0.unstable_scheduleCallback(X0.unstable_NormalPriority,oY)))}function $a(t){function a(e){return wa(e,t)}if(0<vl.length){wa(vl[0],t);for(var c=1;c<vl.length;c++){var r=vl[c];r.blockedOn===t&&(r.blockedOn=null)}}for(u6!==null&&wa(u6,t),p6!==null&&wa(p6,t),m6!==null&&wa(m6,t),Ua.forEach(a),Ka.forEach(a),c=0;c<g6.length;c++)r=g6[c],r.blockedOn===t&&(r.blockedOn=null);for(;0<g6.length&&(c=g6[0],c.blockedOn===null);)vw(c),c.blockedOn===null&&g6.shift()}var v9=z5.ReactCurrentBatchConfig,Ol=!0;function nY(t,a,c,r){var e=W1,l=v9.transition;v9.transition=null;try{W1=1,Id(t,a,c,r)}finally{W1=e,v9.transition=l}}function hY(t,a,c,r){var e=W1,l=v9.transition;v9.transition=null;try{W1=4,Id(t,a,c,r)}finally{W1=e,v9.transition=l}}function Id(t,a,c,r){if(Ol){var e=Qg(t,a,c,r);if(e===null)Cg(t,a,r,El,c),ZH(t,r);else if(iY(e,t,a,c,r))r.stopPropagation();else if(ZH(t,r),a&4&&-1<lY.indexOf(t)){for(;e!==null;){var l=hc(e);if(l!==null&&iw(l),l=Qg(t,a,c,r),l===null&&Cg(t,a,r,El,c),l===e)break;e=l}e!==null&&r.stopPropagation()}else Cg(t,a,r,null,c)}}var El=null;function Qg(t,a,c,r){if(El=null,t=Ad(r),t=V8(t),t!==null)if(a=P8(t),a===null)t=null;else if(c=a.tag,c===13){if(t=YV(a),t!==null)return t;t=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;t=null}else a!==t&&(t=null);return El=t,null}function gw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(QX()){case Rd:return 1;case cw:return 4;case Tl:case XX:return 16;case rw:return 536870912;default:return 16}default:return 16}}var s6=null,Pd=null,wl=null;function dw(){if(wl)return wl;var t,a=Pd,c=a.length,r,e="value"in s6?s6.value:s6.textContent,l=e.length;for(t=0;t<c&&a[t]===e[t];t++);var i=c-t;for(r=1;r<=i&&a[c-r]===e[l-r];r++);return wl=e.slice(t,1<r?1-r:void 0)}function Bl(t){var a=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&a===13&&(t=13)):t=a,t===10&&(t=13),32<=t||t===13?t:0}function gl(){return!0}function EH(){return!1}function Y0(t){function a(c,r,e,l,i){this._reactName=c,this._targetInst=e,this.type=r,this.nativeEvent=l,this.target=i,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(c=t[o],this[o]=c?c(l):l[o]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?gl:EH,this.isPropagationStopped=EH,this}return v2(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=gl)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=gl)},persist:function(){},isPersistent:gl}),a}var x9={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gd=Y0(x9),nc=v2({},x9,{view:0,detail:0}),vY=Y0(nc),ug,pg,Ba,li=v2({},nc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Td,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ba&&(Ba&&t.type==="mousemove"?(ug=t.screenX-Ba.screenX,pg=t.screenY-Ba.screenY):pg=ug=0,Ba=t),ug)},movementY:function(t){return"movementY"in t?t.movementY:pg}}),DH=Y0(li),gY=v2({},li,{dataTransfer:0}),dY=Y0(gY),sY=v2({},nc,{relatedTarget:0}),mg=Y0(sY),zY=v2({},x9,{animationName:0,elapsedTime:0,pseudoElement:0}),uY=Y0(zY),pY=v2({},x9,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),mY=Y0(pY),MY=v2({},x9,{data:0}),WH=Y0(MY),fY={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xY={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},CY={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function LY(t){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(t):(t=CY[t])?!!a[t]:!1}function Td(){return LY}var HY=v2({},nc,{key:function(t){if(t.key){var a=fY[t.key]||t.key;if(a!=="Unidentified")return a}return t.type==="keypress"?(t=Bl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?xY[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Td,charCode:function(t){return t.type==="keypress"?Bl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Bl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),VY=Y0(HY),wY=v2({},li,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_H=Y0(wY),BY=v2({},nc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Td}),yY=Y0(BY),SY=v2({},x9,{propertyName:0,elapsedTime:0,pseudoElement:0}),kY=Y0(SY),AY=v2({},li,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),RY=Y0(AY),bY=[9,13,27,32],Zd=v5&&"CompositionEvent"in window,Ta=null;v5&&"documentMode"in document&&(Ta=document.documentMode);var FY=v5&&"TextEvent"in window&&!Ta,sw=v5&&(!Zd||Ta&&8<Ta&&11>=Ta),jH=String.fromCharCode(32),qH=!1;function zw(t,a){switch(t){case"keyup":return bY.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var X7=!1;function IY(t,a){switch(t){case"compositionend":return uw(a);case"keypress":return a.which!==32?null:(qH=!0,jH);case"textInput":return t=a.data,t===jH&&qH?null:t;default:return null}}function PY(t,a){if(X7)return t==="compositionend"||!Zd&&zw(t,a)?(t=dw(),wl=Pd=s6=null,X7=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return sw&&a.locale!=="ko"?null:a.data;default:return null}}var GY={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function NH(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a==="input"?!!GY[t.type]:a==="textarea"}function pw(t,a,c,r){UV(r),a=Dl(a,"onChange"),0<a.length&&(c=new Gd("onChange","change",null,c,r),t.push({event:c,listeners:a}))}var Za=null,Qa=null;function TY(t){yw(t,0)}function ii(t){var a=t9(t);if(EV(a))return t}function ZY(t,a){if(t==="change")return a}var mw=!1;v5&&(v5?(sl="oninput"in document,sl||(Mg=document.createElement("div"),Mg.setAttribute("oninput","return;"),sl=typeof Mg.oninput=="function"),dl=sl):dl=!1,mw=dl&&(!document.documentMode||9<document.documentMode));var dl,sl,Mg;function UH(){Za&&(Za.detachEvent("onpropertychange",Mw),Qa=Za=null)}function Mw(t){if(t.propertyName==="value"&&ii(Qa)){var a=[];pw(a,Qa,t,Ad(t)),XV(TY,a)}}function OY(t,a,c){t==="focusin"?(UH(),Za=a,Qa=c,Za.attachEvent("onpropertychange",Mw)):t==="focusout"&&UH()}function EY(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ii(Qa)}function DY(t,a){if(t==="click")return ii(a)}function WY(t,a){if(t==="input"||t==="change")return ii(a)}function _Y(t,a){return t===a&&(t!==0||1/t===1/a)||t!==t&&a!==a}var $3=typeof Object.is=="function"?Object.is:_Y;function Xa(t,a){if($3(t,a))return!0;if(typeof t!="object"||t===null||typeof a!="object"||a===null)return!1;var c=Object.keys(t),r=Object.keys(a);if(c.length!==r.length)return!1;for(r=0;r<c.length;r++){var e=c[r];if(!bg.call(a,e)||!$3(t[e],a[e]))return!1}return!0}function KH(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $H(t,a){var c=KH(t);t=0;for(var r;c;){if(c.nodeType===3){if(r=t+c.textContent.length,t<=a&&r>=a)return{node:c,offset:a-t};t=r}t:{for(;c;){if(c.nextSibling){c=c.nextSibling;break t}c=c.parentNode}c=void 0}c=KH(c)}}function fw(t,a){return t&&a?t===a?!0:t&&t.nodeType===3?!1:a&&a.nodeType===3?fw(t,a.parentNode):"contains"in t?t.contains(a):t.compareDocumentPosition?!!(t.compareDocumentPosition(a)&16):!1:!1}function xw(){for(var t=window,a=Il();a instanceof t.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch(r){c=!1}if(c)t=a.contentWindow;else break;a=Il(t.document)}return a}function Od(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a&&(a==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||a==="textarea"||t.contentEditable==="true")}function jY(t){var a=xw(),c=t.focusedElem,r=t.selectionRange;if(a!==c&&c&&c.ownerDocument&&fw(c.ownerDocument.documentElement,c)){if(r!==null&&Od(c)){if(a=r.start,t=r.end,t===void 0&&(t=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(t,c.value.length);else if(t=(a=c.ownerDocument||document)&&a.defaultView||window,t.getSelection){t=t.getSelection();var e=c.textContent.length,l=Math.min(r.start,e);r=r.end===void 0?l:Math.min(r.end,e),!t.extend&&l>r&&(e=r,r=l,l=e),e=$H(c,l);var i=$H(c,r);e&&i&&(t.rangeCount!==1||t.anchorNode!==e.node||t.anchorOffset!==e.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(a=a.createRange(),a.setStart(e.node,e.offset),t.removeAllRanges(),l>r?(t.addRange(a),t.extend(i.node,i.offset)):(a.setEnd(i.node,i.offset),t.addRange(a)))}}for(a=[],t=c;t=t.parentNode;)t.nodeType===1&&a.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)t=a[c],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var qY=v5&&"documentMode"in document&&11>=document.documentMode,Y7=null,Xg=null,Oa=null,Yg=!1;function QH(t,a,c){var r=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Yg||Y7==null||Y7!==Il(r)||(r=Y7,"selectionStart"in r&&Od(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Oa&&Xa(Oa,r)||(Oa=r,r=Dl(Xg,"onSelect"),0<r.length&&(a=new Gd("onSelect","select",null,a,c),t.push({event:a,listeners:r}),a.target=Y7)))}function zl(t,a){var c={};return c[t.toLowerCase()]=a.toLowerCase(),c["Webkit"+t]="webkit"+a,c["Moz"+t]="moz"+a,c}var J7={animationend:zl("Animation","AnimationEnd"),animationiteration:zl("Animation","AnimationIteration"),animationstart:zl("Animation","AnimationStart"),transitionend:zl("Transition","TransitionEnd")},fg={},Cw={};v5&&(Cw=document.createElement("div").style,"AnimationEvent"in window||(delete J7.animationend.animation,delete J7.animationiteration.animation,delete J7.animationstart.animation),"TransitionEvent"in window||delete J7.transitionend.transition);function oi(t){if(fg[t])return fg[t];if(!J7[t])return t;var a=J7[t],c;for(c in a)if(a.hasOwnProperty(c)&&c in Cw)return fg[t]=a[c];return t}var Lw=oi("animationend"),Hw=oi("animationiteration"),Vw=oi("animationstart"),ww=oi("transitionend"),Bw=new Map,XH="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function w6(t,a){Bw.set(t,a),I8(a,[t])}for(ul=0;ul<XH.length;ul++)pl=XH[ul],YH=pl.toLowerCase(),JH=pl[0].toUpperCase()+pl.slice(1),w6(YH,"on"+JH);var pl,YH,JH,ul;w6(Lw,"onAnimationEnd");w6(Hw,"onAnimationIteration");w6(Vw,"onAnimationStart");w6("dblclick","onDoubleClick");w6("focusin","onFocus");w6("focusout","onBlur");w6(ww,"onTransitionEnd");s9("onMouseEnter",["mouseout","mouseover"]);s9("onMouseLeave",["mouseout","mouseover"]);s9("onPointerEnter",["pointerout","pointerover"]);s9("onPointerLeave",["pointerout","pointerover"]);I8("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));I8("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));I8("onBeforeInput",["compositionend","keypress","textInput","paste"]);I8("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));I8("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));I8("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ia="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NY=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ia));function tV(t,a,c){var r=t.type||"unknown-event";t.currentTarget=c,NX(r,a,void 0,t),t.currentTarget=null}function yw(t,a){a=(a&4)!==0;for(var c=0;c<t.length;c++){var r=t[c],e=r.event;r=r.listeners;t:{var l=void 0;if(a)for(var i=r.length-1;0<=i;i--){var o=r[i],n=o.instance,h=o.currentTarget;if(o=o.listener,n!==l&&e.isPropagationStopped())break t;tV(e,o,h),l=n}else for(i=0;i<r.length;i++){if(o=r[i],n=o.instance,h=o.currentTarget,o=o.listener,n!==l&&e.isPropagationStopped())break t;tV(e,o,h),l=n}}}if(Gl)throw t=Ug,Gl=!1,Ug=null,t}function t2(t,a){var c=a[rd];c===void 0&&(c=a[rd]=new Set);var r=t+"__bubble";c.has(r)||(Sw(a,t,2,!1),c.add(r))}function xg(t,a,c){var r=0;a&&(r|=4),Sw(c,t,r,a)}var ml="_reactListening"+Math.random().toString(36).slice(2);function Ya(t){if(!t[ml]){t[ml]=!0,PV.forEach(function(c){c!=="selectionchange"&&(NY.has(c)||xg(c,!1,t),xg(c,!0,t))});var a=t.nodeType===9?t:t.ownerDocument;a===null||a[ml]||(a[ml]=!0,xg("selectionchange",!1,a))}}function Sw(t,a,c,r){switch(gw(a)){case 1:var e=nY;break;case 4:e=hY;break;default:e=Id}c=e.bind(null,a,c,t),e=void 0,!Ng||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(e=!0),r?e!==void 0?t.addEventListener(a,c,{capture:!0,passive:e}):t.addEventListener(a,c,!0):e!==void 0?t.addEventListener(a,c,{passive:e}):t.addEventListener(a,c,!1)}function Cg(t,a,c,r,e){var l=r;if(!(a&1)&&!(a&2)&&r!==null)t:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var o=r.stateNode.containerInfo;if(o===e||o.nodeType===8&&o.parentNode===e)break;if(i===4)for(i=r.return;i!==null;){var n=i.tag;if((n===3||n===4)&&(n=i.stateNode.containerInfo,n===e||n.nodeType===8&&n.parentNode===e))return;i=i.return}for(;o!==null;){if(i=V8(o),i===null)return;if(n=i.tag,n===5||n===6){r=l=i;continue t}o=o.parentNode}}r=r.return}XV(function(){var h=l,v=Ad(c),g=[];t:{var s=Bw.get(t);if(s!==void 0){var d=Gd,z=t;switch(t){case"keypress":if(Bl(c)===0)break t;case"keydown":case"keyup":d=VY;break;case"focusin":z="focus",d=mg;break;case"focusout":z="blur",d=mg;break;case"beforeblur":case"afterblur":d=mg;break;case"click":if(c.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=DH;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=dY;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=yY;break;case Lw:case Hw:case Vw:d=uY;break;case ww:d=kY;break;case"scroll":d=vY;break;case"wheel":d=RY;break;case"copy":case"cut":case"paste":d=mY;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=_H}var u=(a&4)!==0,M=!u&&t==="scroll",m=u?s!==null?s+"Capture":null:s;u=[];for(var p=h,f;p!==null;){f=p;var H=f.stateNode;if(f.tag===5&&H!==null&&(f=H,m!==null&&(H=Na(p,m),H!=null&&u.push(Ja(p,H,f)))),M)break;p=p.return}0<u.length&&(s=new d(s,z,null,c,v),g.push({event:s,listeners:u}))}}if(!(a&7)){t:{if(s=t==="mouseover"||t==="pointerover",d=t==="mouseout"||t==="pointerout",s&&c!==jg&&(z=c.relatedTarget||c.fromElement)&&(V8(z)||z[g5]))break t;if((d||s)&&(s=v.window===v?v:(s=v.ownerDocument)?s.defaultView||s.parentWindow:window,d?(z=c.relatedTarget||c.toElement,d=h,z=z?V8(z):null,z!==null&&(M=P8(z),z!==M||z.tag!==5&&z.tag!==6)&&(z=null)):(d=null,z=h),d!==z)){if(u=DH,H="onMouseLeave",m="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(u=_H,H="onPointerLeave",m="onPointerEnter",p="pointer"),M=d==null?s:t9(d),f=z==null?s:t9(z),s=new u(H,p+"leave",d,c,v),s.target=M,s.relatedTarget=f,H=null,V8(v)===h&&(u=new u(m,p+"enter",z,c,v),u.target=f,u.relatedTarget=M,H=u),M=H,d&&z)a:{for(u=d,m=z,p=0,f=u;f;f=K7(f))p++;for(f=0,H=m;H;H=K7(H))f++;for(;0<p-f;)u=K7(u),p--;for(;0<f-p;)m=K7(m),f--;for(;p--;){if(u===m||m!==null&&u===m.alternate)break a;u=K7(u),m=K7(m)}u=null}else u=null;d!==null&&aV(g,s,d,u,!1),z!==null&&M!==null&&aV(g,M,z,u,!0)}}t:{if(s=h?t9(h):window,d=s.nodeName&&s.nodeName.toLowerCase(),d==="select"||d==="input"&&s.type==="file")var w=ZY;else if(NH(s))if(mw)w=WY;else{w=EY;var y=OY}else(d=s.nodeName)&&d.toLowerCase()==="input"&&(s.type==="checkbox"||s.type==="radio")&&(w=DY);if(w&&(w=w(t,h))){pw(g,w,c,v);break t}y&&y(t,s,h),t==="focusout"&&(y=s._wrapperState)&&y.controlled&&s.type==="number"&&Og(s,"number",s.value)}switch(y=h?t9(h):window,t){case"focusin":(NH(y)||y.contentEditable==="true")&&(Y7=y,Xg=h,Oa=null);break;case"focusout":Oa=Xg=Y7=null;break;case"mousedown":Yg=!0;break;case"contextmenu":case"mouseup":case"dragend":Yg=!1,QH(g,c,v);break;case"selectionchange":if(qY)break;case"keydown":case"keyup":QH(g,c,v)}var k;if(Zd)t:{switch(t){case"compositionstart":var I="onCompositionStart";break t;case"compositionend":I="onCompositionEnd";break t;case"compositionupdate":I="onCompositionUpdate";break t}I=void 0}else X7?zw(t,c)&&(I="onCompositionEnd"):t==="keydown"&&c.keyCode===229&&(I="onCompositionStart");I&&(sw&&c.locale!=="ko"&&(X7||I!=="onCompositionStart"?I==="onCompositionEnd"&&X7&&(k=dw()):(s6=v,Pd="value"in s6?s6.value:s6.textContent,X7=!0)),y=Dl(h,I),0<y.length&&(I=new WH(I,t,null,c,v),g.push({event:I,listeners:y}),k?I.data=k:(k=uw(c),k!==null&&(I.data=k)))),(k=FY?IY(t,c):PY(t,c))&&(h=Dl(h,"onBeforeInput"),0<h.length&&(v=new WH("onBeforeInput","beforeinput",null,c,v),g.push({event:v,listeners:h}),v.data=k))}yw(g,a)})}function Ja(t,a,c){return{instance:t,listener:a,currentTarget:c}}function Dl(t,a){for(var c=a+"Capture",r=[];t!==null;){var e=t,l=e.stateNode;e.tag===5&&l!==null&&(e=l,l=Na(t,c),l!=null&&r.unshift(Ja(t,l,e)),l=Na(t,a),l!=null&&r.push(Ja(t,l,e))),t=t.return}return r}function K7(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function aV(t,a,c,r,e){for(var l=a._reactName,i=[];c!==null&&c!==r;){var o=c,n=o.alternate,h=o.stateNode;if(n!==null&&n===r)break;o.tag===5&&h!==null&&(o=h,e?(n=Na(c,l),n!=null&&i.unshift(Ja(c,n,o))):e||(n=Na(c,l),n!=null&&i.push(Ja(c,n,o)))),c=c.return}i.length!==0&&t.push({event:a,listeners:i})}var UY=/\r\n?/g,KY=/\u0000|\uFFFD/g;function cV(t){return(typeof t=="string"?t:""+t).replace(UY,"\n").replace(KY,"")}function Ml(t,a,c){if(a=cV(a),cV(t)!==a&&c)throw Error(o1(425))}function Wl(){}var Jg=null,td=null;function ad(t,a){return t==="textarea"||t==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var cd=typeof setTimeout=="function"?setTimeout:void 0,$Y=typeof clearTimeout=="function"?clearTimeout:void 0,rV=typeof Promise=="function"?Promise:void 0,QY=typeof queueMicrotask=="function"?queueMicrotask:typeof rV!="undefined"?function(t){return rV.resolve(null).then(t).catch(XY)}:cd;function XY(t){setTimeout(function(){throw t})}function Lg(t,a){var c=a,r=0;do{var e=c.nextSibling;if(t.removeChild(c),e&&e.nodeType===8)if(c=e.data,c==="/$"){if(r===0){t.removeChild(e),$a(a);return}r--}else c!=="$"&&c!=="$?"&&c!=="$!"||r++;c=e}while(c);$a(a)}function M6(t){for(;t!=null;t=t.nextSibling){var a=t.nodeType;if(a===1||a===3)break;if(a===8){if(a=t.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return t}function eV(t){t=t.previousSibling;for(var a=0;t;){if(t.nodeType===8){var c=t.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return t;a--}else c==="/$"&&a++}t=t.previousSibling}return null}var C9=Math.random().toString(36).slice(2),H4="__reactFiber$"+C9,tc="__reactProps$"+C9,g5="__reactContainer$"+C9,rd="__reactEvents$"+C9,YY="__reactListeners$"+C9,JY="__reactHandles$"+C9;function V8(t){var a=t[H4];if(a)return a;for(var c=t.parentNode;c;){if(a=c[g5]||c[H4]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(t=eV(t);t!==null;){if(c=t[H4])return c;t=eV(t)}return a}t=c,c=t.parentNode}return null}function hc(t){return t=t[H4]||t[g5],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function t9(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(o1(33))}function ni(t){return t[tc]||null}var ed=[],a9=-1;function B6(t){return{current:t}}function a2(t){0>a9||(t.current=ed[a9],ed[a9]=null,a9--)}function $1(t,a){a9++,ed[a9]=t.current,t.current=a}var V6={},n0=B6(V6),S0=B6(!1),k8=V6;function z9(t,a){var c=t.type.contextTypes;if(!c)return V6;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===a)return r.__reactInternalMemoizedMaskedChildContext;var e={},l;for(l in c)e[l]=a[l];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=e),e}function k0(t){return t=t.childContextTypes,t!=null}function _l(){a2(S0),a2(n0)}function lV(t,a,c){if(n0.current!==V6)throw Error(o1(168));$1(n0,a),$1(S0,c)}function kw(t,a,c){var r=t.stateNode;if(a=a.childContextTypes,typeof r.getChildContext!="function")return c;r=r.getChildContext();for(var e in r)if(!(e in a))throw Error(o1(108,OX(t)||"Unknown",e));return v2({},c,r)}function jl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||V6,k8=n0.current,$1(n0,t),$1(S0,S0.current),!0}function iV(t,a,c){var r=t.stateNode;if(!r)throw Error(o1(169));c?(t=kw(t,a,k8),r.__reactInternalMemoizedMergedChildContext=t,a2(S0),a2(n0),$1(n0,t)):a2(S0),$1(S0,c)}var i5=null,hi=!1,Hg=!1;function Aw(t){i5===null?i5=[t]:i5.push(t)}function tJ(t){hi=!0,Aw(t)}function y6(){if(!Hg&&i5!==null){Hg=!0;var t=0,a=W1;try{var c=i5;for(W1=1;t<c.length;t++){var r=c[t];do r=r(!0);while(r!==null)}i5=null,hi=!1}catch(e){throw i5!==null&&(i5=i5.slice(t+1)),aw(Rd,y6),e}finally{W1=a,Hg=!1}}return null}var c9=[],r9=0,ql=null,Nl=0,L3=[],H3=0,A8=null,o5=1,n5="";function L8(t,a){c9[r9++]=Nl,c9[r9++]=ql,ql=t,Nl=a}function Rw(t,a,c){L3[H3++]=o5,L3[H3++]=n5,L3[H3++]=A8,A8=t;var r=o5;t=n5;var e=32-U3(r)-1;r&=~(1<<e),c+=1;var l=32-U3(a)+e;if(30<l){var i=e-e%5;l=(r&(1<<i)-1).toString(32),r>>=i,e-=i,o5=1<<32-U3(a)+e|c<<e|r,n5=l+t}else o5=1<<l|c<<e|r,n5=t}function Ed(t){t.return!==null&&(L8(t,1),Rw(t,1,0))}function Dd(t){for(;t===ql;)ql=c9[--r9],c9[r9]=null,Nl=c9[--r9],c9[r9]=null;for(;t===A8;)A8=L3[--H3],L3[H3]=null,n5=L3[--H3],L3[H3]=null,o5=L3[--H3],L3[H3]=null}var Q0=null,$0=null,l2=!1,N3=null;function bw(t,a){var c=V3(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=t,a=t.deletions,a===null?(t.deletions=[c],t.flags|=16):a.push(c)}function oV(t,a){switch(t.tag){case 5:var c=t.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(t.stateNode=a,Q0=t,$0=M6(a.firstChild),!0):!1;case 6:return a=t.pendingProps===""||a.nodeType!==3?null:a,a!==null?(t.stateNode=a,Q0=t,$0=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=A8!==null?{id:o5,overflow:n5}:null,t.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=V3(18,null,null,0),c.stateNode=a,c.return=t,t.child=c,Q0=t,$0=null,!0):!1;default:return!1}}function ld(t){return(t.mode&1)!==0&&(t.flags&128)===0}function id(t){if(l2){var a=$0;if(a){var c=a;if(!oV(t,a)){if(ld(t))throw Error(o1(418));a=M6(c.nextSibling);var r=Q0;a&&oV(t,a)?bw(r,c):(t.flags=t.flags&-4097|2,l2=!1,Q0=t)}}else{if(ld(t))throw Error(o1(418));t.flags=t.flags&-4097|2,l2=!1,Q0=t}}}function nV(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Q0=t}function fl(t){if(t!==Q0)return!1;if(!l2)return nV(t),l2=!0,!1;var a;if((a=t.tag!==3)&&!(a=t.tag!==5)&&(a=t.type,a=a!=="head"&&a!=="body"&&!ad(t.type,t.memoizedProps)),a&&(a=$0)){if(ld(t))throw Fw(),Error(o1(418));for(;a;)bw(t,a),a=M6(a.nextSibling)}if(nV(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o1(317));t:{for(t=t.nextSibling,a=0;t;){if(t.nodeType===8){var c=t.data;if(c==="/$"){if(a===0){$0=M6(t.nextSibling);break t}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}t=t.nextSibling}$0=null}}else $0=Q0?M6(t.stateNode.nextSibling):null;return!0}function Fw(){for(var t=$0;t;)t=M6(t.nextSibling)}function u9(){$0=Q0=null,l2=!1}function Wd(t){N3===null?N3=[t]:N3.push(t)}var aJ=z5.ReactCurrentBatchConfig;function j3(t,a){if(t&&t.defaultProps){a=v2({},a),t=t.defaultProps;for(var c in t)a[c]===void 0&&(a[c]=t[c]);return a}return a}var Ul=B6(null),Kl=null,e9=null,_d=null;function jd(){_d=e9=Kl=null}function qd(t){var a=Ul.current;a2(Ul),t._currentValue=a}function od(t,a,c){for(;t!==null;){var r=t.alternate;if((t.childLanes&a)!==a?(t.childLanes|=a,r!==null&&(r.childLanes|=a)):r!==null&&(r.childLanes&a)!==a&&(r.childLanes|=a),t===c)break;t=t.return}}function g9(t,a){Kl=t,_d=e9=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&a&&(y0=!0),t.firstContext=null)}function B3(t){var a=t._currentValue;if(_d!==t)if(t={context:t,memoizedValue:a,next:null},e9===null){if(Kl===null)throw Error(o1(308));e9=t,Kl.dependencies={lanes:0,firstContext:t}}else e9=e9.next=t;return a}var w8=null;function Nd(t){w8===null?w8=[t]:w8.push(t)}function Iw(t,a,c,r){var e=a.interleaved;return e===null?(c.next=c,Nd(a)):(c.next=e.next,e.next=c),a.interleaved=c,d5(t,r)}function d5(t,a){t.lanes|=a;var c=t.alternate;for(c!==null&&(c.lanes|=a),c=t,t=t.return;t!==null;)t.childLanes|=a,c=t.alternate,c!==null&&(c.childLanes|=a),c=t,t=t.return;return c.tag===3?c.stateNode:null}var v6=!1;function Ud(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pw(t,a){t=t.updateQueue,a.updateQueue===t&&(a.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function h5(t,a){return{eventTime:t,lane:a,tag:0,payload:null,callback:null,next:null}}function f6(t,a,c){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,T1&2){var e=r.pending;return e===null?a.next=a:(a.next=e.next,e.next=a),r.pending=a,d5(t,c)}return e=r.interleaved,e===null?(a.next=a,Nd(r)):(a.next=e.next,e.next=a),r.interleaved=a,d5(t,c)}function yl(t,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var r=a.lanes;r&=t.pendingLanes,c|=r,a.lanes=c,bd(t,c)}}function hV(t,a){var c=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,c===r)){var e=null,l=null;if(c=c.firstBaseUpdate,c!==null){do{var i={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};l===null?e=l=i:l=l.next=i,c=c.next}while(c!==null);l===null?e=l=a:l=l.next=a}else e=l=a;c={baseState:r.baseState,firstBaseUpdate:e,lastBaseUpdate:l,shared:r.shared,effects:r.effects},t.updateQueue=c;return}t=c.lastBaseUpdate,t===null?c.firstBaseUpdate=a:t.next=a,c.lastBaseUpdate=a}function $l(t,a,c,r){var e=t.updateQueue;v6=!1;var l=e.firstBaseUpdate,i=e.lastBaseUpdate,o=e.shared.pending;if(o!==null){e.shared.pending=null;var n=o,h=n.next;n.next=null,i===null?l=h:i.next=h,i=n;var v=t.alternate;v!==null&&(v=v.updateQueue,o=v.lastBaseUpdate,o!==i&&(o===null?v.firstBaseUpdate=h:o.next=h,v.lastBaseUpdate=n))}if(l!==null){var g=e.baseState;i=0,v=h=n=null,o=l;do{var s=o.lane,d=o.eventTime;if((r&s)===s){v!==null&&(v=v.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});t:{var z=t,u=o;switch(s=a,d=c,u.tag){case 1:if(z=u.payload,typeof z=="function"){g=z.call(d,g,s);break t}g=z;break t;case 3:z.flags=z.flags&-65537|128;case 0:if(z=u.payload,s=typeof z=="function"?z.call(d,g,s):z,s==null)break t;g=v2({},g,s);break t;case 2:v6=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,s=e.effects,s===null?e.effects=[o]:s.push(o))}else d={eventTime:d,lane:s,tag:o.tag,payload:o.payload,callback:o.callback,next:null},v===null?(h=v=d,n=g):v=v.next=d,i|=s;if(o=o.next,o===null){if(o=e.shared.pending,o===null)break;s=o,o=s.next,s.next=null,e.lastBaseUpdate=s,e.shared.pending=null}}while(1);if(v===null&&(n=g),e.baseState=n,e.firstBaseUpdate=h,e.lastBaseUpdate=v,a=e.shared.interleaved,a!==null){e=a;do i|=e.lane,e=e.next;while(e!==a)}else l===null&&(e.shared.lanes=0);b8|=i,t.lanes=i,t.memoizedState=g}}function vV(t,a,c){if(t=a.effects,a.effects=null,t!==null)for(a=0;a<t.length;a++){var r=t[a],e=r.callback;if(e!==null){if(r.callback=null,r=c,typeof e!="function")throw Error(o1(191,e));e.call(r)}}}var Gw=new IV.Component().refs;function nd(t,a,c,r){a=t.memoizedState,c=c(r,a),c=c==null?a:v2({},a,c),t.memoizedState=c,t.lanes===0&&(t.updateQueue.baseState=c)}var vi={isMounted:function(t){return(t=t._reactInternals)?P8(t)===t:!1},enqueueSetState:function(t,a,c){t=t._reactInternals;var r=f0(),e=C6(t),l=h5(r,e);l.payload=a,c!=null&&(l.callback=c),a=f6(t,l,e),a!==null&&(K3(a,t,e,r),yl(a,t,e))},enqueueReplaceState:function(t,a,c){t=t._reactInternals;var r=f0(),e=C6(t),l=h5(r,e);l.tag=1,l.payload=a,c!=null&&(l.callback=c),a=f6(t,l,e),a!==null&&(K3(a,t,e,r),yl(a,t,e))},enqueueForceUpdate:function(t,a){t=t._reactInternals;var c=f0(),r=C6(t),e=h5(c,r);e.tag=2,a!=null&&(e.callback=a),a=f6(t,e,r),a!==null&&(K3(a,t,r,c),yl(a,t,r))}};function gV(t,a,c,r,e,l,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,l,i):a.prototype&&a.prototype.isPureReactComponent?!Xa(c,r)||!Xa(e,l):!0}function Tw(t,a,c){var r=!1,e=V6,l=a.contextType;return typeof l=="object"&&l!==null?l=B3(l):(e=k0(a)?k8:n0.current,r=a.contextTypes,l=(r=r!=null)?z9(t,e):V6),a=new a(c,l),t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=vi,t.stateNode=a,a._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=l),a}function dV(t,a,c,r){t=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,r),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,r),a.state!==t&&vi.enqueueReplaceState(a,a.state,null)}function hd(t,a,c,r){var e=t.stateNode;e.props=c,e.state=t.memoizedState,e.refs=Gw,Ud(t);var l=a.contextType;typeof l=="object"&&l!==null?e.context=B3(l):(l=k0(a)?k8:n0.current,e.context=z9(t,l)),e.state=t.memoizedState,l=a.getDerivedStateFromProps,typeof l=="function"&&(nd(t,a,l,c),e.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof e.getSnapshotBeforeUpdate=="function"||typeof e.UNSAFE_componentWillMount!="function"&&typeof e.componentWillMount!="function"||(a=e.state,typeof e.componentWillMount=="function"&&e.componentWillMount(),typeof e.UNSAFE_componentWillMount=="function"&&e.UNSAFE_componentWillMount(),a!==e.state&&vi.enqueueReplaceState(e,e.state,null),$l(t,c,e,r),e.state=t.memoizedState),typeof e.componentDidMount=="function"&&(t.flags|=4194308)}function ya(t,a,c){if(t=c.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(o1(309));var r=c.stateNode}if(!r)throw Error(o1(147,t));var e=r,l=""+t;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===l?a.ref:(a=function(i){var o=e.refs;o===Gw&&(o=e.refs={}),i===null?delete o[l]:o[l]=i},a._stringRef=l,a)}if(typeof t!="string")throw Error(o1(284));if(!c._owner)throw Error(o1(290,t))}return t}function xl(t,a){throw t=Object.prototype.toString.call(a),Error(o1(31,t==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":t))}function sV(t){var a=t._init;return a(t._payload)}function Zw(t){function a(m,p){if(t){var f=m.deletions;f===null?(m.deletions=[p],m.flags|=16):f.push(p)}}function c(m,p){if(!t)return null;for(;p!==null;)a(m,p),p=p.sibling;return null}function r(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function e(m,p){return m=L6(m,p),m.index=0,m.sibling=null,m}function l(m,p,f){return m.index=f,t?(f=m.alternate,f!==null?(f=f.index,f<p?(m.flags|=2,p):f):(m.flags|=2,p)):(m.flags|=1048576,p)}function i(m){return t&&m.alternate===null&&(m.flags|=2),m}function o(m,p,f,H){return p===null||p.tag!==6?(p=Ag(f,m.mode,H),p.return=m,p):(p=e(p,f),p.return=m,p)}function n(m,p,f,H){var w=f.type;return w===Q7?v(m,p,f.props.children,H,f.key):p!==null&&(p.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===h6&&sV(w)===p.type)?(H=e(p,f.props),H.ref=ya(m,p,f),H.return=m,H):(H=Fl(f.type,f.key,f.props,null,m.mode,H),H.ref=ya(m,p,f),H.return=m,H)}function h(m,p,f,H){return p===null||p.tag!==4||p.stateNode.containerInfo!==f.containerInfo||p.stateNode.implementation!==f.implementation?(p=Rg(f,m.mode,H),p.return=m,p):(p=e(p,f.children||[]),p.return=m,p)}function v(m,p,f,H,w){return p===null||p.tag!==7?(p=S8(f,m.mode,H,w),p.return=m,p):(p=e(p,f),p.return=m,p)}function g(m,p,f){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Ag(""+p,m.mode,f),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ll:return f=Fl(p.type,p.key,p.props,null,m.mode,f),f.ref=ya(m,null,p),f.return=m,f;case $7:return p=Rg(p,m.mode,f),p.return=m,p;case h6:var H=p._init;return g(m,H(p._payload),f)}if(ba(p)||Ha(p))return p=S8(p,m.mode,f,null),p.return=m,p;xl(m,p)}return null}function s(m,p,f,H){var w=p!==null?p.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return w!==null?null:o(m,p,""+f,H);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case ll:return f.key===w?n(m,p,f,H):null;case $7:return f.key===w?h(m,p,f,H):null;case h6:return w=f._init,s(m,p,w(f._payload),H)}if(ba(f)||Ha(f))return w!==null?null:v(m,p,f,H,null);xl(m,f)}return null}function d(m,p,f,H,w){if(typeof H=="string"&&H!==""||typeof H=="number")return m=m.get(f)||null,o(p,m,""+H,w);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case ll:return m=m.get(H.key===null?f:H.key)||null,n(p,m,H,w);case $7:return m=m.get(H.key===null?f:H.key)||null,h(p,m,H,w);case h6:var y=H._init;return d(m,p,f,y(H._payload),w)}if(ba(H)||Ha(H))return m=m.get(f)||null,v(p,m,H,w,null);xl(p,H)}return null}function z(m,p,f,H){for(var w=null,y=null,k=p,I=p=0,U=null;k!==null&&I<f.length;I++){k.index>I?(U=k,k=null):U=k.sibling;var A=s(m,k,f[I],H);if(A===null){k===null&&(k=U);break}t&&k&&A.alternate===null&&a(m,k),p=l(A,p,I),y===null?w=A:y.sibling=A,y=A,k=U}if(I===f.length)return c(m,k),l2&&L8(m,I),w;if(k===null){for(;I<f.length;I++)k=g(m,f[I],H),k!==null&&(p=l(k,p,I),y===null?w=k:y.sibling=k,y=k);return l2&&L8(m,I),w}for(k=r(m,k);I<f.length;I++)U=d(k,m,I,f[I],H),U!==null&&(t&&U.alternate!==null&&k.delete(U.key===null?I:U.key),p=l(U,p,I),y===null?w=U:y.sibling=U,y=U);return t&&k.forEach(function(G){return a(m,G)}),l2&&L8(m,I),w}function u(m,p,f,H){var w=Ha(f);if(typeof w!="function")throw Error(o1(150));if(f=w.call(f),f==null)throw Error(o1(151));for(var y=w=null,k=p,I=p=0,U=null,A=f.next();k!==null&&!A.done;I++,A=f.next()){k.index>I?(U=k,k=null):U=k.sibling;var G=s(m,k,A.value,H);if(G===null){k===null&&(k=U);break}t&&k&&G.alternate===null&&a(m,k),p=l(G,p,I),y===null?w=G:y.sibling=G,y=G,k=U}if(A.done)return c(m,k),l2&&L8(m,I),w;if(k===null){for(;!A.done;I++,A=f.next())A=g(m,A.value,H),A!==null&&(p=l(A,p,I),y===null?w=A:y.sibling=A,y=A);return l2&&L8(m,I),w}for(k=r(m,k);!A.done;I++,A=f.next())A=d(k,m,I,A.value,H),A!==null&&(t&&A.alternate!==null&&k.delete(A.key===null?I:A.key),p=l(A,p,I),y===null?w=A:y.sibling=A,y=A);return t&&k.forEach(function(C){return a(m,C)}),l2&&L8(m,I),w}function M(m,p,f,H){if(typeof f=="object"&&f!==null&&f.type===Q7&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case ll:t:{for(var w=f.key,y=p;y!==null;){if(y.key===w){if(w=f.type,w===Q7){if(y.tag===7){c(m,y.sibling),p=e(y,f.props.children),p.return=m,m=p;break t}}else if(y.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===h6&&sV(w)===y.type){c(m,y.sibling),p=e(y,f.props),p.ref=ya(m,y,f),p.return=m,m=p;break t}c(m,y);break}else a(m,y);y=y.sibling}f.type===Q7?(p=S8(f.props.children,m.mode,H,f.key),p.return=m,m=p):(H=Fl(f.type,f.key,f.props,null,m.mode,H),H.ref=ya(m,p,f),H.return=m,m=H)}return i(m);case $7:t:{for(y=f.key;p!==null;){if(p.key===y)if(p.tag===4&&p.stateNode.containerInfo===f.containerInfo&&p.stateNode.implementation===f.implementation){c(m,p.sibling),p=e(p,f.children||[]),p.return=m,m=p;break t}else{c(m,p);break}else a(m,p);p=p.sibling}p=Rg(f,m.mode,H),p.return=m,m=p}return i(m);case h6:return y=f._init,M(m,p,y(f._payload),H)}if(ba(f))return z(m,p,f,H);if(Ha(f))return u(m,p,f,H);xl(m,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,p!==null&&p.tag===6?(c(m,p.sibling),p=e(p,f),p.return=m,m=p):(c(m,p),p=Ag(f,m.mode,H),p.return=m,m=p),i(m)):c(m,p)}return M}var p9=Zw(!0),Ow=Zw(!1),vc={},w4=B6(vc),ac=B6(vc),cc=B6(vc);function B8(t){if(t===vc)throw Error(o1(174));return t}function Kd(t,a){switch($1(cc,a),$1(ac,t),$1(w4,vc),t=a.nodeType,t){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Dg(null,"");break;default:t=t===8?a.parentNode:a,a=t.namespaceURI||null,t=t.tagName,a=Dg(a,t)}a2(w4),$1(w4,a)}function m9(){a2(w4),a2(ac),a2(cc)}function Ew(t){B8(cc.current);var a=B8(w4.current),c=Dg(a,t.type);a!==c&&($1(ac,t),$1(w4,c))}function $d(t){ac.current===t&&(a2(w4),a2(ac))}var n2=B6(0);function Ql(t){for(var a=t;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Vg=[];function Qd(){for(var t=0;t<Vg.length;t++)Vg[t]._workInProgressVersionPrimary=null;Vg.length=0}var Sl=z5.ReactCurrentDispatcher,wg=z5.ReactCurrentBatchConfig,R8=0,h2=null,S2=null,b2=null,Xl=!1,Ea=!1,rc=0,cJ=0;function l0(){throw Error(o1(321))}function Xd(t,a){if(a===null)return!1;for(var c=0;c<a.length&&c<t.length;c++)if(!$3(t[c],a[c]))return!1;return!0}function Yd(t,a,c,r,e,l){if(R8=l,h2=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Sl.current=t===null||t.memoizedState===null?iJ:oJ,t=c(r,e),Ea){l=0;do{if(Ea=!1,rc=0,25<=l)throw Error(o1(301));l+=1,b2=S2=null,a.updateQueue=null,Sl.current=nJ,t=c(r,e)}while(Ea)}if(Sl.current=Yl,a=S2!==null&&S2.next!==null,R8=0,b2=S2=h2=null,Xl=!1,a)throw Error(o1(300));return t}function Jd(){var t=rc!==0;return rc=0,t}function L4(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return b2===null?h2.memoizedState=b2=t:b2=b2.next=t,b2}function y3(){if(S2===null){var t=h2.alternate;t=t!==null?t.memoizedState:null}else t=S2.next;var a=b2===null?h2.memoizedState:b2.next;if(a!==null)b2=a,S2=t;else{if(t===null)throw Error(o1(310));S2=t,t={memoizedState:S2.memoizedState,baseState:S2.baseState,baseQueue:S2.baseQueue,queue:S2.queue,next:null},b2===null?h2.memoizedState=b2=t:b2=b2.next=t}return b2}function ec(t,a){return typeof a=="function"?a(t):a}function Bg(t){var a=y3(),c=a.queue;if(c===null)throw Error(o1(311));c.lastRenderedReducer=t;var r=S2,e=r.baseQueue,l=c.pending;if(l!==null){if(e!==null){var i=e.next;e.next=l.next,l.next=i}r.baseQueue=e=l,c.pending=null}if(e!==null){l=e.next,r=r.baseState;var o=i=null,n=null,h=l;do{var v=h.lane;if((R8&v)===v)n!==null&&(n=n.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var g={lane:v,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};n===null?(o=n=g,i=r):n=n.next=g,h2.lanes|=v,b8|=v}h=h.next}while(h!==null&&h!==l);n===null?i=r:n.next=o,$3(r,a.memoizedState)||(y0=!0),a.memoizedState=r,a.baseState=i,a.baseQueue=n,c.lastRenderedState=r}if(t=c.interleaved,t!==null){e=t;do l=e.lane,h2.lanes|=l,b8|=l,e=e.next;while(e!==t)}else e===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function yg(t){var a=y3(),c=a.queue;if(c===null)throw Error(o1(311));c.lastRenderedReducer=t;var r=c.dispatch,e=c.pending,l=a.memoizedState;if(e!==null){c.pending=null;var i=e=e.next;do l=t(l,i.action),i=i.next;while(i!==e);$3(l,a.memoizedState)||(y0=!0),a.memoizedState=l,a.baseQueue===null&&(a.baseState=l),c.lastRenderedState=l}return[l,r]}function Dw(){}function Ww(t,a){var c=h2,r=y3(),e=a(),l=!$3(r.memoizedState,e);if(l&&(r.memoizedState=e,y0=!0),r=r.queue,ts(qw.bind(null,c,r,t),[t]),r.getSnapshot!==a||l||b2!==null&&b2.memoizedState.tag&1){if(c.flags|=2048,lc(9,jw.bind(null,c,r,e,a),void 0,null),F2===null)throw Error(o1(349));R8&30||_w(c,a,e)}return e}function _w(t,a,c){t.flags|=16384,t={getSnapshot:a,value:c},a=h2.updateQueue,a===null?(a={lastEffect:null,stores:null},h2.updateQueue=a,a.stores=[t]):(c=a.stores,c===null?a.stores=[t]:c.push(t))}function jw(t,a,c,r){a.value=c,a.getSnapshot=r,Nw(a)&&Uw(t)}function qw(t,a,c){return c(function(){Nw(a)&&Uw(t)})}function Nw(t){var a=t.getSnapshot;t=t.value;try{var c=a();return!$3(t,c)}catch(r){return!0}}function Uw(t){var a=d5(t,1);a!==null&&K3(a,t,1,-1)}function zV(t){var a=L4();return typeof t=="function"&&(t=t()),a.memoizedState=a.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ec,lastRenderedState:t},a.queue=t,t=t.dispatch=lJ.bind(null,h2,t),[a.memoizedState,t]}function lc(t,a,c,r){return t={tag:t,create:a,destroy:c,deps:r,next:null},a=h2.updateQueue,a===null?(a={lastEffect:null,stores:null},h2.updateQueue=a,a.lastEffect=t.next=t):(c=a.lastEffect,c===null?a.lastEffect=t.next=t:(r=c.next,c.next=t,t.next=r,a.lastEffect=t)),t}function Kw(){return y3().memoizedState}function kl(t,a,c,r){var e=L4();h2.flags|=t,e.memoizedState=lc(1|a,c,void 0,r===void 0?null:r)}function gi(t,a,c,r){var e=y3();r=r===void 0?null:r;var l=void 0;if(S2!==null){var i=S2.memoizedState;if(l=i.destroy,r!==null&&Xd(r,i.deps)){e.memoizedState=lc(a,c,l,r);return}}h2.flags|=t,e.memoizedState=lc(1|a,c,l,r)}function uV(t,a){return kl(8390656,8,t,a)}function ts(t,a){return gi(2048,8,t,a)}function $w(t,a){return gi(4,2,t,a)}function Qw(t,a){return gi(4,4,t,a)}function Xw(t,a){if(typeof a=="function")return t=t(),a(t),function(){a(null)};if(a!=null)return t=t(),a.current=t,function(){a.current=null}}function Yw(t,a,c){return c=c!=null?c.concat([t]):null,gi(4,4,Xw.bind(null,a,t),c)}function as(){}function Jw(t,a){var c=y3();a=a===void 0?null:a;var r=c.memoizedState;return r!==null&&a!==null&&Xd(a,r[1])?r[0]:(c.memoizedState=[t,a],t)}function tB(t,a){var c=y3();a=a===void 0?null:a;var r=c.memoizedState;return r!==null&&a!==null&&Xd(a,r[1])?r[0]:(t=t(),c.memoizedState=[t,a],t)}function aB(t,a,c){return R8&21?($3(c,a)||(c=ew(),h2.lanes|=c,b8|=c,t.baseState=!0),a):(t.baseState&&(t.baseState=!1,y0=!0),t.memoizedState=c)}function rJ(t,a){var c=W1;W1=c!==0&&4>c?c:4,t(!0);var r=wg.transition;wg.transition={};try{t(!1),a()}finally{W1=c,wg.transition=r}}function cB(){return y3().memoizedState}function eJ(t,a,c){var r=C6(t);if(c={lane:r,action:c,hasEagerState:!1,eagerState:null,next:null},rB(t))eB(a,c);else if(c=Iw(t,a,c,r),c!==null){var e=f0();K3(c,t,r,e),lB(c,a,r)}}function lJ(t,a,c){var r=C6(t),e={lane:r,action:c,hasEagerState:!1,eagerState:null,next:null};if(rB(t))eB(a,e);else{var l=t.alternate;if(t.lanes===0&&(l===null||l.lanes===0)&&(l=a.lastRenderedReducer,l!==null))try{var i=a.lastRenderedState,o=l(i,c);if(e.hasEagerState=!0,e.eagerState=o,$3(o,i)){var n=a.interleaved;n===null?(e.next=e,Nd(a)):(e.next=n.next,n.next=e),a.interleaved=e;return}}catch(h){}finally{}c=Iw(t,a,e,r),c!==null&&(e=f0(),K3(c,t,r,e),lB(c,a,r))}}function rB(t){var a=t.alternate;return t===h2||a!==null&&a===h2}function eB(t,a){Ea=Xl=!0;var c=t.pending;c===null?a.next=a:(a.next=c.next,c.next=a),t.pending=a}function lB(t,a,c){if(c&4194240){var r=a.lanes;r&=t.pendingLanes,c|=r,a.lanes=c,bd(t,c)}}var Yl={readContext:B3,useCallback:l0,useContext:l0,useEffect:l0,useImperativeHandle:l0,useInsertionEffect:l0,useLayoutEffect:l0,useMemo:l0,useReducer:l0,useRef:l0,useState:l0,useDebugValue:l0,useDeferredValue:l0,useTransition:l0,useMutableSource:l0,useSyncExternalStore:l0,useId:l0,unstable_isNewReconciler:!1},iJ={readContext:B3,useCallback:function(t,a){return L4().memoizedState=[t,a===void 0?null:a],t},useContext:B3,useEffect:uV,useImperativeHandle:function(t,a,c){return c=c!=null?c.concat([t]):null,kl(4194308,4,Xw.bind(null,a,t),c)},useLayoutEffect:function(t,a){return kl(4194308,4,t,a)},useInsertionEffect:function(t,a){return kl(4,2,t,a)},useMemo:function(t,a){var c=L4();return a=a===void 0?null:a,t=t(),c.memoizedState=[t,a],t},useReducer:function(t,a,c){var r=L4();return a=c!==void 0?c(a):a,r.memoizedState=r.baseState=a,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:a},r.queue=t,t=t.dispatch=eJ.bind(null,h2,t),[r.memoizedState,t]},useRef:function(t){var a=L4();return t={current:t},a.memoizedState=t},useState:zV,useDebugValue:as,useDeferredValue:function(t){return L4().memoizedState=t},useTransition:function(){var t=zV(!1),a=t[0];return t=rJ.bind(null,t[1]),L4().memoizedState=t,[a,t]},useMutableSource:function(){},useSyncExternalStore:function(t,a,c){var r=h2,e=L4();if(l2){if(c===void 0)throw Error(o1(407));c=c()}else{if(c=a(),F2===null)throw Error(o1(349));R8&30||_w(r,a,c)}e.memoizedState=c;var l={value:c,getSnapshot:a};return e.queue=l,uV(qw.bind(null,r,l,t),[t]),r.flags|=2048,lc(9,jw.bind(null,r,l,c,a),void 0,null),c},useId:function(){var t=L4(),a=F2.identifierPrefix;if(l2){var c=n5,r=o5;c=(r&~(1<<32-U3(r)-1)).toString(32)+c,a=":"+a+"R"+c,c=rc++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=cJ++,a=":"+a+"r"+c.toString(32)+":";return t.memoizedState=a},unstable_isNewReconciler:!1},oJ={readContext:B3,useCallback:Jw,useContext:B3,useEffect:ts,useImperativeHandle:Yw,useInsertionEffect:$w,useLayoutEffect:Qw,useMemo:tB,useReducer:Bg,useRef:Kw,useState:function(){return Bg(ec)},useDebugValue:as,useDeferredValue:function(t){var a=y3();return aB(a,S2.memoizedState,t)},useTransition:function(){var t=Bg(ec)[0],a=y3().memoizedState;return[t,a]},useMutableSource:Dw,useSyncExternalStore:Ww,useId:cB,unstable_isNewReconciler:!1},nJ={readContext:B3,useCallback:Jw,useContext:B3,useEffect:ts,useImperativeHandle:Yw,useInsertionEffect:$w,useLayoutEffect:Qw,useMemo:tB,useReducer:yg,useRef:Kw,useState:function(){return yg(ec)},useDebugValue:as,useDeferredValue:function(t){var a=y3();return S2===null?a.memoizedState=t:aB(a,S2.memoizedState,t)},useTransition:function(){var t=yg(ec)[0],a=y3().memoizedState;return[t,a]},useMutableSource:Dw,useSyncExternalStore:Ww,useId:cB,unstable_isNewReconciler:!1};function M9(t,a){try{var c="",r=a;do c+=ZX(r),r=r.return;while(r);var e=c}catch(l){e="\nError generating stack: "+l.message+"\n"+l.stack}return{value:t,source:a,stack:e,digest:null}}function Sg(t,a,c){return{value:t,source:null,stack:c!=null?c:null,digest:a!=null?a:null}}function vd(t,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var hJ=typeof WeakMap=="function"?WeakMap:Map;function iB(t,a,c){c=h5(-1,c),c.tag=3,c.payload={element:null};var r=a.value;return c.callback=function(){ti||(ti=!0,xd=r),vd(t,a)},c}function oB(t,a,c){c=h5(-1,c),c.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var e=a.value;c.payload=function(){return r(e)},c.callback=function(){vd(t,a)}}var l=t.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(c.callback=function(){vd(t,a),typeof r!="function"&&(x6===null?x6=new Set([this]):x6.add(this));var i=a.stack;this.componentDidCatch(a.value,{componentStack:i!==null?i:""})}),c}function pV(t,a,c){var r=t.pingCache;if(r===null){r=t.pingCache=new hJ;var e=new Set;r.set(a,e)}else e=r.get(a),e===void 0&&(e=new Set,r.set(a,e));e.has(c)||(e.add(c),t=HJ.bind(null,t,a,c),a.then(t,t))}function mV(t){do{var a;if((a=t.tag===13)&&(a=t.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return t;t=t.return}while(t!==null);return null}function MV(t,a,c,r,e){return t.mode&1?(t.flags|=65536,t.lanes=e,t):(t===a?t.flags|=65536:(t.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=h5(-1,1),a.tag=2,f6(c,a,1))),c.lanes|=1),t)}var vJ=z5.ReactCurrentOwner,y0=!1;function M0(t,a,c,r){a.child=t===null?Ow(a,null,c,r):p9(a,t.child,c,r)}function fV(t,a,c,r,e){c=c.render;var l=a.ref;return g9(a,e),r=Yd(t,a,c,r,l,e),c=Jd(),t!==null&&!y0?(a.updateQueue=t.updateQueue,a.flags&=-2053,t.lanes&=~e,s5(t,a,e)):(l2&&c&&Ed(a),a.flags|=1,M0(t,a,r,e),a.child)}function xV(t,a,c,r,e){if(t===null){var l=c.type;return typeof l=="function"&&!hs(l)&&l.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=l,nB(t,a,l,r,e)):(t=Fl(c.type,null,r,a,a.mode,e),t.ref=a.ref,t.return=a,a.child=t)}if(l=t.child,!(t.lanes&e)){var i=l.memoizedProps;if(c=c.compare,c=c!==null?c:Xa,c(i,r)&&t.ref===a.ref)return s5(t,a,e)}return a.flags|=1,t=L6(l,r),t.ref=a.ref,t.return=a,a.child=t}function nB(t,a,c,r,e){if(t!==null){var l=t.memoizedProps;if(Xa(l,r)&&t.ref===a.ref)if(y0=!1,a.pendingProps=r=l,(t.lanes&e)!==0)t.flags&131072&&(y0=!0);else return a.lanes=t.lanes,s5(t,a,e)}return gd(t,a,c,r,e)}function hB(t,a,c){var r=a.pendingProps,e=r.children,l=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(a.mode&1))a.memoizedState={baseLanes:0,cachePool:null,transitions:null},$1(i9,K0),K0|=c;else{if(!(c&1073741824))return t=l!==null?l.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:t,cachePool:null,transitions:null},a.updateQueue=null,$1(i9,K0),K0|=t,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:c,$1(i9,K0),K0|=r}else l!==null?(r=l.baseLanes|c,a.memoizedState=null):r=c,$1(i9,K0),K0|=r;return M0(t,a,e,c),a.child}function vB(t,a){var c=a.ref;(t===null&&c!==null||t!==null&&t.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function gd(t,a,c,r,e){var l=k0(c)?k8:n0.current;return l=z9(a,l),g9(a,e),c=Yd(t,a,c,r,l,e),r=Jd(),t!==null&&!y0?(a.updateQueue=t.updateQueue,a.flags&=-2053,t.lanes&=~e,s5(t,a,e)):(l2&&r&&Ed(a),a.flags|=1,M0(t,a,c,e),a.child)}function CV(t,a,c,r,e){if(k0(c)){var l=!0;jl(a)}else l=!1;if(g9(a,e),a.stateNode===null)Al(t,a),Tw(a,c,r),hd(a,c,r,e),r=!0;else if(t===null){var i=a.stateNode,o=a.memoizedProps;i.props=o;var n=i.context,h=c.contextType;typeof h=="object"&&h!==null?h=B3(h):(h=k0(c)?k8:n0.current,h=z9(a,h));var v=c.getDerivedStateFromProps,g=typeof v=="function"||typeof i.getSnapshotBeforeUpdate=="function";g||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==r||n!==h)&&dV(a,i,r,h),v6=!1;var s=a.memoizedState;i.state=s,$l(a,r,i,e),n=a.memoizedState,o!==r||s!==n||S0.current||v6?(typeof v=="function"&&(nd(a,c,v,r),n=a.memoizedState),(o=v6||gV(a,c,o,r,s,n,h))?(g||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(a.flags|=4194308)):(typeof i.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=r,a.memoizedState=n),i.props=r,i.state=n,i.context=h,r=o):(typeof i.componentDidMount=="function"&&(a.flags|=4194308),r=!1)}else{i=a.stateNode,Pw(t,a),o=a.memoizedProps,h=a.type===a.elementType?o:j3(a.type,o),i.props=h,g=a.pendingProps,s=i.context,n=c.contextType,typeof n=="object"&&n!==null?n=B3(n):(n=k0(c)?k8:n0.current,n=z9(a,n));var d=c.getDerivedStateFromProps;(v=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==g||s!==n)&&dV(a,i,r,n),v6=!1,s=a.memoizedState,i.state=s,$l(a,r,i,e);var z=a.memoizedState;o!==g||s!==z||S0.current||v6?(typeof d=="function"&&(nd(a,c,d,r),z=a.memoizedState),(h=v6||gV(a,c,h,r,s,z,n)||!1)?(v||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,z,n),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,z,n)),typeof i.componentDidUpdate=="function"&&(a.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===t.memoizedProps&&s===t.memoizedState||(a.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&s===t.memoizedState||(a.flags|=1024),a.memoizedProps=r,a.memoizedState=z),i.props=r,i.state=z,i.context=n,r=h):(typeof i.componentDidUpdate!="function"||o===t.memoizedProps&&s===t.memoizedState||(a.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&s===t.memoizedState||(a.flags|=1024),r=!1)}return dd(t,a,c,r,l,e)}function dd(t,a,c,r,e,l){vB(t,a);var i=(a.flags&128)!==0;if(!r&&!i)return e&&iV(a,c,!1),s5(t,a,l);r=a.stateNode,vJ.current=a;var o=i&&typeof c.getDerivedStateFromError!="function"?null:r.render();return a.flags|=1,t!==null&&i?(a.child=p9(a,t.child,null,l),a.child=p9(a,null,o,l)):M0(t,a,o,l),a.memoizedState=r.state,e&&iV(a,c,!0),a.child}function gB(t){var a=t.stateNode;a.pendingContext?lV(t,a.pendingContext,a.pendingContext!==a.context):a.context&&lV(t,a.context,!1),Kd(t,a.containerInfo)}function LV(t,a,c,r,e){return u9(),Wd(e),a.flags|=256,M0(t,a,c,r),a.child}var sd={dehydrated:null,treeContext:null,retryLane:0};function zd(t){return{baseLanes:t,cachePool:null,transitions:null}}function dB(t,a,c){var r=a.pendingProps,e=n2.current,l=!1,i=(a.flags&128)!==0,o;if((o=i)||(o=t!==null&&t.memoizedState===null?!1:(e&2)!==0),o?(l=!0,a.flags&=-129):(t===null||t.memoizedState!==null)&&(e|=1),$1(n2,e&1),t===null)return id(a),t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(a.mode&1?t.data==="$!"?a.lanes=8:a.lanes=1073741824:a.lanes=1,null):(i=r.children,t=r.fallback,l?(r=a.mode,l=a.child,i={mode:"hidden",children:i},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=i):l=zi(i,r,0,null),t=S8(t,r,c,null),l.return=a,t.return=a,l.sibling=t,a.child=l,a.child.memoizedState=zd(c),a.memoizedState=sd,t):cs(a,i));if(e=t.memoizedState,e!==null&&(o=e.dehydrated,o!==null))return gJ(t,a,i,r,o,e,c);if(l){l=r.fallback,i=a.mode,e=t.child,o=e.sibling;var n={mode:"hidden",children:r.children};return!(i&1)&&a.child!==e?(r=a.child,r.childLanes=0,r.pendingProps=n,a.deletions=null):(r=L6(e,n),r.subtreeFlags=e.subtreeFlags&14680064),o!==null?l=L6(o,l):(l=S8(l,i,c,null),l.flags|=2),l.return=a,r.return=a,r.sibling=l,a.child=r,r=l,l=a.child,i=t.child.memoizedState,i=i===null?zd(c):{baseLanes:i.baseLanes|c,cachePool:null,transitions:i.transitions},l.memoizedState=i,l.childLanes=t.childLanes&~c,a.memoizedState=sd,r}return l=t.child,t=l.sibling,r=L6(l,{mode:"visible",children:r.children}),!(a.mode&1)&&(r.lanes=c),r.return=a,r.sibling=null,t!==null&&(c=a.deletions,c===null?(a.deletions=[t],a.flags|=16):c.push(t)),a.child=r,a.memoizedState=null,r}function cs(t,a){return a=zi({mode:"visible",children:a},t.mode,0,null),a.return=t,t.child=a}function Cl(t,a,c,r){return r!==null&&Wd(r),p9(a,t.child,null,c),t=cs(a,a.pendingProps.children),t.flags|=2,a.memoizedState=null,t}function gJ(t,a,c,r,e,l,i){if(c)return a.flags&256?(a.flags&=-257,r=Sg(Error(o1(422))),Cl(t,a,i,r)):a.memoizedState!==null?(a.child=t.child,a.flags|=128,null):(l=r.fallback,e=a.mode,r=zi({mode:"visible",children:r.children},e,0,null),l=S8(l,e,i,null),l.flags|=2,r.return=a,l.return=a,r.sibling=l,a.child=r,a.mode&1&&p9(a,t.child,null,i),a.child.memoizedState=zd(i),a.memoizedState=sd,l);if(!(a.mode&1))return Cl(t,a,i,null);if(e.data==="$!"){if(r=e.nextSibling&&e.nextSibling.dataset,r)var o=r.dgst;return r=o,l=Error(o1(419)),r=Sg(l,r,void 0),Cl(t,a,i,r)}if(o=(i&t.childLanes)!==0,y0||o){if(r=F2,r!==null){switch(i&-i){case 4:e=2;break;case 16:e=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:e=32;break;case 536870912:e=268435456;break;default:e=0}e=e&(r.suspendedLanes|i)?0:e,e!==0&&e!==l.retryLane&&(l.retryLane=e,d5(t,e),K3(r,t,e,-1))}return ns(),r=Sg(Error(o1(421))),Cl(t,a,i,r)}return e.data==="$?"?(a.flags|=128,a.child=t.child,a=VJ.bind(null,t),e._reactRetry=a,null):(t=l.treeContext,$0=M6(e.nextSibling),Q0=a,l2=!0,N3=null,t!==null&&(L3[H3++]=o5,L3[H3++]=n5,L3[H3++]=A8,o5=t.id,n5=t.overflow,A8=a),a=cs(a,r.children),a.flags|=4096,a)}function HV(t,a,c){t.lanes|=a;var r=t.alternate;r!==null&&(r.lanes|=a),od(t.return,a,c)}function kg(t,a,c,r,e){var l=t.memoizedState;l===null?t.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:r,tail:c,tailMode:e}:(l.isBackwards=a,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=c,l.tailMode=e)}function sB(t,a,c){var r=a.pendingProps,e=r.revealOrder,l=r.tail;if(M0(t,a,r.children,c),r=n2.current,r&2)r=r&1|2,a.flags|=128;else{if(t!==null&&t.flags&128)t:for(t=a.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&HV(t,c,a);else if(t.tag===19)HV(t,c,a);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===a)break t;for(;t.sibling===null;){if(t.return===null||t.return===a)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if($1(n2,r),!(a.mode&1))a.memoizedState=null;else switch(e){case"forwards":for(c=a.child,e=null;c!==null;)t=c.alternate,t!==null&&Ql(t)===null&&(e=c),c=c.sibling;c=e,c===null?(e=a.child,a.child=null):(e=c.sibling,c.sibling=null),kg(a,!1,e,c,l);break;case"backwards":for(c=null,e=a.child,a.child=null;e!==null;){if(t=e.alternate,t!==null&&Ql(t)===null){a.child=e;break}t=e.sibling,e.sibling=c,c=e,e=t}kg(a,!0,c,null,l);break;case"together":kg(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Al(t,a){!(a.mode&1)&&t!==null&&(t.alternate=null,a.alternate=null,a.flags|=2)}function s5(t,a,c){if(t!==null&&(a.dependencies=t.dependencies),b8|=a.lanes,!(c&a.childLanes))return null;if(t!==null&&a.child!==t.child)throw Error(o1(153));if(a.child!==null){for(t=a.child,c=L6(t,t.pendingProps),a.child=c,c.return=a;t.sibling!==null;)t=t.sibling,c=c.sibling=L6(t,t.pendingProps),c.return=a;c.sibling=null}return a.child}function dJ(t,a,c){switch(a.tag){case 3:gB(a),u9();break;case 5:Ew(a);break;case 1:k0(a.type)&&jl(a);break;case 4:Kd(a,a.stateNode.containerInfo);break;case 10:var r=a.type._context,e=a.memoizedProps.value;$1(Ul,r._currentValue),r._currentValue=e;break;case 13:if(r=a.memoizedState,r!==null)return r.dehydrated!==null?($1(n2,n2.current&1),a.flags|=128,null):c&a.child.childLanes?dB(t,a,c):($1(n2,n2.current&1),t=s5(t,a,c),t!==null?t.sibling:null);$1(n2,n2.current&1);break;case 19:if(r=(c&a.childLanes)!==0,t.flags&128){if(r)return sB(t,a,c);a.flags|=128}if(e=a.memoizedState,e!==null&&(e.rendering=null,e.tail=null,e.lastEffect=null),$1(n2,n2.current),r)break;return null;case 22:case 23:return a.lanes=0,hB(t,a,c)}return s5(t,a,c)}var zB,ud,uB,pB;zB=function(t,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}};ud=function(){};uB=function(t,a,c,r){var e=t.memoizedProps;if(e!==r){t=a.stateNode,B8(w4.current);var l=null;switch(c){case"input":e=Tg(t,e),r=Tg(t,r),l=[];break;case"select":e=v2({},e,{value:void 0}),r=v2({},r,{value:void 0}),l=[];break;case"textarea":e=Eg(t,e),r=Eg(t,r),l=[];break;default:typeof e.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Wl)}Wg(c,r);var i;c=null;for(h in e)if(!r.hasOwnProperty(h)&&e.hasOwnProperty(h)&&e[h]!=null)if(h==="style"){var o=e[h];for(i in o)o.hasOwnProperty(i)&&(c||(c={}),c[i]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(ja.hasOwnProperty(h)?l||(l=[]):(l=l||[]).push(h,null));for(h in r){var n=r[h];if(o=e!=null?e[h]:void 0,r.hasOwnProperty(h)&&n!==o&&(n!=null||o!=null))if(h==="style")if(o){for(i in o)!o.hasOwnProperty(i)||n&&n.hasOwnProperty(i)||(c||(c={}),c[i]="");for(i in n)n.hasOwnProperty(i)&&o[i]!==n[i]&&(c||(c={}),c[i]=n[i])}else c||(l||(l=[]),l.push(h,c)),c=n;else h==="dangerouslySetInnerHTML"?(n=n?n.__html:void 0,o=o?o.__html:void 0,n!=null&&o!==n&&(l=l||[]).push(h,n)):h==="children"?typeof n!="string"&&typeof n!="number"||(l=l||[]).push(h,""+n):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(ja.hasOwnProperty(h)?(n!=null&&h==="onScroll"&&t2("scroll",t),l||o===n||(l=[])):(l=l||[]).push(h,n))}c&&(l=l||[]).push("style",c);var h=l;(a.updateQueue=h)&&(a.flags|=4)}};pB=function(t,a,c,r){c!==r&&(a.flags|=4)};function Sa(t,a){if(!l2)switch(t.tailMode){case"hidden":a=t.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?t.tail=null:c.sibling=null;break;case"collapsed":c=t.tail;for(var r=null;c!==null;)c.alternate!==null&&(r=c),c=c.sibling;r===null?a||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function i0(t){var a=t.alternate!==null&&t.alternate.child===t.child,c=0,r=0;if(a)for(var e=t.child;e!==null;)c|=e.lanes|e.childLanes,r|=e.subtreeFlags&14680064,r|=e.flags&14680064,e.return=t,e=e.sibling;else for(e=t.child;e!==null;)c|=e.lanes|e.childLanes,r|=e.subtreeFlags,r|=e.flags,e.return=t,e=e.sibling;return t.subtreeFlags|=r,t.childLanes=c,a}function sJ(t,a,c){var r=a.pendingProps;switch(Dd(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return i0(a),null;case 1:return k0(a.type)&&_l(),i0(a),null;case 3:return r=a.stateNode,m9(),a2(S0),a2(n0),Qd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(fl(a)?a.flags|=4:t===null||t.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,N3!==null&&(Hd(N3),N3=null))),ud(t,a),i0(a),null;case 5:$d(a);var e=B8(cc.current);if(c=a.type,t!==null&&a.stateNode!=null)uB(t,a,c,r,e),t.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!r){if(a.stateNode===null)throw Error(o1(166));return i0(a),null}if(t=B8(w4.current),fl(a)){r=a.stateNode,c=a.type;var l=a.memoizedProps;switch(r[H4]=a,r[tc]=l,t=(a.mode&1)!==0,c){case"dialog":t2("cancel",r),t2("close",r);break;case"iframe":case"object":case"embed":t2("load",r);break;case"video":case"audio":for(e=0;e<Ia.length;e++)t2(Ia[e],r);break;case"source":t2("error",r);break;case"img":case"image":case"link":t2("error",r),t2("load",r);break;case"details":t2("toggle",r);break;case"input":RH(r,l),t2("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},t2("invalid",r);break;case"textarea":FH(r,l),t2("invalid",r)}Wg(c,l),e=null;for(var i in l)if(l.hasOwnProperty(i)){var o=l[i];i==="children"?typeof o=="string"?r.textContent!==o&&(l.suppressHydrationWarning!==!0&&Ml(r.textContent,o,t),e=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(l.suppressHydrationWarning!==!0&&Ml(r.textContent,o,t),e=["children",""+o]):ja.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&t2("scroll",r)}switch(c){case"input":il(r),bH(r,l,!0);break;case"textarea":il(r),IH(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=Wl)}r=e,a.updateQueue=r,r!==null&&(a.flags|=4)}else{i=e.nodeType===9?e:e.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=_V(c)),t==="http://www.w3.org/1999/xhtml"?c==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=i.createElement(c,{is:r.is}):(t=i.createElement(c),c==="select"&&(i=t,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):t=i.createElementNS(t,c),t[H4]=a,t[tc]=r,zB(t,a,!1,!1),a.stateNode=t;t:{switch(i=_g(c,r),c){case"dialog":t2("cancel",t),t2("close",t),e=r;break;case"iframe":case"object":case"embed":t2("load",t),e=r;break;case"video":case"audio":for(e=0;e<Ia.length;e++)t2(Ia[e],t);e=r;break;case"source":t2("error",t),e=r;break;case"img":case"image":case"link":t2("error",t),t2("load",t),e=r;break;case"details":t2("toggle",t),e=r;break;case"input":RH(t,r),e=Tg(t,r),t2("invalid",t);break;case"option":e=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},e=v2({},r,{value:void 0}),t2("invalid",t);break;case"textarea":FH(t,r),e=Eg(t,r),t2("invalid",t);break;default:e=r}Wg(c,e),o=e;for(l in o)if(o.hasOwnProperty(l)){var n=o[l];l==="style"?NV(t,n):l==="dangerouslySetInnerHTML"?(n=n?n.__html:void 0,n!=null&&jV(t,n)):l==="children"?typeof n=="string"?(c!=="textarea"||n!=="")&&qa(t,n):typeof n=="number"&&qa(t,""+n):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(ja.hasOwnProperty(l)?n!=null&&l==="onScroll"&&t2("scroll",t):n!=null&&Bd(t,l,n,i))}switch(c){case"input":il(t),bH(t,r,!1);break;case"textarea":il(t),IH(t);break;case"option":r.value!=null&&t.setAttribute("value",""+H6(r.value));break;case"select":t.multiple=!!r.multiple,l=r.value,l!=null?o9(t,!!r.multiple,l,!1):r.defaultValue!=null&&o9(t,!!r.multiple,r.defaultValue,!0);break;default:typeof e.onClick=="function"&&(t.onclick=Wl)}switch(c){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break t;case"img":r=!0;break t;default:r=!1}}r&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return i0(a),null;case 6:if(t&&a.stateNode!=null)pB(t,a,t.memoizedProps,r);else{if(typeof r!="string"&&a.stateNode===null)throw Error(o1(166));if(c=B8(cc.current),B8(w4.current),fl(a)){if(r=a.stateNode,c=a.memoizedProps,r[H4]=a,(l=r.nodeValue!==c)&&(t=Q0,t!==null))switch(t.tag){case 3:Ml(r.nodeValue,c,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ml(r.nodeValue,c,(t.mode&1)!==0)}l&&(a.flags|=4)}else r=(c.nodeType===9?c:c.ownerDocument).createTextNode(r),r[H4]=a,a.stateNode=r}return i0(a),null;case 13:if(a2(n2),r=a.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(l2&&$0!==null&&a.mode&1&&!(a.flags&128))Fw(),u9(),a.flags|=98560,l=!1;else if(l=fl(a),r!==null&&r.dehydrated!==null){if(t===null){if(!l)throw Error(o1(318));if(l=a.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(o1(317));l[H4]=a}else u9(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;i0(a),l=!1}else N3!==null&&(Hd(N3),N3=null),l=!0;if(!l)return a.flags&65536?a:null}return a.flags&128?(a.lanes=c,a):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(a.child.flags|=8192,a.mode&1&&(t===null||n2.current&1?k2===0&&(k2=3):ns())),a.updateQueue!==null&&(a.flags|=4),i0(a),null);case 4:return m9(),ud(t,a),t===null&&Ya(a.stateNode.containerInfo),i0(a),null;case 10:return qd(a.type._context),i0(a),null;case 17:return k0(a.type)&&_l(),i0(a),null;case 19:if(a2(n2),l=a.memoizedState,l===null)return i0(a),null;if(r=(a.flags&128)!==0,i=l.rendering,i===null)if(r)Sa(l,!1);else{if(k2!==0||t!==null&&t.flags&128)for(t=a.child;t!==null;){if(i=Ql(t),i!==null){for(a.flags|=128,Sa(l,!1),r=i.updateQueue,r!==null&&(a.updateQueue=r,a.flags|=4),a.subtreeFlags=0,r=c,c=a.child;c!==null;)l=c,t=r,l.flags&=14680066,i=l.alternate,i===null?(l.childLanes=0,l.lanes=t,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,l.type=i.type,t=i.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),c=c.sibling;return $1(n2,n2.current&1|2),a.child}t=t.sibling}l.tail!==null&&m2()>f9&&(a.flags|=128,r=!0,Sa(l,!1),a.lanes=4194304)}else{if(!r)if(t=Ql(i),t!==null){if(a.flags|=128,r=!0,c=t.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),Sa(l,!0),l.tail===null&&l.tailMode==="hidden"&&!i.alternate&&!l2)return i0(a),null}else 2*m2()-l.renderingStartTime>f9&&c!==1073741824&&(a.flags|=128,r=!0,Sa(l,!1),a.lanes=4194304);l.isBackwards?(i.sibling=a.child,a.child=i):(c=l.last,c!==null?c.sibling=i:a.child=i,l.last=i)}return l.tail!==null?(a=l.tail,l.rendering=a,l.tail=a.sibling,l.renderingStartTime=m2(),a.sibling=null,c=n2.current,$1(n2,r?c&1|2:c&1),a):(i0(a),null);case 22:case 23:return os(),r=a.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(a.flags|=8192),r&&a.mode&1?K0&1073741824&&(i0(a),a.subtreeFlags&6&&(a.flags|=8192)):i0(a),null;case 24:return null;case 25:return null}throw Error(o1(156,a.tag))}function zJ(t,a){switch(Dd(a),a.tag){case 1:return k0(a.type)&&_l(),t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 3:return m9(),a2(S0),a2(n0),Qd(),t=a.flags,t&65536&&!(t&128)?(a.flags=t&-65537|128,a):null;case 5:return $d(a),null;case 13:if(a2(n2),t=a.memoizedState,t!==null&&t.dehydrated!==null){if(a.alternate===null)throw Error(o1(340));u9()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 19:return a2(n2),null;case 4:return m9(),null;case 10:return qd(a.type._context),null;case 22:case 23:return os(),null;case 24:return null;default:return null}}var Ll=!1,o0=!1,uJ=typeof WeakSet=="function"?WeakSet:Set,u1=null;function l9(t,a){var c=t.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(r){d2(t,a,r)}else c.current=null}function pd(t,a,c){try{c()}catch(r){d2(t,a,r)}}var VV=!1;function pJ(t,a){if(Jg=Ol,t=xw(),Od(t)){if("selectionStart"in t)var c={start:t.selectionStart,end:t.selectionEnd};else t:{c=(c=t.ownerDocument)&&c.defaultView||window;var r=c.getSelection&&c.getSelection();if(r&&r.rangeCount!==0){c=r.anchorNode;var e=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{c.nodeType,l.nodeType}catch(H){c=null;break t}var i=0,o=-1,n=-1,h=0,v=0,g=t,s=null;a:for(;;){for(var d;g!==c||e!==0&&g.nodeType!==3||(o=i+e),g!==l||r!==0&&g.nodeType!==3||(n=i+r),g.nodeType===3&&(i+=g.nodeValue.length),(d=g.firstChild)!==null;)s=g,g=d;for(;;){if(g===t)break a;if(s===c&&++h===e&&(o=i),s===l&&++v===r&&(n=i),(d=g.nextSibling)!==null)break;g=s,s=g.parentNode}g=d}c=o===-1||n===-1?null:{start:o,end:n}}else c=null}c=c||{start:0,end:0}}else c=null;for(td={focusedElem:t,selectionRange:c},Ol=!1,u1=a;u1!==null;)if(a=u1,t=a.child,(a.subtreeFlags&1028)!==0&&t!==null)t.return=a,u1=t;else for(;u1!==null;){a=u1;try{var z=a.alternate;if(a.flags&1024)switch(a.tag){case 0:case 11:case 15:break;case 1:if(z!==null){var u=z.memoizedProps,M=z.memoizedState,m=a.stateNode,p=m.getSnapshotBeforeUpdate(a.elementType===a.type?u:j3(a.type,u),M);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var f=a.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o1(163))}}catch(H){d2(a,a.return,H)}if(t=a.sibling,t!==null){t.return=a.return,u1=t;break}u1=a.return}return z=VV,VV=!1,z}function Da(t,a,c){var r=a.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var e=r=r.next;do{if((e.tag&t)===t){var l=e.destroy;e.destroy=void 0,l!==void 0&&pd(a,c,l)}e=e.next}while(e!==r)}}function di(t,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&t)===t){var r=c.create;c.destroy=r()}c=c.next}while(c!==a)}}function md(t){var a=t.ref;if(a!==null){var c=t.stateNode;switch(t.tag){case 5:t=c;break;default:t=c}typeof a=="function"?a(t):a.current=t}}function mB(t){var a=t.alternate;a!==null&&(t.alternate=null,mB(a)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(a=t.stateNode,a!==null&&(delete a[H4],delete a[tc],delete a[rd],delete a[YY],delete a[JY])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function MB(t){return t.tag===5||t.tag===3||t.tag===4}function wV(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||MB(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Md(t,a,c){var r=t.tag;if(r===5||r===6)t=t.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(t,a):c.insertBefore(t,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(t,c)):(a=c,a.appendChild(t)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=Wl));else if(r!==4&&(t=t.child,t!==null))for(Md(t,a,c),t=t.sibling;t!==null;)Md(t,a,c),t=t.sibling}function fd(t,a,c){var r=t.tag;if(r===5||r===6)t=t.stateNode,a?c.insertBefore(t,a):c.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(fd(t,a,c),t=t.sibling;t!==null;)fd(t,a,c),t=t.sibling}var _2=null,q3=!1;function n6(t,a,c){for(c=c.child;c!==null;)fB(t,a,c),c=c.sibling}function fB(t,a,c){if(V4&&typeof V4.onCommitFiberUnmount=="function")try{V4.onCommitFiberUnmount(ei,c)}catch(o){}switch(c.tag){case 5:o0||l9(c,a);case 6:var r=_2,e=q3;_2=null,n6(t,a,c),_2=r,q3=e,_2!==null&&(q3?(t=_2,c=c.stateNode,t.nodeType===8?t.parentNode.removeChild(c):t.removeChild(c)):_2.removeChild(c.stateNode));break;case 18:_2!==null&&(q3?(t=_2,c=c.stateNode,t.nodeType===8?Lg(t.parentNode,c):t.nodeType===1&&Lg(t,c),$a(t)):Lg(_2,c.stateNode));break;case 4:r=_2,e=q3,_2=c.stateNode.containerInfo,q3=!0,n6(t,a,c),_2=r,q3=e;break;case 0:case 11:case 14:case 15:if(!o0&&(r=c.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){e=r=r.next;do{var l=e,i=l.destroy;l=l.tag,i!==void 0&&(l&2||l&4)&&pd(c,a,i),e=e.next}while(e!==r)}n6(t,a,c);break;case 1:if(!o0&&(l9(c,a),r=c.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=c.memoizedProps,r.state=c.memoizedState,r.componentWillUnmount()}catch(o){d2(c,a,o)}n6(t,a,c);break;case 21:n6(t,a,c);break;case 22:c.mode&1?(o0=(r=o0)||c.memoizedState!==null,n6(t,a,c),o0=r):n6(t,a,c);break;default:n6(t,a,c)}}function BV(t){var a=t.updateQueue;if(a!==null){t.updateQueue=null;var c=t.stateNode;c===null&&(c=t.stateNode=new uJ),a.forEach(function(r){var e=wJ.bind(null,t,r);c.has(r)||(c.add(r),r.then(e,e))})}}function _3(t,a){var c=a.deletions;if(c!==null)for(var r=0;r<c.length;r++){var e=c[r];try{var l=t,i=a,o=i;t:for(;o!==null;){switch(o.tag){case 5:_2=o.stateNode,q3=!1;break t;case 3:_2=o.stateNode.containerInfo,q3=!0;break t;case 4:_2=o.stateNode.containerInfo,q3=!0;break t}o=o.return}if(_2===null)throw Error(o1(160));fB(l,i,e),_2=null,q3=!1;var n=e.alternate;n!==null&&(n.return=null),e.return=null}catch(h){d2(e,a,h)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)xB(a,t),a=a.sibling}function xB(t,a){var c=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(_3(a,t),C4(t),r&4){try{Da(3,t,t.return),di(3,t)}catch(u){d2(t,t.return,u)}try{Da(5,t,t.return)}catch(u){d2(t,t.return,u)}}break;case 1:_3(a,t),C4(t),r&512&&c!==null&&l9(c,c.return);break;case 5:if(_3(a,t),C4(t),r&512&&c!==null&&l9(c,c.return),t.flags&32){var e=t.stateNode;try{qa(e,"")}catch(u){d2(t,t.return,u)}}if(r&4&&(e=t.stateNode,e!=null)){var l=t.memoizedProps,i=c!==null?c.memoizedProps:l,o=t.type,n=t.updateQueue;if(t.updateQueue=null,n!==null)try{o==="input"&&l.type==="radio"&&l.name!=null&&DV(e,l),_g(o,i);var h=_g(o,l);for(i=0;i<n.length;i+=2){var v=n[i],g=n[i+1];v==="style"?NV(e,g):v==="dangerouslySetInnerHTML"?jV(e,g):v==="children"?qa(e,g):Bd(e,v,g,h)}switch(o){case"input":Zg(e,l);break;case"textarea":WV(e,l);break;case"select":var s=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=!!l.multiple;var d=l.value;d!=null?o9(e,!!l.multiple,d,!1):s!==!!l.multiple&&(l.defaultValue!=null?o9(e,!!l.multiple,l.defaultValue,!0):o9(e,!!l.multiple,l.multiple?[]:"",!1))}e[tc]=l}catch(u){d2(t,t.return,u)}}break;case 6:if(_3(a,t),C4(t),r&4){if(t.stateNode===null)throw Error(o1(162));e=t.stateNode,l=t.memoizedProps;try{e.nodeValue=l}catch(u){d2(t,t.return,u)}}break;case 3:if(_3(a,t),C4(t),r&4&&c!==null&&c.memoizedState.isDehydrated)try{$a(a.containerInfo)}catch(u){d2(t,t.return,u)}break;case 4:_3(a,t),C4(t);break;case 13:_3(a,t),C4(t),e=t.child,e.flags&8192&&(l=e.memoizedState!==null,e.stateNode.isHidden=l,!l||e.alternate!==null&&e.alternate.memoizedState!==null||(ls=m2())),r&4&&BV(t);break;case 22:if(v=c!==null&&c.memoizedState!==null,t.mode&1?(o0=(h=o0)||v,_3(a,t),o0=h):_3(a,t),C4(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!v&&t.mode&1)for(u1=t,v=t.child;v!==null;){for(g=u1=v;u1!==null;){switch(s=u1,d=s.child,s.tag){case 0:case 11:case 14:case 15:Da(4,s,s.return);break;case 1:l9(s,s.return);var z=s.stateNode;if(typeof z.componentWillUnmount=="function"){r=s,c=s.return;try{a=r,z.props=a.memoizedProps,z.state=a.memoizedState,z.componentWillUnmount()}catch(u){d2(r,c,u)}}break;case 5:l9(s,s.return);break;case 22:if(s.memoizedState!==null){SV(g);continue}}d!==null?(d.return=s,u1=d):SV(g)}v=v.sibling}t:for(v=null,g=t;;){if(g.tag===5){if(v===null){v=g;try{e=g.stateNode,h?(l=e.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(o=g.stateNode,n=g.memoizedProps.style,i=n!=null&&n.hasOwnProperty("display")?n.display:null,o.style.display=qV("display",i))}catch(u){d2(t,t.return,u)}}}else if(g.tag===6){if(v===null)try{g.stateNode.nodeValue=h?"":g.memoizedProps}catch(u){d2(t,t.return,u)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break t;for(;g.sibling===null;){if(g.return===null||g.return===t)break t;v===g&&(v=null),g=g.return}v===g&&(v=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:_3(a,t),C4(t),r&4&&BV(t);break;case 21:break;default:_3(a,t),C4(t)}}function C4(t){var a=t.flags;if(a&2){try{t:{for(var c=t.return;c!==null;){if(MB(c)){var r=c;break t}c=c.return}throw Error(o1(160))}switch(r.tag){case 5:var e=r.stateNode;r.flags&32&&(qa(e,""),r.flags&=-33);var l=wV(t);fd(t,l,e);break;case 3:case 4:var i=r.stateNode.containerInfo,o=wV(t);Md(t,o,i);break;default:throw Error(o1(161))}}catch(n){d2(t,t.return,n)}t.flags&=-3}a&4096&&(t.flags&=-4097)}function mJ(t,a,c){u1=t,CB(t,a,c)}function CB(t,a,c){for(var r=(t.mode&1)!==0;u1!==null;){var e=u1,l=e.child;if(e.tag===22&&r){var i=e.memoizedState!==null||Ll;if(!i){var o=e.alternate,n=o!==null&&o.memoizedState!==null||o0;o=Ll;var h=o0;if(Ll=i,(o0=n)&&!h)for(u1=e;u1!==null;)i=u1,n=i.child,i.tag===22&&i.memoizedState!==null?kV(e):n!==null?(n.return=i,u1=n):kV(e);for(;l!==null;)u1=l,CB(l,a,c),l=l.sibling;u1=e,Ll=o,o0=h}yV(t,a,c)}else e.subtreeFlags&8772&&l!==null?(l.return=e,u1=l):yV(t,a,c)}}function yV(t){for(;u1!==null;){var a=u1;if(a.flags&8772){var c=a.alternate;try{if(a.flags&8772)switch(a.tag){case 0:case 11:case 15:o0||di(5,a);break;case 1:var r=a.stateNode;if(a.flags&4&&!o0)if(c===null)r.componentDidMount();else{var e=a.elementType===a.type?c.memoizedProps:j3(a.type,c.memoizedProps);r.componentDidUpdate(e,c.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=a.updateQueue;l!==null&&vV(a,l,r);break;case 3:var i=a.updateQueue;if(i!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}vV(a,i,c)}break;case 5:var o=a.stateNode;if(c===null&&a.flags&4){c=o;var n=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":n.autoFocus&&c.focus();break;case"img":n.src&&(c.src=n.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var h=a.alternate;if(h!==null){var v=h.memoizedState;if(v!==null){var g=v.dehydrated;g!==null&&$a(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o1(163))}o0||a.flags&512&&md(a)}catch(s){d2(a,a.return,s)}}if(a===t){u1=null;break}if(c=a.sibling,c!==null){c.return=a.return,u1=c;break}u1=a.return}}function SV(t){for(;u1!==null;){var a=u1;if(a===t){u1=null;break}var c=a.sibling;if(c!==null){c.return=a.return,u1=c;break}u1=a.return}}function kV(t){for(;u1!==null;){var a=u1;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{di(4,a)}catch(n){d2(a,c,n)}break;case 1:var r=a.stateNode;if(typeof r.componentDidMount=="function"){var e=a.return;try{r.componentDidMount()}catch(n){d2(a,e,n)}}var l=a.return;try{md(a)}catch(n){d2(a,l,n)}break;case 5:var i=a.return;try{md(a)}catch(n){d2(a,i,n)}}}catch(n){d2(a,a.return,n)}if(a===t){u1=null;break}var o=a.sibling;if(o!==null){o.return=a.return,u1=o;break}u1=a.return}}var MJ=Math.ceil,Jl=z5.ReactCurrentDispatcher,rs=z5.ReactCurrentOwner,w3=z5.ReactCurrentBatchConfig,T1=0,F2=null,V2=null,j2=0,K0=0,i9=B6(0),k2=0,ic=null,b8=0,si=0,es=0,Wa=null,B0=null,ls=0,f9=1/0,l5=null,ti=!1,xd=null,x6=null,Hl=!1,z6=null,ai=0,_a=0,Cd=null,Rl=-1,bl=0;function f0(){return T1&6?m2():Rl!==-1?Rl:Rl=m2()}function C6(t){return t.mode&1?T1&2&&j2!==0?j2&-j2:aJ.transition!==null?(bl===0&&(bl=ew()),bl):(t=W1,t!==0||(t=window.event,t=t===void 0?16:gw(t.type)),t):1}function K3(t,a,c,r){if(50<_a)throw _a=0,Cd=null,Error(o1(185));oc(t,c,r),(!(T1&2)||t!==F2)&&(t===F2&&(!(T1&2)&&(si|=c),k2===4&&d6(t,j2)),A0(t,r),c===1&&T1===0&&!(a.mode&1)&&(f9=m2()+500,hi&&y6()))}function A0(t,a){var c=t.callbackNode;rY(t,a);var r=Zl(t,t===F2?j2:0);if(r===0)c!==null&&TH(c),t.callbackNode=null,t.callbackPriority=0;else if(a=r&-r,t.callbackPriority!==a){if(c!=null&&TH(c),a===1)t.tag===0?tJ(AV.bind(null,t)):Aw(AV.bind(null,t)),QY(function(){!(T1&6)&&y6()}),c=null;else{switch(lw(r)){case 1:c=Rd;break;case 4:c=cw;break;case 16:c=Tl;break;case 536870912:c=rw;break;default:c=Tl}c=kB(c,LB.bind(null,t))}t.callbackPriority=a,t.callbackNode=c}}function LB(t,a){if(Rl=-1,bl=0,T1&6)throw Error(o1(327));var c=t.callbackNode;if(d9()&&t.callbackNode!==c)return null;var r=Zl(t,t===F2?j2:0);if(r===0)return null;if(r&30||r&t.expiredLanes||a)a=ci(t,r);else{a=r;var e=T1;T1|=2;var l=VB();(F2!==t||j2!==a)&&(l5=null,f9=m2()+500,y8(t,a));do try{CJ();break}catch(o){HB(t,o)}while(1);jd(),Jl.current=l,T1=e,V2!==null?a=0:(F2=null,j2=0,a=k2)}if(a!==0){if(a===2&&(e=Kg(t),e!==0&&(r=e,a=Ld(t,e))),a===1)throw c=ic,y8(t,0),d6(t,r),A0(t,m2()),c;if(a===6)d6(t,r);else{if(e=t.current.alternate,!(r&30)&&!fJ(e)&&(a=ci(t,r),a===2&&(l=Kg(t),l!==0&&(r=l,a=Ld(t,l))),a===1))throw c=ic,y8(t,0),d6(t,r),A0(t,m2()),c;switch(t.finishedWork=e,t.finishedLanes=r,a){case 0:case 1:throw Error(o1(345));case 2:H8(t,B0,l5);break;case 3:if(d6(t,r),(r&130023424)===r&&(a=ls+500-m2(),10<a)){if(Zl(t,0)!==0)break;if(e=t.suspendedLanes,(e&r)!==r){f0(),t.pingedLanes|=t.suspendedLanes&e;break}t.timeoutHandle=cd(H8.bind(null,t,B0,l5),a);break}H8(t,B0,l5);break;case 4:if(d6(t,r),(r&4194240)===r)break;for(a=t.eventTimes,e=-1;0<r;){var i=31-U3(r);l=1<<i,i=a[i],i>e&&(e=i),r&=~l}if(r=e,r=m2()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*MJ(r/1960))-r,10<r){t.timeoutHandle=cd(H8.bind(null,t,B0,l5),r);break}H8(t,B0,l5);break;case 5:H8(t,B0,l5);break;default:throw Error(o1(329))}}}return A0(t,m2()),t.callbackNode===c?LB.bind(null,t):null}function Ld(t,a){var c=Wa;return t.current.memoizedState.isDehydrated&&(y8(t,a).flags|=256),t=ci(t,a),t!==2&&(a=B0,B0=c,a!==null&&Hd(a)),t}function Hd(t){B0===null?B0=t:B0.push.apply(B0,t)}function fJ(t){for(var a=t;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var r=0;r<c.length;r++){var e=c[r],l=e.getSnapshot;e=e.value;try{if(!$3(l(),e))return!1}catch(i){return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function d6(t,a){for(a&=~es,a&=~si,t.suspendedLanes|=a,t.pingedLanes&=~a,t=t.expirationTimes;0<a;){var c=31-U3(a),r=1<<c;t[c]=-1,a&=~r}}function AV(t){if(T1&6)throw Error(o1(327));d9();var a=Zl(t,0);if(!(a&1))return A0(t,m2()),null;var c=ci(t,a);if(t.tag!==0&&c===2){var r=Kg(t);r!==0&&(a=r,c=Ld(t,r))}if(c===1)throw c=ic,y8(t,0),d6(t,a),A0(t,m2()),c;if(c===6)throw Error(o1(345));return t.finishedWork=t.current.alternate,t.finishedLanes=a,H8(t,B0,l5),A0(t,m2()),null}function is(t,a){var c=T1;T1|=1;try{return t(a)}finally{T1=c,T1===0&&(f9=m2()+500,hi&&y6())}}function F8(t){z6!==null&&z6.tag===0&&!(T1&6)&&d9();var a=T1;T1|=1;var c=w3.transition,r=W1;try{if(w3.transition=null,W1=1,t)return t()}finally{W1=r,w3.transition=c,T1=a,!(T1&6)&&y6()}}function os(){K0=i9.current,a2(i9)}function y8(t,a){t.finishedWork=null,t.finishedLanes=0;var c=t.timeoutHandle;if(c!==-1&&(t.timeoutHandle=-1,$Y(c)),V2!==null)for(c=V2.return;c!==null;){var r=c;switch(Dd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&_l();break;case 3:m9(),a2(S0),a2(n0),Qd();break;case 5:$d(r);break;case 4:m9();break;case 13:a2(n2);break;case 19:a2(n2);break;case 10:qd(r.type._context);break;case 22:case 23:os()}c=c.return}if(F2=t,V2=t=L6(t.current,null),j2=K0=a,k2=0,ic=null,es=si=b8=0,B0=Wa=null,w8!==null){for(a=0;a<w8.length;a++)if(c=w8[a],r=c.interleaved,r!==null){c.interleaved=null;var e=r.next,l=c.pending;if(l!==null){var i=l.next;l.next=e,r.next=i}c.pending=r}w8=null}return t}function HB(t,a){do{var c=V2;try{if(jd(),Sl.current=Yl,Xl){for(var r=h2.memoizedState;r!==null;){var e=r.queue;e!==null&&(e.pending=null),r=r.next}Xl=!1}if(R8=0,b2=S2=h2=null,Ea=!1,rc=0,rs.current=null,c===null||c.return===null){k2=1,ic=a,V2=null;break}t:{var l=t,i=c.return,o=c,n=a;if(a=j2,o.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){var h=n,v=o,g=v.tag;if(!(v.mode&1)&&(g===0||g===11||g===15)){var s=v.alternate;s?(v.updateQueue=s.updateQueue,v.memoizedState=s.memoizedState,v.lanes=s.lanes):(v.updateQueue=null,v.memoizedState=null)}var d=mV(i);if(d!==null){d.flags&=-257,MV(d,i,o,l,a),d.mode&1&&pV(l,h,a),a=d,n=h;var z=a.updateQueue;if(z===null){var u=new Set;u.add(n),a.updateQueue=u}else z.add(n);break t}else{if(!(a&1)){pV(l,h,a),ns();break t}n=Error(o1(426))}}else if(l2&&o.mode&1){var M=mV(i);if(M!==null){!(M.flags&65536)&&(M.flags|=256),MV(M,i,o,l,a),Wd(M9(n,o));break t}}l=n=M9(n,o),k2!==4&&(k2=2),Wa===null?Wa=[l]:Wa.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,a&=-a,l.lanes|=a;var m=iB(l,n,a);hV(l,m);break t;case 1:o=n;var p=l.type,f=l.stateNode;if(!(l.flags&128)&&(typeof p.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(x6===null||!x6.has(f)))){l.flags|=65536,a&=-a,l.lanes|=a;var H=oB(l,o,a);hV(l,H);break t}}l=l.return}while(l!==null)}BB(c)}catch(w){a=w,V2===c&&c!==null&&(V2=c=c.return);continue}break}while(1)}function VB(){var t=Jl.current;return Jl.current=Yl,t===null?Yl:t}function ns(){(k2===0||k2===3||k2===2)&&(k2=4),F2===null||!(b8&268435455)&&!(si&268435455)||d6(F2,j2)}function ci(t,a){var c=T1;T1|=2;var r=VB();(F2!==t||j2!==a)&&(l5=null,y8(t,a));do try{xJ();break}catch(e){HB(t,e)}while(1);if(jd(),T1=c,Jl.current=r,V2!==null)throw Error(o1(261));return F2=null,j2=0,k2}function xJ(){for(;V2!==null;)wB(V2)}function CJ(){for(;V2!==null&&!KX();)wB(V2)}function wB(t){var a=SB(t.alternate,t,K0);t.memoizedProps=t.pendingProps,a===null?BB(t):V2=a,rs.current=null}function BB(t){var a=t;do{var c=a.alternate;if(t=a.return,a.flags&32768){if(c=zJ(c,a),c!==null){c.flags&=32767,V2=c;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{k2=6,V2=null;return}}else if(c=sJ(c,a,K0),c!==null){V2=c;return}if(a=a.sibling,a!==null){V2=a;return}V2=a=t}while(a!==null);k2===0&&(k2=5)}function H8(t,a,c){var r=W1,e=w3.transition;try{w3.transition=null,W1=1,LJ(t,a,c,r)}finally{w3.transition=e,W1=r}return null}function LJ(t,a,c,r){do d9();while(z6!==null);if(T1&6)throw Error(o1(327));c=t.finishedWork;var e=t.finishedLanes;if(c===null)return null;if(t.finishedWork=null,t.finishedLanes=0,c===t.current)throw Error(o1(177));t.callbackNode=null,t.callbackPriority=0;var l=c.lanes|c.childLanes;if(eY(t,l),t===F2&&(V2=F2=null,j2=0),!(c.subtreeFlags&2064)&&!(c.flags&2064)||Hl||(Hl=!0,kB(Tl,function(){return d9(),null})),l=(c.flags&15990)!==0,c.subtreeFlags&15990||l){l=w3.transition,w3.transition=null;var i=W1;W1=1;var o=T1;T1|=4,rs.current=null,pJ(t,c),xB(c,t),jY(td),Ol=!!Jg,td=Jg=null,t.current=c,mJ(c,t,e),$X(),T1=o,W1=i,w3.transition=l}else t.current=c;if(Hl&&(Hl=!1,z6=t,ai=e),l=t.pendingLanes,l===0&&(x6=null),YX(c.stateNode,r),A0(t,m2()),a!==null)for(r=t.onRecoverableError,c=0;c<a.length;c++)e=a[c],r(e.value,{componentStack:e.stack,digest:e.digest});if(ti)throw ti=!1,t=xd,xd=null,t;return ai&1&&t.tag!==0&&d9(),l=t.pendingLanes,l&1?t===Cd?_a++:(_a=0,Cd=t):_a=0,y6(),null}function d9(){if(z6!==null){var t=lw(ai),a=w3.transition,c=W1;try{if(w3.transition=null,W1=16>t?16:t,z6===null)var r=!1;else{if(t=z6,z6=null,ai=0,T1&6)throw Error(o1(331));var e=T1;for(T1|=4,u1=t.current;u1!==null;){var l=u1,i=l.child;if(u1.flags&16){var o=l.deletions;if(o!==null){for(var n=0;n<o.length;n++){var h=o[n];for(u1=h;u1!==null;){var v=u1;switch(v.tag){case 0:case 11:case 15:Da(8,v,l)}var g=v.child;if(g!==null)g.return=v,u1=g;else for(;u1!==null;){v=u1;var s=v.sibling,d=v.return;if(mB(v),v===h){u1=null;break}if(s!==null){s.return=d,u1=s;break}u1=d}}}var z=l.alternate;if(z!==null){var u=z.child;if(u!==null){z.child=null;do{var M=u.sibling;u.sibling=null,u=M}while(u!==null)}}u1=l}}if(l.subtreeFlags&2064&&i!==null)i.return=l,u1=i;else t:for(;u1!==null;){if(l=u1,l.flags&2048)switch(l.tag){case 0:case 11:case 15:Da(9,l,l.return)}var m=l.sibling;if(m!==null){m.return=l.return,u1=m;break t}u1=l.return}}var p=t.current;for(u1=p;u1!==null;){i=u1;var f=i.child;if(i.subtreeFlags&2064&&f!==null)f.return=i,u1=f;else t:for(i=p;u1!==null;){if(o=u1,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:di(9,o)}}catch(w){d2(o,o.return,w)}if(o===i){u1=null;break t}var H=o.sibling;if(H!==null){H.return=o.return,u1=H;break t}u1=o.return}}if(T1=e,y6(),V4&&typeof V4.onPostCommitFiberRoot=="function")try{V4.onPostCommitFiberRoot(ei,t)}catch(w){}r=!0}return r}finally{W1=c,w3.transition=a}}return!1}function RV(t,a,c){a=M9(c,a),a=iB(t,a,1),t=f6(t,a,1),a=f0(),t!==null&&(oc(t,1,a),A0(t,a))}function d2(t,a,c){if(t.tag===3)RV(t,t,c);else for(;a!==null;){if(a.tag===3){RV(a,t,c);break}else if(a.tag===1){var r=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(x6===null||!x6.has(r))){t=M9(c,t),t=oB(a,t,1),a=f6(a,t,1),t=f0(),a!==null&&(oc(a,1,t),A0(a,t));break}}a=a.return}}function HJ(t,a,c){var r=t.pingCache;r!==null&&r.delete(a),a=f0(),t.pingedLanes|=t.suspendedLanes&c,F2===t&&(j2&c)===c&&(k2===4||k2===3&&(j2&130023424)===j2&&500>m2()-ls?y8(t,0):es|=c),A0(t,a)}function yB(t,a){a===0&&(t.mode&1?(a=hl,hl<<=1,!(hl&130023424)&&(hl=4194304)):a=1);var c=f0();t=d5(t,a),t!==null&&(oc(t,a,c),A0(t,c))}function VJ(t){var a=t.memoizedState,c=0;a!==null&&(c=a.retryLane),yB(t,c)}function wJ(t,a){var c=0;switch(t.tag){case 13:var r=t.stateNode,e=t.memoizedState;e!==null&&(c=e.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(o1(314))}r!==null&&r.delete(a),yB(t,c)}var SB;SB=function(t,a,c){if(t!==null)if(t.memoizedProps!==a.pendingProps||S0.current)y0=!0;else{if(!(t.lanes&c)&&!(a.flags&128))return y0=!1,dJ(t,a,c);y0=!!(t.flags&131072)}else y0=!1,l2&&a.flags&1048576&&Rw(a,Nl,a.index);switch(a.lanes=0,a.tag){case 2:var r=a.type;Al(t,a),t=a.pendingProps;var e=z9(a,n0.current);g9(a,c),e=Yd(null,a,r,t,e,c);var l=Jd();return a.flags|=1,typeof e=="object"&&e!==null&&typeof e.render=="function"&&e.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,k0(r)?(l=!0,jl(a)):l=!1,a.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,Ud(a),e.updater=vi,a.stateNode=e,e._reactInternals=a,hd(a,r,t,c),a=dd(null,a,r,!0,l,c)):(a.tag=0,l2&&l&&Ed(a),M0(null,a,e,c),a=a.child),a;case 16:r=a.elementType;t:{switch(Al(t,a),t=a.pendingProps,e=r._init,r=e(r._payload),a.type=r,e=a.tag=yJ(r),t=j3(r,t),e){case 0:a=gd(null,a,r,t,c);break t;case 1:a=CV(null,a,r,t,c);break t;case 11:a=fV(null,a,r,t,c);break t;case 14:a=xV(null,a,r,j3(r.type,t),c);break t}throw Error(o1(306,r,""))}return a;case 0:return r=a.type,e=a.pendingProps,e=a.elementType===r?e:j3(r,e),gd(t,a,r,e,c);case 1:return r=a.type,e=a.pendingProps,e=a.elementType===r?e:j3(r,e),CV(t,a,r,e,c);case 3:t:{if(gB(a),t===null)throw Error(o1(387));r=a.pendingProps,l=a.memoizedState,e=l.element,Pw(t,a),$l(a,r,null,c);var i=a.memoizedState;if(r=i.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},a.updateQueue.baseState=l,a.memoizedState=l,a.flags&256){e=M9(Error(o1(423)),a),a=LV(t,a,r,c,e);break t}else if(r!==e){e=M9(Error(o1(424)),a),a=LV(t,a,r,c,e);break t}else for($0=M6(a.stateNode.containerInfo.firstChild),Q0=a,l2=!0,N3=null,c=Ow(a,null,r,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(u9(),r===e){a=s5(t,a,c);break t}M0(t,a,r,c)}a=a.child}return a;case 5:return Ew(a),t===null&&id(a),r=a.type,e=a.pendingProps,l=t!==null?t.memoizedProps:null,i=e.children,ad(r,e)?i=null:l!==null&&ad(r,l)&&(a.flags|=32),vB(t,a),M0(t,a,i,c),a.child;case 6:return t===null&&id(a),null;case 13:return dB(t,a,c);case 4:return Kd(a,a.stateNode.containerInfo),r=a.pendingProps,t===null?a.child=p9(a,null,r,c):M0(t,a,r,c),a.child;case 11:return r=a.type,e=a.pendingProps,e=a.elementType===r?e:j3(r,e),fV(t,a,r,e,c);case 7:return M0(t,a,a.pendingProps,c),a.child;case 8:return M0(t,a,a.pendingProps.children,c),a.child;case 12:return M0(t,a,a.pendingProps.children,c),a.child;case 10:t:{if(r=a.type._context,e=a.pendingProps,l=a.memoizedProps,i=e.value,$1(Ul,r._currentValue),r._currentValue=i,l!==null)if($3(l.value,i)){if(l.children===e.children&&!S0.current){a=s5(t,a,c);break t}}else for(l=a.child,l!==null&&(l.return=a);l!==null;){var o=l.dependencies;if(o!==null){i=l.child;for(var n=o.firstContext;n!==null;){if(n.context===r){if(l.tag===1){n=h5(-1,c&-c),n.tag=2;var h=l.updateQueue;if(h!==null){h=h.shared;var v=h.pending;v===null?n.next=n:(n.next=v.next,v.next=n),h.pending=n}}l.lanes|=c,n=l.alternate,n!==null&&(n.lanes|=c),od(l.return,c,a),o.lanes|=c;break}n=n.next}}else if(l.tag===10)i=l.type===a.type?null:l.child;else if(l.tag===18){if(i=l.return,i===null)throw Error(o1(341));i.lanes|=c,o=i.alternate,o!==null&&(o.lanes|=c),od(i,c,a),i=l.sibling}else i=l.child;if(i!==null)i.return=l;else for(i=l;i!==null;){if(i===a){i=null;break}if(l=i.sibling,l!==null){l.return=i.return,i=l;break}i=i.return}l=i}M0(t,a,e.children,c),a=a.child}return a;case 9:return e=a.type,r=a.pendingProps.children,g9(a,c),e=B3(e),r=r(e),a.flags|=1,M0(t,a,r,c),a.child;case 14:return r=a.type,e=j3(r,a.pendingProps),e=j3(r.type,e),xV(t,a,r,e,c);case 15:return nB(t,a,a.type,a.pendingProps,c);case 17:return r=a.type,e=a.pendingProps,e=a.elementType===r?e:j3(r,e),Al(t,a),a.tag=1,k0(r)?(t=!0,jl(a)):t=!1,g9(a,c),Tw(a,r,e),hd(a,r,e,c),dd(null,a,r,!0,t,c);case 19:return sB(t,a,c);case 22:return hB(t,a,c)}throw Error(o1(156,a.tag))};function kB(t,a){return aw(t,a)}function BJ(t,a,c,r){this.tag=t,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function V3(t,a,c,r){return new BJ(t,a,c,r)}function hs(t){return t=t.prototype,!(!t||!t.isReactComponent)}function yJ(t){if(typeof t=="function")return hs(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Sd)return 11;if(t===kd)return 14}return 2}function L6(t,a){var c=t.alternate;return c===null?(c=V3(t.tag,a,t.key,t.mode),c.elementType=t.elementType,c.type=t.type,c.stateNode=t.stateNode,c.alternate=t,t.alternate=c):(c.pendingProps=a,c.type=t.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=t.flags&14680064,c.childLanes=t.childLanes,c.lanes=t.lanes,c.child=t.child,c.memoizedProps=t.memoizedProps,c.memoizedState=t.memoizedState,c.updateQueue=t.updateQueue,a=t.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=t.sibling,c.index=t.index,c.ref=t.ref,c}function Fl(t,a,c,r,e,l){var i=2;if(r=t,typeof t=="function")hs(t)&&(i=1);else if(typeof t=="string")i=5;else t:switch(t){case Q7:return S8(c.children,e,l,a);case yd:i=8,e|=8;break;case Fg:return t=V3(12,c,a,e|2),t.elementType=Fg,t.lanes=l,t;case Ig:return t=V3(13,c,a,e),t.elementType=Ig,t.lanes=l,t;case Pg:return t=V3(19,c,a,e),t.elementType=Pg,t.lanes=l,t;case ZV:return zi(c,e,l,a);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case GV:i=10;break t;case TV:i=9;break t;case Sd:i=11;break t;case kd:i=14;break t;case h6:i=16,r=null;break t}throw Error(o1(130,t==null?t:typeof t,""))}return a=V3(i,c,a,e),a.elementType=t,a.type=r,a.lanes=l,a}function S8(t,a,c,r){return t=V3(7,t,r,a),t.lanes=c,t}function zi(t,a,c,r){return t=V3(22,t,r,a),t.elementType=ZV,t.lanes=c,t.stateNode={isHidden:!1},t}function Ag(t,a,c){return t=V3(6,t,null,a),t.lanes=c,t}function Rg(t,a,c){return a=V3(4,t.children!==null?t.children:[],t.key,a),a.lanes=c,a.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},a}function SJ(t,a,c,r,e){this.tag=a,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zg(0),this.expirationTimes=zg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zg(0),this.identifierPrefix=r,this.onRecoverableError=e,this.mutableSourceEagerHydrationData=null}function vs(t,a,c,r,e,l,i,o,n){return t=new SJ(t,a,c,o,n),a===1?(a=1,l===!0&&(a|=8)):a=0,l=V3(3,null,null,a),t.current=l,l.stateNode=t,l.memoizedState={element:r,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ud(l),t}function kJ(t,a,c){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$7,key:r==null?null:""+r,children:t,containerInfo:a,implementation:c}}function AB(t){if(!t)return V6;t=t._reactInternals;t:{if(P8(t)!==t||t.tag!==1)throw Error(o1(170));var a=t;do{switch(a.tag){case 3:a=a.stateNode.context;break t;case 1:if(k0(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break t}}a=a.return}while(a!==null);throw Error(o1(171))}if(t.tag===1){var c=t.type;if(k0(c))return kw(t,c,a)}return a}function RB(t,a,c,r,e,l,i,o,n){return t=vs(c,r,!0,t,e,l,i,o,n),t.context=AB(null),c=t.current,r=f0(),e=C6(c),l=h5(r,e),l.callback=a!=null?a:null,f6(c,l,e),t.current.lanes=e,oc(t,e,r),A0(t,r),t}function ui(t,a,c,r){var e=a.current,l=f0(),i=C6(e);return c=AB(c),a.context===null?a.context=c:a.pendingContext=c,a=h5(l,i),a.payload={element:t},r=r===void 0?null:r,r!==null&&(a.callback=r),t=f6(e,a,i),t!==null&&(K3(t,e,i,l),yl(t,e,i)),i}function ri(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function bV(t,a){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var c=t.retryLane;t.retryLane=c!==0&&c<a?c:a}}function gs(t,a){bV(t,a),(t=t.alternate)&&bV(t,a)}function AJ(){return null}var bB=typeof reportError=="function"?reportError:function(t){console.error(t)};function ds(t){this._internalRoot=t}pi.prototype.render=ds.prototype.render=function(t){var a=this._internalRoot;if(a===null)throw Error(o1(409));ui(t,a,null,null)};pi.prototype.unmount=ds.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var a=t.containerInfo;F8(function(){ui(null,t,null,null)}),a[g5]=null}};function pi(t){this._internalRoot=t}pi.prototype.unstable_scheduleHydration=function(t){if(t){var a=nw();t={blockedOn:null,target:t,priority:a};for(var c=0;c<g6.length&&a!==0&&a<g6[c].priority;c++);g6.splice(c,0,t),c===0&&vw(t)}};function ss(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function mi(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function FV(){}function RJ(t,a,c,r,e){if(e){if(typeof r=="function"){var l=r;r=function(){var h=ri(i);l.call(h)}}var i=RB(a,r,t,0,null,!1,!1,"",FV);return t._reactRootContainer=i,t[g5]=i.current,Ya(t.nodeType===8?t.parentNode:t),F8(),i}for(;e=t.lastChild;)t.removeChild(e);if(typeof r=="function"){var o=r;r=function(){var h=ri(n);o.call(h)}}var n=vs(t,0,!1,null,null,!1,!1,"",FV);return t._reactRootContainer=n,t[g5]=n.current,Ya(t.nodeType===8?t.parentNode:t),F8(function(){ui(a,n,c,r)}),n}function Mi(t,a,c,r,e){var l=c._reactRootContainer;if(l){var i=l;if(typeof e=="function"){var o=e;e=function(){var n=ri(i);o.call(n)}}ui(a,i,t,e)}else i=RJ(c,a,t,e,r);return ri(i)}iw=function(t){switch(t.tag){case 3:var a=t.stateNode;if(a.current.memoizedState.isDehydrated){var c=Fa(a.pendingLanes);c!==0&&(bd(a,c|1),A0(a,m2()),!(T1&6)&&(f9=m2()+500,y6()))}break;case 13:F8(function(){var r=d5(t,1);if(r!==null){var e=f0();K3(r,t,1,e)}}),gs(t,1)}};Fd=function(t){if(t.tag===13){var a=d5(t,134217728);if(a!==null){var c=f0();K3(a,t,134217728,c)}gs(t,134217728)}};ow=function(t){if(t.tag===13){var a=C6(t),c=d5(t,a);if(c!==null){var r=f0();K3(c,t,a,r)}gs(t,a)}};nw=function(){return W1};hw=function(t,a){var c=W1;try{return W1=t,a()}finally{W1=c}};qg=function(t,a,c){switch(a){case"input":if(Zg(t,c),a=c.name,c.type==="radio"&&a!=null){for(c=t;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var r=c[a];if(r!==t&&r.form===t.form){var e=ni(r);if(!e)throw Error(o1(90));EV(r),Zg(r,e)}}}break;case"textarea":WV(t,c);break;case"select":a=c.value,a!=null&&o9(t,!!c.multiple,a,!1)}};$V=is;QV=F8;var bJ={usingClientEntryPoint:!1,Events:[hc,t9,ni,UV,KV,is]},ka={findFiberByHostInstance:V8,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},FJ={bundleType:ka.bundleType,version:ka.version,rendererPackageName:ka.rendererPackageName,rendererConfig:ka.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z5.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=JV(t),t===null?null:t.stateNode},findFiberByHostInstance:ka.findFiberByHostInstance||AJ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"&&(Aa=__REACT_DEVTOOLS_GLOBAL_HOOK__,!Aa.isDisabled&&Aa.supportsFiber))try{ei=Aa.inject(FJ),V4=Aa}catch(t){}var Aa;J0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bJ;J0.createPortal=function(t,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ss(a))throw Error(o1(200));return kJ(t,a,null,c)};J0.createRoot=function(t,a){if(!ss(t))throw Error(o1(299));var c=!1,r="",e=bB;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(r=a.identifierPrefix),a.onRecoverableError!==void 0&&(e=a.onRecoverableError)),a=vs(t,1,!1,null,null,c,!1,r,e),t[g5]=a.current,Ya(t.nodeType===8?t.parentNode:t),new ds(a)};J0.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var a=t._reactInternals;if(a===void 0)throw typeof t.render=="function"?Error(o1(188)):(t=Object.keys(t).join(","),Error(o1(268,t)));return t=JV(a),t=t===null?null:t.stateNode,t};J0.flushSync=function(t){return F8(t)};J0.hydrate=function(t,a,c){if(!mi(a))throw Error(o1(200));return Mi(null,t,a,!0,c)};J0.hydrateRoot=function(t,a,c){if(!ss(t))throw Error(o1(405));var r=c!=null&&c.hydratedSources||null,e=!1,l="",i=bB;if(c!=null&&(c.unstable_strictMode===!0&&(e=!0),c.identifierPrefix!==void 0&&(l=c.identifierPrefix),c.onRecoverableError!==void 0&&(i=c.onRecoverableError)),a=RB(a,null,t,1,c!=null?c:null,e,!1,l,i),t[g5]=a.current,Ya(t),r)for(t=0;t<r.length;t++)c=r[t],e=c._getVersion,e=e(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,e]:a.mutableSourceEagerHydrationData.push(c,e);return new pi(a)};J0.render=function(t,a,c){if(!mi(a))throw Error(o1(200));return Mi(null,t,a,!1,c)};J0.unmountComponentAtNode=function(t){if(!mi(t))throw Error(o1(40));return t._reactRootContainer?(F8(function(){Mi(null,null,t,!1,function(){t._reactRootContainer=null,t[g5]=null})}),!0):!1};J0.unstable_batchedUpdates=is;J0.unstable_renderSubtreeIntoContainer=function(t,a,c,r){if(!mi(c))throw Error(o1(200));if(t==null||t._reactInternals===void 0)throw Error(o1(38));return Mi(t,a,c,!1,r)};J0.version="18.2.0-next-9e3b772b8-20220608"});var B4=L1((Rz1,PB)=>{"use strict";function IB(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(IB)}catch(t){console.error(t)}}IB(),PB.exports=FB()});function IJ(t){let[,a]=(0,Q3.useState)(0);return(0,Q3.useCallback)(()=>{a(r=>r+1)},[])}function v1(t,a,c){let r=(0,Q3.useCallback)(t,a),e=(0,Q3.useRef)(null);e.current?e.current.set(r):e.current=new H9.Atom(r);let l=(0,Q3.useRef)(null);return l.current||(l.current=(0,H9.prism)(()=>e.current.prism.getValue()())),G8(l.current,c)}function TJ(){zs||(zs=!0,(0,ZB.default)(()=>{(0,OB.unstable_batchedUpdates)(function(){var a,c;for(;y4.length>0;){let r=y4.shift();gc.delete(r);let e;L9&&((a=r.debug)==null||a.history.push("queue reached"));try{e=r.der.getValue()}catch(l){L9&&((c=r.debug)==null||c.history.push("queue: der.getValue() errored")),console.error("A `der.getValue()` in `usePrismInstance(der)` threw an error. This may be a zombie child issue, so we're gonna try to get its value again in a normal react render phase.If you see the same error again, then you either have an error in your prism code, or the deps array in `usePrism(fn, deps)` is missing a dependency and causing the prism to read stale values."),console.error(l),r.runUpdate();continue}e!==r.lastValue&&(r.lastValue=e,r.runUpdate())}zs=!1},1)}))}function G8(t,a){var l;let c=IJ(a),r=(0,Q3.useRef)(void 0);r.current||(GB++,r.current={order:GB,runUpdate:()=>{r.current.unmounted||c()},der:t,lastValue:void 0,unmounted:!1,queueUpdate:()=>{var i;L9&&((i=r.current.debug)==null||i.history.push("queueUpdate()")),PJ(r.current)},untap:t.onStale(()=>{L9&&r.current.debug.history.push("onStale(cb)"),r.current.queueUpdate()})},L9&&(r.current.debug={label:a,traceOfFirstTimeRender:new Error,history:[]})),(0,Q3.useLayoutEffect)(()=>function(){r.current.unmounted=!0,r.current.untap(),TB(r.current)},[]),TB(r.current);let e=r.current.der.getValue();return r.current.lastValue=e,L9&&((l=r.current.debug)==null||l.history.push("rendered")),e}var H9,ZB,Q3,OB,L9,s1,GB,y4,gc,zs,PJ,GJ,TB,M1=x(()=>{"use strict";H9=require("@theatre/dataverse");H2();ZB=P(rH()),Q3=P(T()),OB=P(B4()),L9=!1;s1=(t,a)=>v1(()=>(0,H9.val)(t),[t],a),GB=0,y4=[],gc=new Set,zs=!1,PJ=t=>{GJ(t),TJ()},GJ=t=>{if(!gc.has(t))if(gc.add(t),y4.length===0)y4.push(t);else{let a=Ke(y4,c=>c.order>=t.order);a===-1?y4.push(t):y4[a].order>t.order&&y4.splice(a,0,t)}},TB=t=>{if(!gc.has(t))return;gc.delete(t);let a=Ke(y4,c=>c===t);y4.splice(a,1)}});var qB=L1(q1=>{"use strict";var fi=60103,xi=60106,dc=60107,sc=60108,zc=60114,uc=60109,pc=60110,mc=60112,Mc=60113,us=60120,fc=60115,xc=60116,EB=60121,DB=60122,WB=60117,_B=60129,jB=60131;typeof Symbol=="function"&&Symbol.for&&(I2=Symbol.for,fi=I2("react.element"),xi=I2("react.portal"),dc=I2("react.fragment"),sc=I2("react.strict_mode"),zc=I2("react.profiler"),uc=I2("react.provider"),pc=I2("react.context"),mc=I2("react.forward_ref"),Mc=I2("react.suspense"),us=I2("react.suspense_list"),fc=I2("react.memo"),xc=I2("react.lazy"),EB=I2("react.block"),DB=I2("react.server.block"),WB=I2("react.fundamental"),_B=I2("react.debug_trace_mode"),jB=I2("react.legacy_hidden"));var I2;function X3(t){if(typeof t=="object"&&t!==null){var a=t.$$typeof;switch(a){case fi:switch(t=t.type,t){case dc:case zc:case sc:case Mc:case us:return t;default:switch(t=t&&t.$$typeof,t){case pc:case mc:case xc:case fc:case uc:return t;default:return a}}case xi:return a}}}var ZJ=uc,OJ=fi,EJ=mc,DJ=dc,WJ=xc,_J=fc,jJ=xi,qJ=zc,NJ=sc,UJ=Mc;q1.ContextConsumer=pc;q1.ContextProvider=ZJ;q1.Element=OJ;q1.ForwardRef=EJ;q1.Fragment=DJ;q1.Lazy=WJ;q1.Memo=_J;q1.Portal=jJ;q1.Profiler=qJ;q1.StrictMode=NJ;q1.Suspense=UJ;q1.isAsyncMode=function(){return!1};q1.isConcurrentMode=function(){return!1};q1.isContextConsumer=function(t){return X3(t)===pc};q1.isContextProvider=function(t){return X3(t)===uc};q1.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===fi};q1.isForwardRef=function(t){return X3(t)===mc};q1.isFragment=function(t){return X3(t)===dc};q1.isLazy=function(t){return X3(t)===xc};q1.isMemo=function(t){return X3(t)===fc};q1.isPortal=function(t){return X3(t)===xi};q1.isProfiler=function(t){return X3(t)===zc};q1.isStrictMode=function(t){return X3(t)===sc};q1.isSuspense=function(t){return X3(t)===Mc};q1.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===dc||t===zc||t===_B||t===sc||t===Mc||t===us||t===jB||typeof t=="object"&&t!==null&&(t.$$typeof===xc||t.$$typeof===fc||t.$$typeof===uc||t.$$typeof===pc||t.$$typeof===mc||t.$$typeof===WB||t.$$typeof===EB||t[0]===DB)};q1.typeOf=X3});var UB=L1((Pz1,NB)=>{"use strict";NB.exports=qB()});var ps=L1((Gz1,KB)=>{KB.exports=function(a,c,r,e){var l=r?r.call(e,a,c):void 0;if(l!==void 0)return!!l;if(a===c)return!0;if(typeof a!="object"||!a||typeof c!="object"||!c)return!1;var i=Object.keys(a),o=Object.keys(c);if(i.length!==o.length)return!1;for(var n=Object.prototype.hasOwnProperty.bind(c),h=0;h<i.length;h++){var v=i[h];if(!n(v))return!1;var g=a[v],s=c[v];if(l=r?r.call(e,g,s,v):void 0,l===!1||l===void 0&&g!==s)return!1}return!0}});function KJ(t){function a(Q,K,h1,C1,N){for(var f1=0,i1=0,B1=0,k1=0,A1,L,Y=0,$=0,b,R=b=A1=0,O=0,J=0,r1=0,q=0,n1=h1.length,d1=n1-1,l1,e1="",w1="",R1="",a0="",V0;O<n1;){if(L=h1.charCodeAt(O),O===d1&&i1+k1+B1+f1!==0&&(i1!==0&&(L=i1===47?10:47),k1=B1=f1=0,n1++,d1++),i1+k1+B1+f1===0){if(O===d1&&(0<J&&(e1=e1.replace(s,"")),0<e1.trim().length)){switch(L){case 32:case 9:case 59:case 13:case 10:break;default:e1+=h1.charAt(O)}L=59}switch(L){case 123:for(e1=e1.trim(),A1=e1.charCodeAt(0),b=1,q=++O;O<n1;){switch(L=h1.charCodeAt(O)){case 123:b++;break;case 125:b--;break;case 47:switch(L=h1.charCodeAt(O+1)){case 42:case 47:t:{for(R=O+1;R<d1;++R)switch(h1.charCodeAt(R)){case 47:if(L===42&&h1.charCodeAt(R-1)===42&&O+2!==R){O=R+1;break t}break;case 10:if(L===47){O=R+1;break t}}O=R}}break;case 91:L++;case 40:L++;case 34:case 39:for(;O++<d1&&h1.charCodeAt(O)!==L;);}if(b===0)break;O++}switch(b=h1.substring(q,O),A1===0&&(A1=(e1=e1.replace(g,"").trim()).charCodeAt(0)),A1){case 64:switch(0<J&&(e1=e1.replace(s,"")),L=e1.charCodeAt(1),L){case 100:case 109:case 115:case 45:J=K;break;default:J=X}if(b=a(K,J,b,L,N+1),q=b.length,0<c1&&(J=c(X,e1,r1),V0=o(3,b,J,K,E,C,q,L,N,C1),e1=J.join(""),V0!==void 0&&(q=(b=V0.trim()).length)===0&&(L=0,b="")),0<q)switch(L){case 115:e1=e1.replace(y,i);case 100:case 109:case 45:b=e1+"{"+b+"}";break;case 107:e1=e1.replace(p,"$1 $2"),b=e1+"{"+b+"}",b=F===1||F===2&&l("@"+b,3)?"@-webkit-"+b+"@"+b:"@"+b;break;default:b=e1+b,C1===112&&(b=(w1+=b,""))}else b="";break;default:b=a(K,c(K,e1,r1),b,C1,N+1)}R1+=b,b=r1=J=R=A1=0,e1="",L=h1.charCodeAt(++O);break;case 125:case 59:if(e1=(0<J?e1.replace(s,""):e1).trim(),1<(q=e1.length))switch(R===0&&(A1=e1.charCodeAt(0),A1===45||96<A1&&123>A1)&&(q=(e1=e1.replace(" ",":")).length),0<c1&&(V0=o(1,e1,K,Q,E,C,w1.length,C1,N,C1))!==void 0&&(q=(e1=V0.trim()).length)===0&&(e1="\0\0"),A1=e1.charCodeAt(0),L=e1.charCodeAt(1),A1){case 0:break;case 64:if(L===105||L===99){a0+=e1+h1.charAt(O);break}default:e1.charCodeAt(q-1)!==58&&(w1+=e(e1,A1,L,e1.charCodeAt(2)))}r1=J=R=A1=0,e1="",L=h1.charCodeAt(++O)}}switch(L){case 13:case 10:i1===47?i1=0:1+A1===0&&C1!==107&&0<e1.length&&(J=1,e1+="\0"),0<c1*_&&o(0,e1,K,Q,E,C,w1.length,C1,N,C1),C=1,E++;break;case 59:case 125:if(i1+k1+B1+f1===0){C++;break}default:switch(C++,l1=h1.charAt(O),L){case 9:case 32:if(k1+f1+i1===0)switch(Y){case 44:case 58:case 9:case 32:l1="";break;default:L!==32&&(l1=" ")}break;case 0:l1="\\0";break;case 12:l1="\\f";break;case 11:l1="\\v";break;case 38:k1+i1+f1===0&&(J=r1=1,l1="\f"+l1);break;case 108:if(k1+i1+f1+t1===0&&0<R)switch(O-R){case 2:Y===112&&h1.charCodeAt(O-3)===58&&(t1=Y);case 8:$===111&&(t1=$)}break;case 58:k1+i1+f1===0&&(R=O);break;case 44:i1+B1+k1+f1===0&&(J=1,l1+="\r");break;case 34:case 39:i1===0&&(k1=k1===L?0:k1===0?L:k1);break;case 91:k1+i1+B1===0&&f1++;break;case 93:k1+i1+B1===0&&f1--;break;case 41:k1+i1+f1===0&&B1--;break;case 40:if(k1+i1+f1===0){if(A1===0)switch(2*Y+3*$){case 533:break;default:A1=1}B1++}break;case 64:i1+B1+k1+f1+R+b===0&&(b=1);break;case 42:case 47:if(!(0<k1+f1+B1))switch(i1){case 0:switch(2*L+3*h1.charCodeAt(O+1)){case 235:i1=47;break;case 220:q=O,i1=42}break;case 42:L===47&&Y===42&&q+2!==O&&(h1.charCodeAt(q+2)===33&&(w1+=h1.substring(q,O+1)),l1="",i1=0)}}i1===0&&(e1+=l1)}$=Y,Y=L,O++}if(q=w1.length,0<q){if(J=K,0<c1&&(V0=o(2,w1,J,Q,E,C,q,C1,N,C1),V0!==void 0&&(w1=V0).length===0))return a0+w1+R1;if(w1=J.join(",")+"{"+w1+"}",F*t1!==0){switch(F!==2||l(w1,2)||(t1=0),t1){case 111:w1=w1.replace(H,":-moz-$1")+w1;break;case 112:w1=w1.replace(f,"::-webkit-input-$1")+w1.replace(f,"::-moz-$1")+w1.replace(f,":-ms-input-$1")+w1}t1=0}}return a0+w1+R1}function c(Q,K,h1){var C1=K.trim().split(M);K=C1;var N=C1.length,f1=Q.length;switch(f1){case 0:case 1:var i1=0;for(Q=f1===0?"":Q[0]+" ";i1<N;++i1)K[i1]=r(Q,K[i1],h1).trim();break;default:var B1=i1=0;for(K=[];i1<N;++i1)for(var k1=0;k1<f1;++k1)K[B1++]=r(Q[k1]+" ",C1[i1],h1).trim()}return K}function r(Q,K,h1){var C1=K.charCodeAt(0);switch(33>C1&&(C1=(K=K.trim()).charCodeAt(0)),C1){case 38:return K.replace(m,"$1"+Q.trim());case 58:return Q.trim()+K.replace(m,"$1"+Q.trim());default:if(0<1*h1&&0<K.indexOf("\f"))return K.replace(m,(Q.charCodeAt(0)===58?"":"$1")+Q.trim())}return Q+K}function e(Q,K,h1,C1){var N=Q+";",f1=2*K+3*h1+4*C1;if(f1===944){Q=N.indexOf(":",9)+1;var i1=N.substring(Q,N.length-1).trim();return i1=N.substring(0,Q).trim()+i1+";",F===1||F===2&&l(i1,1)?"-webkit-"+i1+i1:i1}if(F===0||F===2&&!l(N,1))return N;switch(f1){case 1015:return N.charCodeAt(10)===97?"-webkit-"+N+N:N;case 951:return N.charCodeAt(3)===116?"-webkit-"+N+N:N;case 963:return N.charCodeAt(5)===110?"-webkit-"+N+N:N;case 1009:if(N.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+N+N;case 978:return"-webkit-"+N+"-moz-"+N+N;case 1019:case 983:return"-webkit-"+N+"-moz-"+N+"-ms-"+N+N;case 883:if(N.charCodeAt(8)===45)return"-webkit-"+N+N;if(0<N.indexOf("image-set(",11))return N.replace(G,"$1-webkit-$2")+N;break;case 932:if(N.charCodeAt(4)===45)switch(N.charCodeAt(5)){case 103:return"-webkit-box-"+N.replace("-grow","")+"-webkit-"+N+"-ms-"+N.replace("grow","positive")+N;case 115:return"-webkit-"+N+"-ms-"+N.replace("shrink","negative")+N;case 98:return"-webkit-"+N+"-ms-"+N.replace("basis","preferred-size")+N}return"-webkit-"+N+"-ms-"+N+N;case 964:return"-webkit-"+N+"-ms-flex-"+N+N;case 1023:if(N.charCodeAt(8)!==99)break;return i1=N.substring(N.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+i1+"-webkit-"+N+"-ms-flex-pack"+i1+N;case 1005:return z.test(N)?N.replace(d,":-webkit-")+N.replace(d,":-moz-")+N:N;case 1e3:switch(i1=N.substring(13).trim(),K=i1.indexOf("-")+1,i1.charCodeAt(0)+i1.charCodeAt(K)){case 226:i1=N.replace(w,"tb");break;case 232:i1=N.replace(w,"tb-rl");break;case 220:i1=N.replace(w,"lr");break;default:return N}return"-webkit-"+N+"-ms-"+i1+N;case 1017:if(N.indexOf("sticky",9)===-1)break;case 975:switch(K=(N=Q).length-10,i1=(N.charCodeAt(K)===33?N.substring(0,K):N).substring(Q.indexOf(":",7)+1).trim(),f1=i1.charCodeAt(0)+(i1.charCodeAt(7)|0)){case 203:if(111>i1.charCodeAt(8))break;case 115:N=N.replace(i1,"-webkit-"+i1)+";"+N;break;case 207:case 102:N=N.replace(i1,"-webkit-"+(102<f1?"inline-":"")+"box")+";"+N.replace(i1,"-webkit-"+i1)+";"+N.replace(i1,"-ms-"+i1+"box")+";"+N}return N+";";case 938:if(N.charCodeAt(5)===45)switch(N.charCodeAt(6)){case 105:return i1=N.replace("-items",""),"-webkit-"+N+"-webkit-box-"+i1+"-ms-flex-"+i1+N;case 115:return"-webkit-"+N+"-ms-flex-item-"+N.replace(I,"")+N;default:return"-webkit-"+N+"-ms-flex-line-pack"+N.replace("align-content","").replace(I,"")+N}break;case 973:case 989:if(N.charCodeAt(3)!==45||N.charCodeAt(4)===122)break;case 931:case 953:if(A.test(Q)===!0)return(i1=Q.substring(Q.indexOf(":")+1)).charCodeAt(0)===115?e(Q.replace("stretch","fill-available"),K,h1,C1).replace(":fill-available",":stretch"):N.replace(i1,"-webkit-"+i1)+N.replace(i1,"-moz-"+i1.replace("fill-",""))+N;break;case 962:if(N="-webkit-"+N+(N.charCodeAt(5)===102?"-ms-"+N:"")+N,h1+C1===211&&N.charCodeAt(13)===105&&0<N.indexOf("transform",10))return N.substring(0,N.indexOf(";",27)+1).replace(u,"$1-webkit-$2")+N}return N}function l(Q,K){var h1=Q.indexOf(K===1?":":"{"),C1=Q.substring(0,K!==3?h1:10);return h1=Q.substring(h1+1,Q.length-1),j(K!==2?C1:C1.replace(U,"$1"),h1,K)}function i(Q,K){var h1=e(K,K.charCodeAt(0),K.charCodeAt(1),K.charCodeAt(2));return h1!==K+";"?h1.replace(k," or ($1)").substring(4):"("+K+")"}function o(Q,K,h1,C1,N,f1,i1,B1,k1,A1){for(var L=0,Y=K,$;L<c1;++L)switch($=D[L].call(v,Q,Y,h1,C1,N,f1,i1,B1,k1,A1)){case void 0:case!1:case!0:case null:break;default:Y=$}if(Y!==K)return Y}function n(Q){switch(Q){case void 0:case null:c1=D.length=0;break;default:if(typeof Q=="function")D[c1++]=Q;else if(typeof Q=="object")for(var K=0,h1=Q.length;K<h1;++K)n(Q[K]);else _=!!Q|0}return n}function h(Q){return Q=Q.prefix,Q!==void 0&&(j=null,Q?typeof Q!="function"?F=1:(F=2,j=Q):F=0),h}function v(Q,K){var h1=Q;if(33>h1.charCodeAt(0)&&(h1=h1.trim()),g1=h1,h1=[g1],0<c1){var C1=o(-1,K,h1,h1,E,C,0,0,0,0);C1!==void 0&&typeof C1=="string"&&(K=C1)}var N=a(X,h1,K,0,0);return 0<c1&&(C1=o(-2,N,h1,h1,E,C,N.length,0,0,0),C1!==void 0&&(N=C1)),g1="",t1=0,C=E=1,N}var g=/^\0+/g,s=/[\0\r\f]/g,d=/: */g,z=/zoo|gra/,u=/([,: ])(transform)/g,M=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,p=/@(k\w+)\s*(\S*)\s*/,f=/::(place)/g,H=/:(read-only)/g,w=/[svh]\w+-[tblr]{2}/,y=/\(\s*(.*)\s*\)/g,k=/([\s\S]*?);/g,I=/-self|flex-/g,U=/[^]*?(:[rp][el]a[\w-]+)[^]*/,A=/stretch|:\s*\w+\-(?:conte|avail)/,G=/([^-])(image-set\()/,C=1,E=1,t1=0,F=1,X=[],D=[],c1=0,j=null,_=0,g1="";return v.use=n,v.set=h,t!==void 0&&h(t),v}var $B,QB=x(()=>{$B=KJ});var $J,XB,YB=x(()=>{$J={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},XB=$J});function QJ(t){var a=Object.create(null);return function(c){return a[c]===void 0&&(a[c]=t(c)),a[c]}}var JB,ty=x(()=>{JB=QJ});var XJ,YJ,ms,ay=x(()=>{ty();XJ=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,YJ=JB(function(t){return XJ.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),ms=YJ});var ry=L1(_1=>{"use strict";var P2=typeof Symbol=="function"&&Symbol.for,Ms=P2?Symbol.for("react.element"):60103,fs=P2?Symbol.for("react.portal"):60106,Ci=P2?Symbol.for("react.fragment"):60107,Li=P2?Symbol.for("react.strict_mode"):60108,Hi=P2?Symbol.for("react.profiler"):60114,Vi=P2?Symbol.for("react.provider"):60109,wi=P2?Symbol.for("react.context"):60110,xs=P2?Symbol.for("react.async_mode"):60111,Bi=P2?Symbol.for("react.concurrent_mode"):60111,yi=P2?Symbol.for("react.forward_ref"):60112,Si=P2?Symbol.for("react.suspense"):60113,JJ=P2?Symbol.for("react.suspense_list"):60120,ki=P2?Symbol.for("react.memo"):60115,Ai=P2?Symbol.for("react.lazy"):60116,t11=P2?Symbol.for("react.block"):60121,a11=P2?Symbol.for("react.fundamental"):60117,c11=P2?Symbol.for("react.responder"):60118,r11=P2?Symbol.for("react.scope"):60119;function t3(t){if(typeof t=="object"&&t!==null){var a=t.$$typeof;switch(a){case Ms:switch(t=t.type,t){case xs:case Bi:case Ci:case Hi:case Li:case Si:return t;default:switch(t=t&&t.$$typeof,t){case wi:case yi:case Ai:case ki:case Vi:return t;default:return a}}case fs:return a}}}function cy(t){return t3(t)===Bi}_1.AsyncMode=xs;_1.ConcurrentMode=Bi;_1.ContextConsumer=wi;_1.ContextProvider=Vi;_1.Element=Ms;_1.ForwardRef=yi;_1.Fragment=Ci;_1.Lazy=Ai;_1.Memo=ki;_1.Portal=fs;_1.Profiler=Hi;_1.StrictMode=Li;_1.Suspense=Si;_1.isAsyncMode=function(t){return cy(t)||t3(t)===xs};_1.isConcurrentMode=cy;_1.isContextConsumer=function(t){return t3(t)===wi};_1.isContextProvider=function(t){return t3(t)===Vi};_1.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ms};_1.isForwardRef=function(t){return t3(t)===yi};_1.isFragment=function(t){return t3(t)===Ci};_1.isLazy=function(t){return t3(t)===Ai};_1.isMemo=function(t){return t3(t)===ki};_1.isPortal=function(t){return t3(t)===fs};_1.isProfiler=function(t){return t3(t)===Hi};_1.isStrictMode=function(t){return t3(t)===Li};_1.isSuspense=function(t){return t3(t)===Si};_1.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Ci||t===Bi||t===Hi||t===Li||t===Si||t===JJ||typeof t=="object"&&t!==null&&(t.$$typeof===Ai||t.$$typeof===ki||t.$$typeof===Vi||t.$$typeof===wi||t.$$typeof===yi||t.$$typeof===a11||t.$$typeof===c11||t.$$typeof===r11||t.$$typeof===t11)};_1.typeOf=t3});var ly=L1((_z1,ey)=>{"use strict";ey.exports=ry()});var dy=L1((jz1,gy)=>{"use strict";var Cs=ly(),e11={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},l11={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i11={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},hy={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Ls={};Ls[Cs.ForwardRef]=i11;Ls[Cs.Memo]=hy;function iy(t){return Cs.isMemo(t)?hy:Ls[t.$$typeof]||e11}var o11=Object.defineProperty,n11=Object.getOwnPropertyNames,oy=Object.getOwnPropertySymbols,h11=Object.getOwnPropertyDescriptor,v11=Object.getPrototypeOf,ny=Object.prototype;function vy(t,a,c){if(typeof a!="string"){if(ny){var r=v11(a);r&&r!==ny&&vy(t,r,c)}var e=n11(a);oy&&(e=e.concat(oy(a)));for(var l=iy(t),i=iy(a),o=0;o<e.length;++o){var n=e[o];if(!l11[n]&&!(c&&c[n])&&!(i&&i[n])&&!(l&&l[n])){var h=h11(a,n);try{o11(t,n,h)}catch(v){}}}}return t}gy.exports=vy});function Y3(){return(Y3=Object.assign||function(t){for(var a=1;a<arguments.length;a++){var c=arguments[a];for(var r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r])}return t}).apply(this,arguments)}function Lc(t){return typeof t=="function"}function zy(t){return t.displayName||t.name||"Component"}function Rs(t){return t&&typeof t.styledComponentId=="string"}function u5(t){for(var a=arguments.length,c=new Array(a>1?a-1:0),r=1;r<a;r++)c[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+t+" for more information."+(c.length>0?" Args: "+c.join(", "):""))}function ys(t){var a,c="";for(a=Math.abs(t);a>52;a=a/52|0)c=py(a%52)+c;return(py(a%52)+c).replace(V11,"$1-$2")}function Vy(t){for(var a=0;a<t.length;a+=1){var c=t[a];if(Lc(c)&&!Rs(c))return!1}return!0}function wy(t){var a,c,r,e,l=t===void 0?S6:t,i=l.options,o=i===void 0?S6:i,n=l.plugins,h=n===void 0?Ii:n,v=new $B(o),g=[],s=function(u){function M(m){if(m)try{u(m+"}")}catch(p){}}return function(m,p,f,H,w,y,k,I,U,A){switch(m){case 1:if(U===0&&p.charCodeAt(0)===64)return u(p+";"),"";break;case 2:if(I===0)return p+"/*|*/";break;case 3:switch(I){case 102:case 112:return u(f[0]+p),"";default:return p+(A===0?"/*|*/":"")}case-2:p.split("/*|*/}").forEach(M)}}}(function(u){g.push(u)}),d=function(u,M,m){return M===0&&S11.indexOf(m[c.length])!==-1||m.match(e)?u:"."+a};function z(u,M,m,p){p===void 0&&(p="&");var f=u.replace(y11,""),H=M&&m?m+" "+M+" { "+f+" }":f;return a=p,c=M,r=new RegExp("\\"+c+"\\b","g"),e=new RegExp("(\\"+c+"\\b){2,}"),v(m||!M?"":M,H)}return v.use([].concat(h,[function(u,M,m){u===2&&m.length&&m[0].lastIndexOf(c)>0&&(m[0]=m[0].replace(r,d))},s,function(u){if(u===-2){var M=g;return g=[],M}}])),z.hash=h.length?h.reduce(function(u,M){return M.name||u5(15),V9(u,M.name)},5381).toString():"",z}function Ps(){return(0,j1.useContext)(Fs)||k11}function By(){return(0,j1.useContext)(Is)||Ss}function Gs(t){var a=(0,j1.useState)(t.stylisPlugins),c=a[0],r=a[1],e=Ps(),l=(0,j1.useMemo)(function(){var o=e;return t.sheet?o=t.sheet:t.target&&(o=o.reconstructWithOptions({target:t.target},!1)),t.disableCSSOMInjection&&(o=o.reconstructWithOptions({useCSSOMInjection:!1})),o},[t.disableCSSOMInjection,t.sheet,t.target]),i=(0,j1.useMemo)(function(){return wy({options:{prefix:!t.disableVendorPrefixes},plugins:c})},[t.disableVendorPrefixes,c]);return(0,j1.useEffect)(function(){(0,xy.default)(c,t.stylisPlugins)||r(t.stylisPlugins)},[t.stylisPlugins]),j1.default.createElement(Fs.Provider,{value:l},j1.default.createElement(Is.Provider,{value:i},t.children))}function my(t){return R11.test(t)?t.replace(b11,I11).replace(F11,"-ms-"):t}function T8(t,a,c,r){if(Array.isArray(t)){for(var e,l=[],i=0,o=t.length;i<o;i+=1)(e=T8(t[i],a,c,r))!==""&&(Array.isArray(e)?l.push.apply(l,e):l.push(e));return l}if(My(t))return"";if(Rs(t))return"."+t.styledComponentId;if(Lc(t)){if(typeof(h=t)!="function"||h.prototype&&h.prototype.isReactComponent||!a)return t;var n=t(a);return T8(n,a,c,r)}var h;return t instanceof A11?c?(t.inject(c,r),t.getName(r)):t:ws(t)?function v(g,s){var d,z,u=[];for(var M in g)g.hasOwnProperty(M)&&!My(g[M])&&(Array.isArray(g[M])&&g[M].isCss||Lc(g[M])?u.push(my(M)+":",g[M],";"):ws(g[M])?u.push.apply(u,v(g[M],M)):u.push(my(M)+": "+(d=M,(z=g[M])==null||typeof z=="boolean"||z===""?"":typeof z!="number"||z===0||d in XB||d.startsWith("--")?String(z).trim():z+"px")+";"));return s?[s+" {"].concat(u,["}"]):u}(t):t.toString()}function M2(t){for(var a=arguments.length,c=new Array(a>1?a-1:0),r=1;r<a;r++)c[r-1]=arguments[r];return Lc(t)||ws(t)?fy(T8(sy(Ii,[t].concat(c)))):c.length===0&&t.length===1&&typeof t[0]=="string"?t:fy(T8(sy(t,c)))}function Hs(t){return t.replace(P11,"-").replace(G11,"")}function bi(t){return typeof t=="string"&&!0}function Z11(t,a,c){var r=t[c];ks(a)&&ks(r)?ky(r,a):t[c]=a}function ky(t){for(var a=arguments.length,c=new Array(a>1?a-1:0),r=1;r<a;r++)c[r-1]=arguments[r];for(var e=0,l=c;e<l.length;e++){var i=l[e];if(ks(i))for(var o in i)T11(o)&&Z11(t,i[o],o)}return t}function Ay(t,a,c){var r=Rs(t),e=!bi(t),l=a.attrs,i=l===void 0?Ii:l,o=a.componentId,n=o===void 0?function(p,f){var H=typeof p!="string"?"sc":Hs(p);Vs[H]=(Vs[H]||0)+1;var w=H+"-"+Sy("5.3.11"+H+Vs[H]);return f?f+"-"+w:w}(a.displayName,a.parentComponentId):o,h=a.displayName,v=h===void 0?function(p){return bi(p)?"styled."+p:"Styled("+zy(p)+")"}(t):h,g=a.displayName&&a.componentId?Hs(a.displayName)+"-"+a.componentId:a.componentId||n,s=r&&t.attrs?Array.prototype.concat(t.attrs,i).filter(Boolean):i,d=a.shouldForwardProp;r&&t.shouldForwardProp&&(d=a.shouldForwardProp?function(p,f,H){return t.shouldForwardProp(p,f,H)&&a.shouldForwardProp(p,f,H)}:t.shouldForwardProp);var z,u=new B11(c,g,r?t.componentStyle:void 0),M=u.isStatic&&i.length===0,m=function(p,f){return function(H,w,y,k){var I=H.attrs,U=H.componentStyle,A=H.defaultProps,G=H.foldedComponentIds,C=H.shouldForwardProp,E=H.styledComponentId,t1=H.target,F=function(C1,N,f1){C1===void 0&&(C1=S6);var i1=Y3({},N,{theme:C1}),B1={};return f1.forEach(function(k1){var A1,L,Y,$=k1;for(A1 in Lc($)&&($=$(i1)),$)i1[A1]=B1[A1]=A1==="className"?(L=B1[A1],Y=$[A1],L&&Y?L+" "+Y:L||Y):$[A1]}),[i1,B1]}(yy(w,(0,j1.useContext)(Ts),A)||S6,w,I),X=F[0],D=F[1],c1=function(C1,N,f1,i1){var B1=Ps(),k1=By(),A1=N?C1.generateAndInjectStyles(S6,B1,k1):C1.generateAndInjectStyles(f1,B1,k1);return A1}(U,k,X,void 0),j=y,_=D.$as||w.$as||D.as||w.as||t1,g1=bi(_),Q=D!==w?Y3({},w,{},D):w,K={};for(var h1 in Q)h1[0]!=="$"&&h1!=="as"&&(h1==="forwardedAs"?K.as=Q[h1]:(C?C(h1,ms,_):!g1||ms(h1))&&(K[h1]=Q[h1]));return w.style&&D.style!==w.style&&(K.style=Y3({},w.style,{},D.style)),K.className=Array.prototype.concat(G,E,c1!==E?c1:null,w.className,D.className).filter(Boolean).join(" "),K.ref=j,(0,j1.createElement)(_,K)}(z,p,f,M)};return m.displayName=v,(z=j1.default.forwardRef(m)).attrs=s,z.componentStyle=u,z.displayName=v,z.shouldForwardProp=d,z.foldedComponentIds=r?Array.prototype.concat(t.foldedComponentIds,t.styledComponentId):Ii,z.styledComponentId=g,z.target=r?t.target:t,z.withComponent=function(p){var f=a.componentId,H=function(y,k){if(y==null)return{};var I,U,A={},G=Object.keys(y);for(U=0;U<G.length;U++)I=G[U],k.indexOf(I)>=0||(A[I]=y[I]);return A}(a,["componentId"]),w=f&&f+"-"+(bi(p)?p:Hs(zy(p)));return Ay(p,Y3({},H,{attrs:s,componentId:w}),c)},Object.defineProperty(z,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(p){this._foldedDefaultProps=r?ky({},t.defaultProps,p):p}}),Object.defineProperty(z,"toString",{value:function(){return"."+z.styledComponentId}}),e&&(0,Cy.default)(z,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),z}function Ti(t){for(var a=arguments.length,c=new Array(a>1?a-1:0),r=1;r<a;r++)c[r-1]=arguments[r];var e=M2.apply(void 0,[t].concat(c)),l="sc-global-"+Sy(JSON.stringify(e)),i=new O11(e,l);function o(h){var v=Ps(),g=By(),s=(0,j1.useContext)(Ts),d=(0,j1.useRef)(v.allocateGSInstance(l)).current;return v.server&&n(d,h,v,s,g),(0,j1.useLayoutEffect)(function(){if(!v.server)return n(d,h,v,s,g),function(){return i.removeStyles(d,v)}},[d,h,v,s,g]),null}function n(h,v,g,s,d){if(i.isStatic)i.renderStyles(h,d11,g,d);else{var z=Y3({},v,{theme:yy(v,s,o.defaultProps)});i.renderStyles(h,z,g,d)}}return j1.default.memo(o)}var Gi,j1,xy,Cy,sy,ws,Ii,S6,k6,bs,g11,d11,s11,Fi,Pi,Cc,Ri,z11,u11,p11,m11,M11,f11,Bs,Ly,x11,C11,L11,uy,H11,Hc,V11,py,V9,Hy,w11,B11,y11,S11,Fs,$z1,Is,k11,Ss,A11,R11,b11,F11,I11,My,fy,yy,P11,G11,Sy,ks,T11,Ts,Qz1,Vs,As,O11,Xz1,B,a1=x(()=>{Gi=P(UB()),j1=P(T()),xy=P(ps());QB();YB();ay();Cy=P(dy());sy=function(t,a){for(var c=[t[0]],r=0,e=a.length;r<e;r+=1)c.push(a[r],t[r+1]);return c},ws=function(t){return t!==null&&typeof t=="object"&&(t.toString?t.toString():Object.prototype.toString.call(t))==="[object Object]"&&!(0,Gi.typeOf)(t)},Ii=Object.freeze([]),S6=Object.freeze({});k6=typeof process!="undefined"&&process.env!==void 0&&(process.env.REACT_APP_SC_ATTR||process.env.SC_ATTR)||"data-styled",bs=typeof window!="undefined"&&"HTMLElement"in window,g11=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process!="undefined"&&process.env!==void 0&&(process.env.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&process.env.REACT_APP_SC_DISABLE_SPEEDY!==""?process.env.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&process.env.REACT_APP_SC_DISABLE_SPEEDY:process.env.SC_DISABLE_SPEEDY!==void 0&&process.env.SC_DISABLE_SPEEDY!==""&&process.env.SC_DISABLE_SPEEDY!=="false"&&process.env.SC_DISABLE_SPEEDY)),d11={};s11=function(){function t(c){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=c}var a=t.prototype;return a.indexOfGroup=function(c){for(var r=0,e=0;e<c;e++)r+=this.groupSizes[e];return r},a.insertRules=function(c,r){if(c>=this.groupSizes.length){for(var e=this.groupSizes,l=e.length,i=l;c>=i;)(i<<=1)<0&&u5(16,""+c);this.groupSizes=new Uint32Array(i),this.groupSizes.set(e),this.length=i;for(var o=l;o<i;o++)this.groupSizes[o]=0}for(var n=this.indexOfGroup(c+1),h=0,v=r.length;h<v;h++)this.tag.insertRule(n,r[h])&&(this.groupSizes[c]++,n++)},a.clearGroup=function(c){if(c<this.length){var r=this.groupSizes[c],e=this.indexOfGroup(c),l=e+r;this.groupSizes[c]=0;for(var i=e;i<l;i++)this.tag.deleteRule(e)}},a.getGroup=function(c){var r="";if(c>=this.length||this.groupSizes[c]===0)return r;for(var e=this.groupSizes[c],l=this.indexOfGroup(c),i=l+e,o=l;o<i;o++)r+=this.tag.getRule(o)+"/*!sc*/\n";return r},t}(),Fi=new Map,Pi=new Map,Cc=1,Ri=function(t){if(Fi.has(t))return Fi.get(t);for(;Pi.has(Cc);)Cc++;var a=Cc++;return Fi.set(t,a),Pi.set(a,t),a},z11=function(t){return Pi.get(t)},u11=function(t,a){a>=Cc&&(Cc=a+1),Fi.set(t,a),Pi.set(a,t)},p11="style["+k6+'][data-styled-version="5.3.11"]',m11=new RegExp("^"+k6+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),M11=function(t,a,c){for(var r,e=c.split(","),l=0,i=e.length;l<i;l++)(r=e[l])&&t.registerName(a,r)},f11=function(t,a){for(var c=(a.textContent||"").split("/*!sc*/\n"),r=[],e=0,l=c.length;e<l;e++){var i=c[e].trim();if(i){var o=i.match(m11);if(o){var n=0|parseInt(o[1],10),h=o[2];n!==0&&(u11(h,n),M11(t,h,o[3]),t.getTag().insertRules(n,r)),r.length=0}else r.push(i)}}},Bs=function(){return typeof __webpack_nonce__!="undefined"?__webpack_nonce__:null},Ly=function(t){var a=document.head,c=t||a,r=document.createElement("style"),e=function(o){for(var n=o.childNodes,h=n.length;h>=0;h--){var v=n[h];if(v&&v.nodeType===1&&v.hasAttribute(k6))return v}}(c),l=e!==void 0?e.nextSibling:null;r.setAttribute(k6,"active"),r.setAttribute("data-styled-version","5.3.11");var i=Bs();return i&&r.setAttribute("nonce",i),c.insertBefore(r,l),r},x11=function(){function t(c){var r=this.element=Ly(c);r.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var l=document.styleSheets,i=0,o=l.length;i<o;i++){var n=l[i];if(n.ownerNode===e)return n}u5(17)}(r),this.length=0}var a=t.prototype;return a.insertRule=function(c,r){try{return this.sheet.insertRule(r,c),this.length++,!0}catch(e){return!1}},a.deleteRule=function(c){this.sheet.deleteRule(c),this.length--},a.getRule=function(c){var r=this.sheet.cssRules[c];return r!==void 0&&typeof r.cssText=="string"?r.cssText:""},t}(),C11=function(){function t(c){var r=this.element=Ly(c);this.nodes=r.childNodes,this.length=0}var a=t.prototype;return a.insertRule=function(c,r){if(c<=this.length&&c>=0){var e=document.createTextNode(r),l=this.nodes[c];return this.element.insertBefore(e,l||null),this.length++,!0}return!1},a.deleteRule=function(c){this.element.removeChild(this.nodes[c]),this.length--},a.getRule=function(c){return c<this.length?this.nodes[c].textContent:""},t}(),L11=function(){function t(c){this.rules=[],this.length=0}var a=t.prototype;return a.insertRule=function(c,r){return c<=this.length&&(this.rules.splice(c,0,r),this.length++,!0)},a.deleteRule=function(c){this.rules.splice(c,1),this.length--},a.getRule=function(c){return c<this.length?this.rules[c]:""},t}(),uy=bs,H11={isServer:!bs,useCSSOMInjection:!g11},Hc=function(){function t(c,r,e){c===void 0&&(c=S6),r===void 0&&(r={}),this.options=Y3({},H11,{},c),this.gs=r,this.names=new Map(e),this.server=!!c.isServer,!this.server&&bs&&uy&&(uy=!1,function(l){for(var i=document.querySelectorAll(p11),o=0,n=i.length;o<n;o++){var h=i[o];h&&h.getAttribute(k6)!=="active"&&(f11(l,h),h.parentNode&&h.parentNode.removeChild(h))}}(this))}t.registerId=function(c){return Ri(c)};var a=t.prototype;return a.reconstructWithOptions=function(c,r){return r===void 0&&(r=!0),new t(Y3({},this.options,{},c),this.gs,r&&this.names||void 0)},a.allocateGSInstance=function(c){return this.gs[c]=(this.gs[c]||0)+1},a.getTag=function(){return this.tag||(this.tag=(e=(r=this.options).isServer,l=r.useCSSOMInjection,i=r.target,c=e?new L11(i):l?new x11(i):new C11(i),new s11(c)));var c,r,e,l,i},a.hasNameForId=function(c,r){return this.names.has(c)&&this.names.get(c).has(r)},a.registerName=function(c,r){if(Ri(c),this.names.has(c))this.names.get(c).add(r);else{var e=new Set;e.add(r),this.names.set(c,e)}},a.insertRules=function(c,r,e){this.registerName(c,r),this.getTag().insertRules(Ri(c),e)},a.clearNames=function(c){this.names.has(c)&&this.names.get(c).clear()},a.clearRules=function(c){this.getTag().clearGroup(Ri(c)),this.clearNames(c)},a.clearTag=function(){this.tag=void 0},a.toString=function(){return function(c){for(var r=c.getTag(),e=r.length,l="",i=0;i<e;i++){var o=z11(i);if(o!==void 0){var n=c.names.get(o),h=r.getGroup(i);if(n&&h&&n.size){var v=k6+".g"+i+'[id="'+o+'"]',g="";n!==void 0&&n.forEach(function(s){s.length>0&&(g+=s+",")}),l+=""+h+v+'{content:"'+g+'"}/*!sc*/\n'}}}return l}(this)},t}(),V11=/(a)(d)/gi,py=function(t){return String.fromCharCode(t+(t>25?39:97))};V9=function(t,a){for(var c=a.length;c;)t=33*t^a.charCodeAt(--c);return t},Hy=function(t){return V9(5381,t)};w11=Hy("5.3.11"),B11=function(){function t(a,c,r){this.rules=a,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&Vy(a),this.componentId=c,this.baseHash=V9(w11,c),this.baseStyle=r,Hc.registerId(c)}return t.prototype.generateAndInjectStyles=function(a,c,r){var e=this.componentId,l=[];if(this.baseStyle&&l.push(this.baseStyle.generateAndInjectStyles(a,c,r)),this.isStatic&&!r.hash)if(this.staticRulesId&&c.hasNameForId(e,this.staticRulesId))l.push(this.staticRulesId);else{var i=T8(this.rules,a,c,r).join(""),o=ys(V9(this.baseHash,i)>>>0);if(!c.hasNameForId(e,o)){var n=r(i,"."+o,void 0,e);c.insertRules(e,o,n)}l.push(o),this.staticRulesId=o}else{for(var h=this.rules.length,v=V9(this.baseHash,r.hash),g="",s=0;s<h;s++){var d=this.rules[s];if(typeof d=="string")g+=d;else if(d){var z=T8(d,a,c,r),u=Array.isArray(z)?z.join(""):z;v=V9(v,u+s),g+=u}}if(g){var M=ys(v>>>0);if(!c.hasNameForId(e,M)){var m=r(g,"."+M,void 0,e);c.insertRules(e,M,m)}l.push(M)}}return l.join(" ")},t}(),y11=/^\s*\/\/.*$/gm,S11=[":","[",".","#"];Fs=j1.default.createContext(),$z1=Fs.Consumer,Is=j1.default.createContext(),k11=(Is.Consumer,new Hc),Ss=wy();A11=function(){function t(a,c){var r=this;this.inject=function(e,l){l===void 0&&(l=Ss);var i=r.name+l.hash;e.hasNameForId(r.id,i)||e.insertRules(r.id,i,l(r.rules,i,"@keyframes"))},this.toString=function(){return u5(12,String(r.name))},this.name=a,this.id="sc-keyframes-"+a,this.rules=c}return t.prototype.getName=function(a){return a===void 0&&(a=Ss),this.name+a.hash},t}(),R11=/([A-Z])/,b11=/([A-Z])/g,F11=/^ms-/,I11=function(t){return"-"+t.toLowerCase()};My=function(t){return t==null||t===!1||t===""};fy=function(t){return Array.isArray(t)&&(t.isCss=!0),t};yy=function(t,a,c){return c===void 0&&(c=S6),t.theme!==c.theme&&t.theme||a||c.theme},P11=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,G11=/(^-|-$)/g;Sy=function(t){return ys(Hy(t)>>>0)};ks=function(t){return typeof t=="function"||typeof t=="object"&&t!==null&&!Array.isArray(t)},T11=function(t){return t!=="__proto__"&&t!=="constructor"&&t!=="prototype"};Ts=j1.default.createContext(),Qz1=Ts.Consumer,Vs={};As=function(t){return function a(c,r,e){if(e===void 0&&(e=S6),!(0,Gi.isValidElementType)(r))return u5(1,String(r));var l=function(){return c(r,e,M2.apply(void 0,arguments))};return l.withConfig=function(i){return a(c,r,Y3({},e,{},i))},l.attrs=function(i){return a(c,r,Y3({},e,{attrs:Array.prototype.concat(e.attrs,i).filter(Boolean)}))},l}(Ay,t)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(t){As[t]=As(t)});O11=function(){function t(c,r){this.rules=c,this.componentId=r,this.isStatic=Vy(c),Hc.registerId(this.componentId+1)}var a=t.prototype;return a.createStyles=function(c,r,e,l){var i=l(T8(this.rules,r,e,l).join(""),""),o=this.componentId+c;e.insertRules(o,o,i)},a.removeStyles=function(c,r){r.clearRules(this.componentId+c)},a.renderStyles=function(c,r,e,l){c>2&&Hc.registerId(this.componentId+c),this.removeStyles(c,e),this.createStyles(c,r,e,l)},t}();Xz1=function(){function t(){var c=this;this._emitSheetCSS=function(){var r=c.instance.toString();if(!r)return"";var e=Bs();return"<style "+[e&&'nonce="'+e+'"',k6+'="true"','data-styled-version="5.3.11"'].filter(Boolean).join(" ")+">"+r+"</style>"},this.getStyleTags=function(){return c.sealed?u5(2):c._emitSheetCSS()},this.getStyleElement=function(){var r;if(c.sealed)return u5(2);var e=((r={})[k6]="",r["data-styled-version"]="5.3.11",r.dangerouslySetInnerHTML={__html:c.instance.toString()},r),l=Bs();return l&&(e.nonce=l),[j1.default.createElement("style",Y3({},e,{key:"sc-0-0"}))]},this.seal=function(){c.sealed=!0},this.instance=new Hc({isServer:!0}),this.sealed=!1}var a=t.prototype;return a.collectStyles=function(c){return this.sealed?u5(2):j1.default.createElement(Gs,{sheet:this.instance},c)},a.interleaveWithNodeStream=function(c){return u5(3)},t}(),B=As});function p5(){return p5=Object.assign||function(t){for(var a=1;a<arguments.length;a++){var c=arguments[a];for(var r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r])}return t},p5.apply(this,arguments)}var Ry=x(()=>{});function Zs(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var by=x(()=>{});function m5(t,a){return m5=Object.setPrototypeOf||function(r,e){return r.__proto__=e,r},m5(t,a)}var Zi=x(()=>{});function Os(t,a){t.prototype=Object.create(a.prototype),t.prototype.constructor=t,m5(t,a)}var Fy=x(()=>{Zi()});function Vc(t){return Vc=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)},Vc(t)}var Iy=x(()=>{});function Es(t){return Function.toString.call(t).indexOf("[native code]")!==-1}var Py=x(()=>{});function Ds(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var Gy=x(()=>{});function w9(t,a,c){return Ds()?w9=Reflect.construct:w9=function(e,l,i){var o=[null];o.push.apply(o,l);var n=Function.bind.apply(e,o),h=new n;return i&&m5(h,i.prototype),h},w9.apply(null,arguments)}var Ty=x(()=>{Zi();Gy()});function wc(t){var a=typeof Map=="function"?new Map:void 0;return wc=function(r){if(r===null||!Es(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof a!="undefined"){if(a.has(r))return a.get(r);a.set(r,e)}function e(){return w9(r,arguments,Vc(this).constructor)}return e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),m5(e,r)},wc(t)}var Zy=x(()=>{Iy();Zi();Py();Ty()});var Oy=x(()=>{});function E11(t){return t.charAt(0).toUpperCase()+t.slice(1)}function W11(t,a){if(!t)return a.toLowerCase();var c=t.split("-");if(c.length>1)return c.splice(1,0,a),c.reduce(function(e,l){return""+e+E11(l)});var r=t.replace(/([a-z])([A-Z])/g,"$1"+a+"$2");return t===r?""+t+a:r}function _11(t,a){for(var c={},r=0;r<a.length;r+=1)(a[r]||a[r]===0)&&(c[W11(t,D11[r])]=a[r]);return c}function Ey(t){for(var a=arguments.length,c=new Array(a>1?a-1:0),r=1;r<a;r++)c[r-1]=arguments[r];var e=c[0],l=c[1],i=l===void 0?e:l,o=c[2],n=o===void 0?e:o,h=c[3],v=h===void 0?i:h,g=[e,i,n,v];return _11(t,g)}function Ws(t){return Math.round(t*255)}function j11(t,a,c){return Ws(t)+","+Ws(a)+","+Ws(c)}function Bc(t,a,c,r){if(r===void 0&&(r=j11),a===0)return r(c,c,c);var e=(t%360+360)%360/60,l=(1-Math.abs(2*c-1))*a,i=l*(1-Math.abs(e%2-1)),o=0,n=0,h=0;e>=0&&e<1?(o=l,n=i):e>=1&&e<2?(o=i,n=l):e>=2&&e<3?(n=l,h=i):e>=3&&e<4?(n=i,h=l):e>=4&&e<5?(o=i,h=l):e>=5&&e<6&&(o=l,h=i);var v=c-l/2,g=o+v,s=n+v,d=h+v;return r(g,s,d)}function q11(t){if(typeof t!="string")return t;var a=t.toLowerCase();return Dy[a]?"#"+Dy[a]:t}function Us(t){if(typeof t!="string")throw new S4(3);var a=q11(t);if(a.match(N11))return{red:parseInt(""+a[1]+a[2],16),green:parseInt(""+a[3]+a[4],16),blue:parseInt(""+a[5]+a[6],16)};if(a.match(U11)){var c=parseFloat((parseInt(""+a[7]+a[8],16)/255).toFixed(2));return{red:parseInt(""+a[1]+a[2],16),green:parseInt(""+a[3]+a[4],16),blue:parseInt(""+a[5]+a[6],16),alpha:c}}if(a.match(K11))return{red:parseInt(""+a[1]+a[1],16),green:parseInt(""+a[2]+a[2],16),blue:parseInt(""+a[3]+a[3],16)};if(a.match($11)){var r=parseFloat((parseInt(""+a[4]+a[4],16)/255).toFixed(2));return{red:parseInt(""+a[1]+a[1],16),green:parseInt(""+a[2]+a[2],16),blue:parseInt(""+a[3]+a[3],16),alpha:r}}var e=_s.exec(a);if(e)return{red:parseInt(""+e[1],10),green:parseInt(""+e[2],10),blue:parseInt(""+e[3],10)};var l=Q11.exec(a.substring(0,50));if(l)return{red:parseInt(""+l[1],10),green:parseInt(""+l[2],10),blue:parseInt(""+l[3],10),alpha:parseFloat(""+l[4])};var i=X11.exec(a);if(i){var o=parseInt(""+i[1],10),n=parseInt(""+i[2],10)/100,h=parseInt(""+i[3],10)/100,v="rgb("+Bc(o,n,h)+")",g=_s.exec(v);if(!g)throw new S4(4,a,v);return{red:parseInt(""+g[1],10),green:parseInt(""+g[2],10),blue:parseInt(""+g[3],10)}}var s=Y11.exec(a.substring(0,50));if(s){var d=parseInt(""+s[1],10),z=parseInt(""+s[2],10)/100,u=parseInt(""+s[3],10)/100,M="rgb("+Bc(d,z,u)+")",m=_s.exec(M);if(!m)throw new S4(4,a,M);return{red:parseInt(""+m[1],10),green:parseInt(""+m[2],10),blue:parseInt(""+m[3],10),alpha:parseFloat(""+s[4])}}throw new S4(5)}function J11(t){var a=t.red/255,c=t.green/255,r=t.blue/255,e=Math.max(a,c,r),l=Math.min(a,c,r),i=(e+l)/2;if(e===l)return t.alpha!==void 0?{hue:0,saturation:0,lightness:i,alpha:t.alpha}:{hue:0,saturation:0,lightness:i};var o,n=e-l,h=i>.5?n/(2-e-l):n/(e+l);switch(e){case a:o=(c-r)/n+(c<r?6:0);break;case c:o=(r-a)/n+2;break;default:o=(a-c)/n+4;break}return o*=60,t.alpha!==void 0?{hue:o,saturation:h,lightness:i,alpha:t.alpha}:{hue:o,saturation:h,lightness:i}}function Ks(t){return J11(Us(t))}function Z8(t){var a=t.toString(16);return a.length===1?"0"+a:a}function js(t){return Z8(Math.round(t*255))}function t21(t,a,c){return qs("#"+js(t)+js(a)+js(c))}function Oi(t,a,c){return Bc(t,a,c,t21)}function a21(t,a,c){if(typeof t=="number"&&typeof a=="number"&&typeof c=="number")return Oi(t,a,c);if(typeof t=="object"&&a===void 0&&c===void 0)return Oi(t.hue,t.saturation,t.lightness);throw new S4(1)}function c21(t,a,c,r){if(typeof t=="number"&&typeof a=="number"&&typeof c=="number"&&typeof r=="number")return r>=1?Oi(t,a,c):"rgba("+Bc(t,a,c)+","+r+")";if(typeof t=="object"&&a===void 0&&c===void 0&&r===void 0)return t.alpha>=1?Oi(t.hue,t.saturation,t.lightness):"rgba("+Bc(t.hue,t.saturation,t.lightness)+","+t.alpha+")";throw new S4(2)}function Ns(t,a,c){if(typeof t=="number"&&typeof a=="number"&&typeof c=="number")return qs("#"+Z8(t)+Z8(a)+Z8(c));if(typeof t=="object"&&a===void 0&&c===void 0)return qs("#"+Z8(t.red)+Z8(t.green)+Z8(t.blue));throw new S4(6)}function Wy(t,a,c,r){if(typeof t=="string"&&typeof a=="number"){var e=Us(t);return"rgba("+e.red+","+e.green+","+e.blue+","+a+")"}else{if(typeof t=="number"&&typeof a=="number"&&typeof c=="number"&&typeof r=="number")return r>=1?Ns(t,a,c):"rgba("+t+","+a+","+c+","+r+")";if(typeof t=="object"&&a===void 0&&c===void 0&&r===void 0)return t.alpha>=1?Ns(t.red,t.green,t.blue):"rgba("+t.red+","+t.green+","+t.blue+","+t.alpha+")"}throw new S4(7)}function $s(t){if(typeof t!="object")throw new S4(8);if(e21(t))return Wy(t);if(r21(t))return Ns(t);if(i21(t))return c21(t);if(l21(t))return a21(t);throw new S4(8)}function _y(t,a,c){return function(){var e=c.concat(Array.prototype.slice.call(arguments));return e.length>=a?t.apply(this,e):_y(t,a,e)}}function Ei(t){return _y(t,t.length,[])}function Di(t,a,c){return Math.max(t,Math.min(a,c))}function o21(t,a){if(a==="transparent")return a;var c=Ks(a);return $s(p5({},c,{lightness:Di(0,1,c.lightness-parseFloat(t))}))}function n21(t,a){if(a==="transparent")return a;var c=Ks(a);return $s(p5({},c,{lightness:Di(0,1,c.lightness+parseFloat(t))}))}function h21(t,a){if(a==="transparent")return a;var c=Ks(a);return $s(p5({},c,{saturation:Di(0,1,c.saturation+parseFloat(t))}))}function v21(t,a){if(a==="transparent")return a;var c=Us(a),r=typeof c.alpha=="number"?c.alpha:1,e=p5({},c,{alpha:Di(0,1,+(r*100-parseFloat(t)*100).toFixed(2)/100)});return Wy(e)}function _i(t){for(var a=arguments.length,c=new Array(a>1?a-1:0),r=1;r<a;r++)c[r-1]=arguments[r];return g21.indexOf(t)>=0&&t?p5({},Ey.apply(void 0,[""].concat(c)),{position:t}):Ey.apply(void 0,["",t].concat(c))}var S4,D11,Dy,N11,U11,K11,$11,_s,Q11,X11,Y11,qs,r21,e21,l21,i21,A6,R6,Wi,N2,g21,R0=x(()=>{Ry();by();Fy();Zy();Oy();S4=function(t){Os(a,t);function a(c){var r;if(!0)r=t.call(this,"An error occurred. See https://github.com/styled-components/polished/blob/main/src/internalHelpers/errors.md#"+c+" for more information.")||this;else for(var e,l,i;i<e;i++);return Zs(r)}return a}(wc(Error));D11=["Top","Right","Bottom","Left"];Dy={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};N11=/^#[a-fA-F0-9]{6}$/,U11=/^#[a-fA-F0-9]{8}$/,K11=/^#[a-fA-F0-9]{3}$/,$11=/^#[a-fA-F0-9]{4}$/,_s=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i,Q11=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i,X11=/^hsl\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*\)$/i,Y11=/^hsla\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i;qs=function(a){return a.length===7&&a[1]===a[2]&&a[3]===a[4]&&a[5]===a[6]?"#"+a[1]+a[3]+a[5]:a};r21=function(a){return typeof a.red=="number"&&typeof a.green=="number"&&typeof a.blue=="number"&&(typeof a.alpha!="number"||typeof a.alpha=="undefined")},e21=function(a){return typeof a.red=="number"&&typeof a.green=="number"&&typeof a.blue=="number"&&typeof a.alpha=="number"},l21=function(a){return typeof a.hue=="number"&&typeof a.saturation=="number"&&typeof a.lightness=="number"&&(typeof a.alpha!="number"||typeof a.alpha=="undefined")},i21=function(a){return typeof a.hue=="number"&&typeof a.saturation=="number"&&typeof a.lightness=="number"&&typeof a.alpha=="number"};A6=Ei(o21);R6=Ei(n21);Wi=Ei(h21);N2=Ei(v21),g21=["absolute","fixed","relative","static","sticky"]});function d21(t,a,c){return a in t?Object.defineProperty(t,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):t[a]=c,t}function jy(t,a){var c=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);a&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),c.push.apply(c,r)}return c}function J3(t){for(var a=1;a<arguments.length;a++){var c=arguments[a]!=null?arguments[a]:{};a%2?jy(Object(c),!0).forEach(function(r){d21(t,r,c[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(c)):jy(Object(c)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(c,r))})}return t}function k4(t,a){if(t==null)return{};var c={},r=Object.keys(t),e,l;for(l=0;l<r.length;l++)e=r[l],!(a.indexOf(e)>=0)&&(c[e]=t[e]);return c}var B9=x(()=>{});var qy,ji,Qs=x(()=>{qy=P(T()),ji=(0,qy.createContext)({})});function s21(t,a,c){return a in t?Object.defineProperty(t,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):t[a]=c,t}function Ny(t,a){var c=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);a&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),c.push.apply(c,r)}return c}function b6(t){for(var a=1;a<arguments.length;a++){var c=arguments[a]!=null?arguments[a]:{};a%2?Ny(Object(c),!0).forEach(function(r){s21(t,r,c[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(c)):Ny(Object(c)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(c,r))})}return t}function yc(t,a){if(t==null)return{};var c={},r=Object.keys(t),e,l;for(l=0;l<r.length;l++)e=r[l],!(a.indexOf(e)>=0)&&(c[e]=t[e]);return c}function z21(t,a){if(t){if(typeof t=="string")return Uy(t,a);var c=Object.prototype.toString.call(t).slice(8,-1);if(c==="Object"&&t.constructor&&(c=t.constructor.name),c==="Map"||c==="Set")return Array.from(t);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return Uy(t,a)}}function Uy(t,a){(a==null||a>t.length)&&(a=t.length);for(var c=0,r=new Array(a);c<a;c++)r[c]=t[c];return r}function Xs(t,a){var c;if(typeof Symbol=="undefined"||t[Symbol.iterator]==null){if(Array.isArray(t)||(c=z21(t))||a&&t&&typeof t.length=="number"){c&&(t=c);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return c=t[Symbol.iterator](),c.next.bind(c)}var Sc=x(()=>{});function u21(t){return typeof t=="function"}var qi,Ky,$y=x(()=>{qi=P(T());Qs();Sc();Ky=function(a,c,r){r===void 0&&(r=c.children);var e=(0,qi.useContext)(ji);if(e.useCreateElement)return e.useCreateElement(a,c,r);if(typeof a=="string"&&u21(r)){var l=c.children,i=yc(c,["children"]);return r(i)}return(0,qi.createElement)(a,c,r)}});function p21(t,a,c){return a in t?Object.defineProperty(t,a,{value:c,enumerable:!0,configurable:!0,writable:!0}):t[a]=c,t}function Qy(t,a){var c=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);a&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),c.push.apply(c,r)}return c}function F6(t){for(var a=1;a<arguments.length;a++){var c=arguments[a]!=null?arguments[a]:{};a%2?Qy(Object(c),!0).forEach(function(r){p21(t,r,c[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(c)):Qy(Object(c)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(c,r))})}return t}function Xy(t,a){if(t==null)return{};var c={},r=Object.keys(t),e,l;for(l=0;l<r.length;l++)e=r[l],!(a.indexOf(e)>=0)&&(c[e]=t[e]);return c}var Ys=x(()=>{});function Yy(t){return typeof t=="object"&&t!=null}var Jy=x(()=>{});function kc(t){var a;if(!Yy(t))return!1;var c=Object.getPrototypeOf(t);return c==null?!0:((a=c.constructor)===null||a===void 0?void 0:a.toString())===Object.toString()}var Js=x(()=>{Jy()});function tS(t,a){for(var c=Object.keys(t),r={},e={},l=0,i=c;l<i.length;l++){var o=i[l];a.indexOf(o)>=0?r[o]=t[o]:e[o]=t[o]}return[r,e]}function tz(t,a){if(a===void 0&&(a=[]),!kc(t.state))return tS(t,a);var c=tS(t,[].concat(a,["state"])),r=c[0],e=c[1],l=r.state,i=Xy(r,["state"]);return[F6(F6({},l),i),e]}var aS=x(()=>{Ys();Js()});function O8(t,a){if(t===a)return!0;if(!t||!a||typeof t!="object"||typeof a!="object")return!1;var c=Object.keys(t),r=Object.keys(a),e=c.length;if(r.length!==e)return!1;for(var l=0,i=c;l<i.length;l++){var o=i[l];if(t[o]!==a[o])return!1}return!0}var Ni=x(()=>{});function az(t){return t.name==="normalizePropsAreEqualInner"?t:function(c,r){return!kc(c.state)||!kc(r.state)?t(c,r):t(F6(F6({},c.state),c),F6(F6({},r.state),r))}}var cS=x(()=>{Ys();Js()});function m21(t){return(0,Ui.forwardRef)(t)}function M21(t,a){return(0,Ui.memo)(t,a)}function A4(t){var a=t.as,c=t.useHook,r=t.memo,e=t.propsAreEqual,l=e===void 0?c==null?void 0:c.unstable_propsAreEqual:e,i=t.keys,o=i===void 0?(c==null?void 0:c.__keys)||[]:i,n=t.useCreateElement,h=n===void 0?Ky:n,v=function(s,d){var z=s.as,u=z===void 0?a:z,M=yc(s,["as"]);if(c){var m,p=tz(M,o),f=p[0],H=p[1],w=c(f,b6({ref:d},H)),y=w.wrapElement,k=yc(w,["wrapElement"]),I=((m=u.render)===null||m===void 0?void 0:m.__keys)||u.__keys,U=I&&tz(M,I)[0],A=U?b6(b6({},k),U):k,G=h(u,A);return y?y(G):G}return h(u,b6({ref:d},M))};return v=m21(v),r&&(v=M21(v,l&&az(l))),v.__keys=o,v.unstable_propsAreEqual=az(l||O8),v}var Ui,y9=x(()=>{Ui=P(T());Sc();$y();aS();Ni();cS()});function $i(t,a){(0,Ki.useDebugValue)(t);var c=(0,Ki.useContext)(ji);return c[t]!=null?c[t]:a}var Ki,cz=x(()=>{Ki=P(T());Qs()});function eS(t,a,c){a===void 0&&(a={}),c===void 0&&(c={});var r="use"+t+"Props";(0,rS.useDebugValue)(r);var e=$i(r);return e?e(a,c):c}var rS,lS=x(()=>{rS=P(T());cz()});function oS(t,a,c){a===void 0&&(a={}),c===void 0&&(c={});var r="use"+t+"Options";(0,iS.useDebugValue)(r);var e=$i(r);return e?b6(b6({},a),e(a,c)):a}var iS,nS=x(()=>{iS=P(T());cz();Sc()});function hS(t){return Array.isArray(t)?t:typeof t!="undefined"?[t]:[]}var vS=x(()=>{});function R4(t){var a,c,r=hS(t.compose),e=function(n,h){if(t.useOptions&&(n=t.useOptions(n,h)),t.name&&(n=oS(t.name,n,h)),t.compose)for(var v=Xs(r),g;!(g=v()).done;){var s=g.value;n=s.__useOptions(n,h)}return n},l=function(n,h,v){if(n===void 0&&(n={}),h===void 0&&(h={}),v===void 0&&(v=!1),v||(n=e(n,h)),t.useProps&&(h=t.useProps(n,h)),t.name&&(h=eS(t.name,n,h)),t.compose)if(t.useComposeOptions&&(n=t.useComposeOptions(n,h)),t.useComposeProps)h=t.useComposeProps(n,h);else for(var g=Xs(r),s;!(s=g()).done;){var d=s.value;h=d(n,h,!0)}var z={},u=h||{};for(var M in u)u[M]!==void 0&&(z[M]=u[M]);return z};l.__useOptions=e;var i=r.reduce(function(o,n){return o.push.apply(o,n.__keys||[]),o},[]);return l.__keys=[].concat(i,((a=t.useState)===null||a===void 0?void 0:a.__keys)||[],t.keys||[]),l.unstable_propsAreEqual=t.propsAreEqual||((c=r[0])===null||c===void 0?void 0:c.unstable_propsAreEqual)||O8,l}var tp1,S9=x(()=>{tp1=P(T());lS();Sc();nS();Ni();vS()});function gS(t,a){a===void 0&&(a=null),t&&(typeof t=="function"?t(a):t.current=a)}function Qi(t,a){return(0,dS.useMemo)(function(){return t==null&&a==null?null:function(c){gS(t,c),gS(a,c)}},[t,a])}var dS,rz=x(()=>{dS=P(T())});function k9(t){if(t.tagName==="BUTTON")return!0;if(t.tagName==="INPUT"){var a=t;return f21.indexOf(a.type)!==-1}return!1}var f21,Xi=x(()=>{f21=["button","color","file","image","reset","submit"]});var Yi=x(()=>{});var dp1,sS=x(()=>{Yi();dp1=P(T())});var mp1,Ac=x(()=>{Yi();mp1=P(T());sS()});function Ji(t){return t?t.ownerDocument||t:document}var ez=x(()=>{});function zS(t){return t&&Ji(t).defaultView||lz}var lz,uS=x(()=>{ez();try{lz=window}catch(t){}});function x21(){var t=zS();return!!(typeof t!="undefined"&&t.document&&t.document.createElement)}var E8,to=x(()=>{uS();E8=x21()});var ao,A9,co=x(()=>{ao=P(T());to();A9=E8?ao.useLayoutEffect:ao.useEffect});function I6(t){var a=(0,pS.useRef)(t);return A9(function(){a.current=t}),a}var pS,iz=x(()=>{pS=P(T());co()});function mS(t){return t.target===t.currentTarget}var MS=x(()=>{});function fS(t){var a=Ji(t),c=a.activeElement;return c!=null&&c.nodeName?c:null}var xS=x(()=>{ez()});function ro(t,a){return t===a||t.contains(a)}var oz=x(()=>{});function CS(t){var a=fS(t);if(!a)return!1;if(ro(t,a))return!0;var c=a.getAttribute("aria-activedescendant");return c?c===t.id?!0:!!t.querySelector("#"+c):!1}var LS=x(()=>{xS();oz()});function HS(t){return!ro(t.currentTarget,t.target)}var VS=x(()=>{oz()});function Rc(t){return E8?window.navigator.userAgent.indexOf(t)!==-1:!1}var wS=x(()=>{to()});function BS(t,a){return"matches"in t?t.matches(a):"msMatchesSelector"in t?t.msMatchesSelector(a):t.webkitMatchesSelector(a)}var yS=x(()=>{});function L21(t){var a=t;return a.offsetWidth>0||a.offsetHeight>0||t.getClientRects().length>0}function SS(t){return BS(t,C21)&&L21(t)}var C21,kS=x(()=>{yS();C21="input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false'])"});var H21,bc,Kp1,nz=x(()=>{B9();y9();S9();Ni();H21=["unstable_system"],bc=R4({name:"Role",keys:H21,propsAreEqual:function(a,c){var r=a.unstable_system,e=k4(a,["unstable_system"]),l=c.unstable_system,i=k4(c,["unstable_system"]);return r!==l&&!O8(r,l)?!1:O8(e,i)}}),Kp1=A4({as:"div",useHook:bc})});function AS(t){!CS(t)&&SS(t)&&t.focus()}function B21(t){return t.tagName==="BUTTON"||t.tagName==="INPUT"||t.tagName==="SELECT"||t.tagName==="TEXTAREA"||t.tagName==="A"}function y21(t){return t.tagName==="BUTTON"||t.tagName==="INPUT"||t.tagName==="SELECT"||t.tagName==="TEXTAREA"}function S21(t,a,c,r){return t?a&&!c?-1:void 0:a?r:r||0}function hz(t,a){return(0,P6.useCallback)(function(c){var r;(r=t.current)===null||r===void 0||r.call(t,c),!c.defaultPrevented&&a&&(c.stopPropagation(),c.preventDefault())},[t,a])}var P6,V21,w21,vz,vm1,RS=x(()=>{B9();y9();S9();P6=P(T());rz();Xi();Ac();iz();co();LS();VS();wS();kS();nz();V21=["disabled","focusable"],w21=Rc("Mac")&&!Rc("Chrome")&&(Rc("Safari")||Rc("Firefox"));vz=R4({name:"Tabbable",compose:bc,keys:V21,useOptions:function(a,c){var r=c.disabled;return J3({disabled:r},a)},useProps:function(a,c){var r=c.ref,e=c.tabIndex,l=c.onClickCapture,i=c.onMouseDownCapture,o=c.onMouseDown,n=c.onKeyPressCapture,h=c.style,v=k4(c,["ref","tabIndex","onClickCapture","onMouseDownCapture","onMouseDown","onKeyPressCapture","style"]),g=(0,P6.useRef)(null),s=I6(l),d=I6(i),z=I6(o),u=I6(n),M=!!a.disabled&&!a.focusable,m=(0,P6.useState)(!0),p=m[0],f=m[1],H=(0,P6.useState)(!0),w=H[0],y=H[1],k=a.disabled?J3({pointerEvents:"none"},h):h;A9(function(){var C=g.current;C&&(B21(C)||f(!1),y21(C)||y(!1))},[]);var I=hz(s,a.disabled),U=hz(d,a.disabled),A=hz(u,a.disabled),G=(0,P6.useCallback)(function(C){var E;(E=z.current)===null||E===void 0||E.call(z,C);var t1=C.currentTarget;if(!C.defaultPrevented&&w21&&!HS(C)&&k9(t1)){var F=requestAnimationFrame(function(){t1.removeEventListener("mouseup",X,!0),AS(t1)}),X=function(){cancelAnimationFrame(F),AS(t1)};t1.addEventListener("mouseup",X,{once:!0,capture:!0})}},[]);return J3({ref:Qi(g,r),style:k,tabIndex:S21(M,p,w,e),disabled:M&&w?!0:void 0,"aria-disabled":a.disabled?!0:void 0,onClickCapture:I,onMouseDownCapture:U,onMouseDown:G,onKeyPressCapture:A},v)}}),vm1=A4({as:"div",useHook:vz})});function A21(t){var a=t.currentTarget;return t.isTrusted?k9(a)||a.tagName==="INPUT"||a.tagName==="TEXTAREA"||a.tagName==="A"||a.tagName==="SELECT":!1}var Fc,k21,gz,xm1,bS=x(()=>{B9();y9();S9();Fc=P(T());Xi();Ac();iz();MS();RS();k21=["unstable_clickOnEnter","unstable_clickOnSpace"];gz=R4({name:"Clickable",compose:vz,keys:k21,useOptions:function(a){var c=a.unstable_clickOnEnter,r=c===void 0?!0:c,e=a.unstable_clickOnSpace,l=e===void 0?!0:e,i=k4(a,["unstable_clickOnEnter","unstable_clickOnSpace"]);return J3({unstable_clickOnEnter:r,unstable_clickOnSpace:l},i)},useProps:function(a,c){var r=c.onKeyDown,e=c.onKeyUp,l=k4(c,["onKeyDown","onKeyUp"]),i=(0,Fc.useState)(!1),o=i[0],n=i[1],h=I6(r),v=I6(e),g=(0,Fc.useCallback)(function(d){var z;if((z=h.current)===null||z===void 0||z.call(h,d),!d.defaultPrevented&&!a.disabled&&!d.metaKey&&mS(d)){var u=a.unstable_clickOnEnter&&d.key==="Enter",M=a.unstable_clickOnSpace&&d.key===" ";if(u||M){if(A21(d))return;d.preventDefault(),u?d.currentTarget.click():M&&n(!0)}}},[a.disabled,a.unstable_clickOnEnter,a.unstable_clickOnSpace]),s=(0,Fc.useCallback)(function(d){var z;if((z=v.current)===null||z===void 0||z.call(v,d),!d.defaultPrevented&&!a.disabled&&!d.metaKey){var u=a.unstable_clickOnSpace&&d.key===" ";o&&u&&(n(!1),d.currentTarget.click())}},[a.disabled,a.unstable_clickOnSpace,o]);return J3({"data-active":o||void 0,onKeyDown:g,onKeyUp:s},l)}}),xm1=A4({as:"button",memo:!0,useHook:gz})});var D8,R21,FS,dz,IS=x(()=>{B9();y9();S9();D8=P(T());rz();Xi();Ac();bS();R21=[],FS=R4({name:"Button",compose:gz,keys:R21,useProps:function(a,c){var r=c.ref,e=k4(c,["ref"]),l=(0,D8.useRef)(null),i=(0,D8.useState)(void 0),o=i[0],n=i[1],h=(0,D8.useState)("button"),v=h[0],g=h[1];return(0,D8.useEffect)(function(){var s=l.current;s&&(k9(s)||(s.tagName!=="A"&&n("button"),g(void 0)))},[]),J3({ref:Qi(l,r),role:o,type:v},e)}}),dz=A4({as:"button",memo:!0,useHook:FS})});var b21,PS,sz,GS=x(()=>{B9();y9();S9();nz();b21=[],PS=R4({name:"Group",compose:bc,keys:b21,useProps:function(a,c){return J3({role:"group"},c)}}),sz=A4({as:"div",useHook:PS})});function ZS(){return E8?document.body:null}function Ic(t){var a=t.children,c=(0,G6.useContext)(a3)||ZS(),r=(0,G6.useState)(function(){if(E8){var l=document.createElement("div");return l.className=Ic.__className,l}return null}),e=r[0];return A9(function(){if(!(!e||!c))return c.appendChild(e),function(){c.removeChild(e)}},[e,c]),e?(0,TS.createPortal)((0,G6.createElement)(a3.Provider,{value:e},a),e):null}var G6,TS,a3,OS=x(()=>{G6=P(T());co();to();TS=P(B4());a3=(0,G6.createContext)(ZS());Ic.__className="__reakit-portal";Ic.__selector="."+Ic.__className});var F21,zz,Om1,ES=x(()=>{F21=!1;typeof window!="undefined"&&(zz={get passive(){F21=!0}},window.addEventListener("testPassive",null,zz),window.removeEventListener("testPassive",null,zz));Om1=typeof window!="undefined"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1)});var Dm1,_m1,T6=x(()=>{Dm1=P(T());Ac();IS();GS();_m1=P(B4());OS();ES();Yi()});function z1(t){let a=(0,eo.useMemo)(()=>{let e=t;return{get current(){return e},set current(l){e=l,r(l)}}},[]),[c,r]=(0,eo.useState)(()=>t);return[a,c]}var eo,P1=x(()=>{"use strict";eo=P(T())});function qS(t){return a=>G2.default.createElement(P21,null,G2.default.createElement(t,S({},a)))}var G2,jS,DS,x1,Z6,WS,I21,_S,uz,pz,P21,G1=x(()=>{"use strict";R0();a1();a1();G2=P(T()),jS=P(B4());T6();P1();x1=M2(DS||(DS=V(["\n  #pointer-root & {\n    pointer-events: none;\n  }\n  #pointer-root.normal & {\n    pointer-events: auto;\n  }\n"]))),Z6={panel:{bg:"#282b2f",head:{title:{color:"#bbb"},punctuation:{color:"#808080"}},body:{compoudThing:{label:{get color(){return R6(.6,Z6.panel.bg)}}}}}},I21=typeof window!="undefined"?Ti(WS||(WS=V(["\n  :host {\n    all: initial;\n    color: white;\n    font: 11px -apple-system, BlinkMacSystemFont, Segoe WPC, Segoe Editor,\n      HelveticaNeue-Light, Ubuntu, Droid Sans, sans-serif;\n  }\n\n  * {\n    padding: 0;\n    margin: 0;\n    font-size: 100%;\n    font: inherit;\n    vertical-align: baseline;\n    list-style: none;\n  }\n"]))):{},uz=B.div(_S||(_S=V(["\n  z-index: 51;\n  position: fixed;\n  top: 0px;\n  right: 0px;\n  bottom: 0px;\n  left: 0px;\n  pointer-events: none;\n"]))),pz=t=>G2.default.createElement(Gs,{disableVendorPrefixes:!0,target:t.target},G2.default.createElement(G2.default.Fragment,null,G2.default.createElement(I21,null),t.children));P21=t=>{let[a,c]=(0,G2.useState)(null),[r,e]=(0,G2.useState)(null);(0,G2.useLayoutEffect)(()=>{if(!a)return;let{parentNode:o}=a;if(!o)return;let h=!!o.shadowRoot?parent.shadowRoot:o.attachShadow({mode:"open"});e(h)},[a]);let[l,i]=z1(void 0);return r?jS.default.createPortal(G2.default.createElement(pz,{target:r},G2.default.createElement(G2.default.Fragment,null,G2.default.createElement(uz,{ref:l}),G2.default.createElement(a3.Provider,{value:i},t.children))),r):G2.default.createElement("template",{ref:c,"shadow-root":"open"},t.children)}});var M5,G21,NS,f5,US,R9,KS,QS,lo,$S,io,S3,b4=x(()=>{"use strict";G1();a1();M5={get outlinePanel(){return 1},get propsPanel(){return M5.outlinePanel},get sequenceEditorPanel(){return this.outlinePanel-1},get toolbar(){return this.outlinePanel+1},get pluginPanes(){return this.sequenceEditorPanel-1}},G21=Z6.panel.bg,f5=B.span(NS||(NS=V(["\n  white-space: nowrap;\n"]))),R9=B.span(US||(US=V(["\n  white-space: nowrap;\n  color: ",";\n"])),Z6.panel.head.punctuation.color),QS=B.div(KS||(KS=V(["\n  background: ",";\n  flex-grow: 1;\n  overflow-y: scroll;\n  padding: 0;\n"])),G21),lo=18,io=B.div($S||($S=V(["\n  height: ","px;\n  box-sizing: border-box;\n  display: flex;\n  align-items: center;\n  padding: 0 10px;\n  position: relative;\n  color: #adadadb3;\n  border-bottom: 1px solid rgb(0 0 0 / 13%);\n  background-color: #25272b;\n  font-size: 10px;\n  font-weight: 500;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n"])),lo),S3=100});var T21,h0,W8=x(()=>{"use strict";T21=()=>{},h0=T21});function Z21(t){return mz.createElement("svg",S({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),mz.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.775 2.781a.5.5 0 01.5.5v1.7H4.67c.108-.957.92-1.7 1.905-1.7h6.608a1.917 1.917 0 110 3.834H6.574c-.78 0-1.452-.466-1.751-1.135H2.275v5.03h2.39a2.032 2.032 0 012.023-1.854h6.38a2.031 2.031 0 110 4.063h-6.38c-.83 0-1.543-.497-1.858-1.21H1.775a.5.5 0 01-.5-.5V3.281a.5.5 0 01.5-.5zm4.799 1.5h6.608a.917.917 0 110 1.834H6.574a.917.917 0 110-1.834zm.114 5.875h6.38a1.031 1.031 0 110 2.063h-6.38a1.032 1.032 0 110-2.063z",fill:"currentColor"}))}var mz,Pc,XS=x(()=>{"use strict";mz=P(T());Pc=Z21});function O21(t){return Mz.createElement("svg",S({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),Mz.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 10.5L4 6.654 5.2 5.5 8 8.385 10.8 5.5 12 6.654 8 10.5z",fill:"currentColor"}))}var Mz,fz,YS=x(()=>{"use strict";Mz=P(T());fz=O21});function E21(t){return xz.createElement("svg",S({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),xz.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.5 3c-1.072 0-1.969.904-1.969 1.969 0 1 .929 1.968 1.969 1.968h9A1.969 1.969 0 1012.5 3h-9zm9 1H5.531v1.938H12.5A.969.969 0 0012.5 4zM3.5 9.14a1.969 1.969 0 000 3.938h9a1.969 1.969 0 100-3.937h-9zm9 1H8.406v1.938H12.5a.969.969 0 100-1.937z",fill:"currentColor"}))}var xz,Cz,JS=x(()=>{"use strict";xz=P(T());Cz=E21});function D21(t){return Lz.createElement("svg",S({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),Lz.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M.166 7.994a2.26 2.26 0 114.518 0 2.26 2.26 0 01-4.518 0zM2.425 6.91a1.085 1.085 0 100 2.17 1.085 1.085 0 000-2.17zM5.74 7.994a2.26 2.26 0 114.519 0 2.26 2.26 0 01-4.519 0zM8 6.91a1.085 1.085 0 100 2.17 1.085 1.085 0 000-2.17zM13.575 5.735a2.26 2.26 0 100 4.519 2.26 2.26 0 000-4.52zm-1.086 2.26a1.085 1.085 0 112.171 0 1.085 1.085 0 01-2.17 0z",fill:"currentColor"}))}var Lz,Hz,tk=x(()=>{"use strict";Lz=P(T());Hz=D21});function W21(t){return Vz.createElement("svg",S({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),Vz.createElement("path",{d:"M8.339 4.5l-2.055.644 4.451 1.393v2.748l-2.966.928-2.504-.783V6.738l2.42.758 2.055-.644-4.458-1.395L4 5.858v4.463L7.768 11.5 12 10.175V5.646L8.339 4.5z",fill:"currentColor"}))}var Vz,Gc,ak=x(()=>{"use strict";Vz=P(T());Gc=W21});function _21(t){return wz.createElement("svg",S({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),wz.createElement("path",{d:"M8 1.57c-.416 0-.752.36-.752.804v.482c-1.715.372-3.006 1.994-3.006 3.938v.473c0 1.18-.407 2.32-1.14 3.205l-.173.208a.85.85 0 00-.125.864.75.75 0 00.686.475h9.019a.752.752 0 00.686-.475.845.845 0 00-.125-.864l-.174-.208a5.026 5.026 0 01-1.139-3.205v-.473c0-1.944-1.291-3.566-3.006-3.938v-.482c0-.445-.336-.804-.752-.804zm1.063 12.39c.282-.301.44-.71.44-1.138H6.496c0 .428.158.837.44 1.138.281.302.664.47 1.063.47.4 0 .783-.168 1.064-.47z",fill:"currentColor"}))}var wz,Tc,ck=x(()=>{"use strict";wz=P(T());Tc=_21});function j21(t){return Bz.createElement("svg",S({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),Bz.createElement("path",{d:"M6.8 11.6a.6.6 0 00.6-.6V7.4a.6.6 0 00-1.2 0V11a.6.6 0 00.6.6zm6-7.2h-2.4v-.6A1.8 1.8 0 008.6 2H7.4a1.8 1.8 0 00-1.8 1.8v.6H3.2a.6.6 0 100 1.2h.6v6.6A1.8 1.8 0 005.6 14h4.8a1.8 1.8 0 001.8-1.8V5.6h.6a.6.6 0 100-1.2zm-6-.6a.6.6 0 01.6-.6h1.2a.6.6 0 01.6.6v.6H6.8v-.6zm4.2 8.4a.6.6 0 01-.6.6H5.6a.6.6 0 01-.6-.6V5.6h6v6.6zm-1.8-.6a.6.6 0 00.6-.6V7.4a.6.6 0 00-1.2 0V11a.6.6 0 00.6.6z",fill:"currentColor"}))}var Bz,Zc,rk=x(()=>{"use strict";Bz=P(T());Zc=j21});var b9=x(()=>{"use strict";XS();YS();JS();tk();ak();ck();rk()});var F4,ek,yz,lk,q21,ik,N21,ok,U21,nk,K21,hk,$21,vk,Q21,gk,X21,Y21,O6,Oc=x(()=>{"use strict";F4=P(T());a1();W8();G1();b9();yz=B.li(ek||(ek=V(["\n  margin: 0;\n  padding: 0;\n  list-style: none;\n  display: flex;\n  justify-content: flex-start;\n  flex-direction: column;\n  align-items: flex-start;\n"]))),q21=B.div(lk||(lk=V([""]))),N21=B(q21)(ik||(ik=V(["\n  position: relative;\n  margin-top: 2px;\n  margin-bottom: 2px;\n  margin-left: calc(4px + var(--depth) * 16px);\n  padding-left: 4px;\n  padding-right: 8px;\n  gap: 4px;\n  height: 21px;\n  line-height: 0;\n  box-sizing: border-box;\n  display: flex;\n  flex-wrap: nowrap;\n  align-items: center;\n  pointer-events: none;\n  white-space: nowrap;\n\n  border-radius: 2px;\n  box-shadow: 0 3px 4px -1px rgba(0, 0, 0, 0.48);\n\n  color: rgba(255, 255, 255, 0.9);\n  background: rgba(40, 43, 47, 0.65);\n  backdrop-filter: blur(14px);\n  border-bottom: 1px solid rgba(255, 255, 255, 0.08);\n\n  &.descendant-is-selected {\n    background: rgba(29, 53, 59, 0.7);\n  }\n\n  ",";\n  &:not(.not-selectable):not(.selected):hover {\n    background: rgba(59, 63, 69, 0.9);\n\n    border-bottom: 1px solid rgba(255, 255, 255, 0.24);\n  }\n\n  &:not(.not-selectable):not(.selected):active {\n    background: rgba(82, 88, 96, 0.9);\n    border-bottom: 1px solid rgba(255, 255, 255, 0.24);\n  }\n\n  &.selected {\n    background: rgba(30, 88, 102, 0.7);\n    border-bottom: 1px solid rgba(255, 255, 255, 0.08);\n  }\n\n  @supports not (backdrop-filter: blur()) {\n    background: rgba(40, 43, 47, 0.95);\n  }\n"])),x1),U21=M2(ok||(ok=V(["\n  font-weight: 500;\n  font-size: 11px;\n  & {\n  }\n"]))),K21=B.span(nk||(nk=V(["\n  ",";\n\n  ",";\n  position: relative;\n  // Compensate for border bottom\n  top: 0.5px;\n  display: flex;\n  height: 20px;\n  align-items: center;\n  box-sizing: border-box;\n"])),U21,x1),$21=B.div(hk||(hk=V(["\n  font-weight: 500;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: relative;\n  opacity: 0.99;\n"]))),Q21=B.span(vk||(vk=V(["\n  font-size: 9px;\n  position: relative;\n  display: block;\n  transition: transform 0.1s ease-out;\n\n  &:hover {\n    transform: rotate(-20deg);\n  }\n\n  ",".collapsed & {\n    transform: rotate(-90deg);\n\n    &:hover {\n      transform: rotate(-70deg);\n    }\n  }\n"])),yz),X21=B.ul(gk||(gk=V(["\n  margin: 0;\n  padding: 0;\n  list-style: none;\n\n  ",".collapsed & {\n    display: none;\n  }\n"])),yz),Y21=({label:t,children:a,depth:c,select:r,selectionStatus:e,labelDecoration:l,collapsed:i=!1,setIsCollapsed:o})=>{let n=a!==void 0;return F4.default.createElement(yz,{style:{"--depth":c},className:i?"collapsed":""},F4.default.createElement(N21,{className:e,onClick:r!=null?r:h0,"data-header":!0},F4.default.createElement($21,null,n?F4.default.createElement(Q21,{onClick:h=>{h.stopPropagation(),h.preventDefault(),o==null||o(!i)}},F4.default.createElement(fz,null)):F4.default.createElement(Gc,null)),F4.default.createElement(K21,null,F4.default.createElement("span",null,t)),l),n&&F4.default.createElement(X21,null,a))},O6=Y21});function t01(t){return Object.keys(t)}function dk(t){return Object.keys((0,I4.val)(t.sheetTemplatesP))}function sk(){let a=x3(c3().filter(c=>H7(c)||c0(c)).map(c=>c0(c)?c.sheet:c))[0];if(a)return a.getSequence()}var I4,c3,J21,x5=x(()=>{"use strict";I4=require("@theatre/dataverse");N5();H2();m1();c3=()=>{var c;let t=(0,I4.val)(Z().projectsP),a=((c=(0,I4.val)(Z().atomP.historic.panels.outlinePanel.selection))!=null?c:[]).map(r=>{let e=t[r.projectId];if(!e)return;if(r.type==="Project")return e;if(!(0,I4.val)(e.sheetTemplatesP[r.sheetId]))return;let i=J21(e,r.sheetId);if(!i)return;if(r.type==="Sheet")return i;let o=(0,I4.val)(i.objectsP[r.objectKey]);if(o)return o});return x3(a.filter(r=>typeof r!="undefined"))},J21=(t,a)=>{let c=Z().atomP.historic.projects.stateByProjectId[t.address.projectId],r=(0,I4.val)(c.stateBySheetId[a].selectedInstanceId),e=(0,I4.val)(t.sheetTemplatesP[a]);if(e){if(r)return(0,I4.val)(e.instancesP[r]);{let l=(0,I4.val)(e.instancesP);return l[t01(l)[0]]}}}});var zk,uk,pk=x(()=>{"use strict";m1();zk=P(T());Oc();M1();x5();uk=({sheetObject:t,depth:a,overrideLabel:c})=>{let r=()=>{Z().transaction(({stateEditors:l})=>{l.studio.historic.panels.outline.selection.set([t])})},e=v1(()=>c3(),[]);return zk.default.createElement(O6,{select:r,label:c!=null?c:t.address.objectKey,depth:a,selectionStatus:e.includes(t)?"selected":"not-selected"})}});function F9(t){var l;let a=t.type==="namespace"?"namespace:".concat(t.sheet.address.sheetId,":").concat(t.path.join("/")):t.type==="Theatre_Project"?"project":t.type==="Theatre_Sheet"?"sheetInstance:".concat(t.address.sheetId,":").concat(t.address.sheetInstanceId):"unknown",c=t.type==="namespace"?t.sheet.address.projectId:t.address.projectId,r=(l=s1(Z().atomP.ahistoric.projects.stateByProjectId[c].collapsedItemsInOutline[a]))!=null?l:!1,e=(0,mk.useCallback)(i=>{Z().transaction(({stateEditors:o})=>{o.studio.ahistoric.projects.stateByProjectId.collapsedItemsInOutline.set({projectId:c,isCollapsed:i,itemKey:a})})},[a]);return{collapsed:r,setCollapsed:e}}var mk,oo=x(()=>{"use strict";mk=P(T());m1();M1()});function Ck(t){return P4.default.createElement(P4.default.Fragment,null,[...t.namespace.entries()].map(([a,{object:c,nested:r}])=>P4.default.createElement(c01,{key:a,label:a,object:c,nested:r,visualIndentation:t.visualIndentation,path:t.path,sheet:t.sheet})))}function c01(t){let{nested:a,label:c,object:r,sheet:e}=t,{collapsed:l,setCollapsed:i}=F9({type:"namespace",sheet:e,path:[...t.path,c]}),o=a&&P4.default.createElement(Ck,{namespace:a,path:[...t.path,c],key:"namespaceTree("+c+")",visualIndentation:t.visualIndentation+1,sheet:e}),n=r&&P4.default.createElement(uk,{depth:t.visualIndentation,key:"objectPath("+r.address.objectKey+")",sheetObject:r,overrideLabel:c});return P4.default.createElement(P4.default.Fragment,{key:"".concat(c," - ").concat(t.visualIndentation)},n,o&&P4.default.createElement(O6,{selectionStatus:"not-selectable",label:c,key:"baseItem(".concat(c,")"),depth:t.visualIndentation,children:o,collapsed:l,setIsCollapsed:i}))}function Hk(t,a,c=r01(a)){let[r,...e]=c,l=t.get(r);l||(l={nested:void 0,object:void 0,path:[...c]},t.set(r,l)),e.length===0?(console.assert(!l.object,"expect not to have existing object with same name",{existing:l,object:a}),l.object=a):(l.nested||(l.nested=new Map),Hk(l.nested,a,e))}function r01(t){let a=Mk.get(t);return a||(a=t.address.objectKey.split(e01),console.assert(a.length>0,"expected not empty"),Mk.set(t,a)),a}var xk,P4,fk,tf1,a01,Lk,e01,Mk,Vk=x(()=>{"use strict";M1();xk=require("@theatre/dataverse"),P4=P(T());a1();pk();Oc();oo();tf1=B.li(fk||(fk=V(["\n  color: ",";\n"])),t=>t.isSelected?"white":"hsl(1, 1%, 80%)"),a01=({sheet:t,depth:a})=>v1(()=>{let c=(0,xk.val)(t.objectsP),r=Object.values(c).filter(l=>l!=null),e=new Map;return r.forEach(l=>{Hk(e,l)}),P4.default.createElement(Ck,{namespace:e,visualIndentation:a,path:[],sheet:t})},[t,a]);Lk=a01;e01=/\s*\/\s*/g,Mk=new WeakMap});var _8,wk,l01,Bk,vf1,yk,i01,Sk,kk=x(()=>{"use strict";m1();x5();M1();_8=P(T());a1();Vk();Oc();oo();l01=B.div(wk||(wk=V(["\n  display: flex;\n"]))),vf1=B.li(Bk||(Bk=V(["\n  color: ",";\n"])),t=>t.isSelected?"white":"hsl(1, 1%, 80%)"),i01=B.div(yk||(yk=V([""]))),Sk=({sheet:t,depth:a})=>{let{collapsed:c,setCollapsed:r}=F9(t),e=(0,_8.useCallback)(()=>{Z().transaction(({stateEditors:l})=>{l.studio.historic.panels.outline.selection.set([t])})},[t]);return v1(()=>{let l=c3();return _8.default.createElement(O6,{depth:a,select:e,setIsCollapsed:r,collapsed:c,selectionStatus:l.some(i=>i===t)?"selected":l.some(i=>i.type==="Theatre_SheetObject"&&i.sheet===t)?"descendant-is-selected":"not-selected",label:_8.default.createElement(l01,null,t.address.sheetId,": ",t.address.sheetInstanceId)},_8.default.createElement(i01,null,_8.default.createElement(Lk,{depth:a+1,sheet:t,key:"objectList"+t.address.sheetInstanceId})))},[a,c])}});var Sz,I9,Ak,pf1,Rk,mf1,bk,Mf1,Fk,Ik=x(()=>{"use strict";M1();Sz=require("@theatre/dataverse"),I9=P(T());a1();kk();pf1=B.div(Ak||(Ak=V(["\n  display: flex;\n"]))),mf1=B.li(Rk||(Rk=V(["\n  color: ",";\n"])),t=>t.isSelected?"white":"hsl(1, 1%, 80%)"),Mf1=B.div(bk||(bk=V([""]))),Fk=({sheetId:t,depth:a,project:c})=>v1(()=>{let r=(0,Sz.val)(c.sheetTemplatesP[t]);if(!r)return I9.default.createElement(I9.default.Fragment,null);let e=(0,Sz.val)(r.instancesP);return I9.default.createElement(I9.default.Fragment,null,Object.entries(e).map(([l,i])=>I9.default.createElement(Sk,{key:i.address.sheetInstanceId,sheet:i,depth:a})))},[a,t,c])});var no,o01,Pk,Gk=x(()=>{"use strict";x5();M1();no=P(T());Ik();o01=({project:t,depth:a})=>v1(()=>{if(!t)return null;let c=dk(t);return no.default.createElement(no.default.Fragment,null,c.map(r=>no.default.createElement(Fk,{depth:a,sheetId:r,key:"sheet-".concat(r),project:t})))},[t,a]),Pk=o01});var P9,Zk,Tk,n01,h01,Ok,Ek=x(()=>{"use strict";P9=P(T());Oc();Gk();m1();M1();x5();Zk=require("@theatre/dataverse");a1();oo();n01=B.div(Tk||(Tk=V(["\n  color: #ff6363;\n  margin-left: 11px;\n  background: #4c282d;\n  padding: 2px 8px;\n  border-radius: 2px;\n  font-size: 10px;\n  box-shadow: 0 2px 8px -4px black;\n"]))),h01=({depth:t,project:a})=>{let c=v1(()=>c3(),[]),r=v1(()=>{let o=a.address.projectId,n=(0,Zk.val)(Z().atomP.ephemeral.coreByProject[o].loadingState);return(n==null?void 0:n.type)==="browserStateIsNotBasedOnDiskState"},[a]),e=(0,P9.useCallback)(()=>{Z().transaction(({stateEditors:o})=>{o.studio.historic.panels.outline.selection.set([a])})},[a]),{collapsed:l,setCollapsed:i}=F9(a);return P9.default.createElement(O6,{depth:t,label:a.address.projectId,setIsCollapsed:i,collapsed:l,labelDecoration:r?P9.default.createElement(n01,null,"Has Conflicts"):null,children:P9.default.createElement(Pk,{project:a,depth:t+1}),selectionStatus:c.includes(a)?"selected":c.some(o=>o.address.projectId===a.address.projectId)?"descendant-is-selected":"not-selected",select:e})},Ok=h01});var Wk,kz,Dk,v01,g01,_k,jk=x(()=>{"use strict";Wk=require("@theatre/dataverse");M1();m1();kz=P(T());a1();Ek();v01=B.ul(Dk||(Dk=V(["\n  list-style: none;\n  margin: 0;\n  padding: 0;\n  padding-right: 4px;\n"]))),g01=t=>v1(()=>{let a=(0,Wk.val)(Z().projectsP);return kz.default.createElement(v01,null,Object.keys(a).map(c=>{let r=a[c];return kz.default.createElement(Ok,{depth:0,project:r,key:"projectListItem-".concat(c)})}))},[]),_k=g01});function Ec(t){let[a,c]=(0,ho.useState)(!1);return(0,ho.useEffect)(()=>{let r=l=>{let i=a?200:50,o=56,n=t==="left"?l.x<i:l.x>window.innerWidth-i;n&&(n=l.y>o),c(!!n)};document.addEventListener("mousemove",r);let e=()=>{c(!1)};return document.addEventListener("mouseleave",e),()=>{document.removeEventListener("mousemove",r),document.removeEventListener("mouseleave",e)}},[a]),a}var ho,Az=x(()=>{"use strict";ho=P(T())});var j8,E6,qk,Nk,d01,s01,Uk,Rz,vo,z01,Kk=x(()=>{"use strict";j8=P(T());a1();b4();jk();M1();m1();Az();E6=require("@theatre/dataverse");G1();qk="44px",d01=B.div(Nk||(Nk=V(["\n  ",";\n  background-color: transparent;\n  position: absolute;\n  left: 8px;\n  z-index: ",";\n\n  top: calc("," + 8px);\n  height: fit-content;\n  max-height: calc(100% - ",");\n  overflow-y: scroll;\n  overflow-x: hidden;\n  padding: 0;\n  user-select: none;\n\n  &::-webkit-scrollbar {\n    display: none;\n  }\n\n  scrollbar-width: none;\n\n  display: ",";\n\n  &:hover {\n    display: block;\n  }\n\n  // Create a small buffer on the bottom to aid selecting the bottom item in a long, scrolling list\n  &::after {\n    content: '';\n    display: block;\n    height: 20px;\n  }\n"])),x1,M5.outlinePanel,qk,qk,({pin:t})=>t?"block":"none"),s01=()=>{var r;let t=(r=s1(Z().atomP.ahistoric.pinOutline))!=null?r:!0,a=s1(z01),c=Ec("left");return(0,j8.useLayoutEffect)(()=>{Rz.set(c)},[c]),(0,j8.useEffect)(()=>()=>{vo.set(!1),Rz.set(!1)},[]),j8.default.createElement(d01,{pin:t||a,onMouseEnter:()=>{vo.set(!0)},onMouseLeave:()=>{vo.set(!1)}},j8.default.createElement(_k,null))},Uk=s01,Rz=new E6.Atom(!1),vo=new E6.Atom(!1),z01=(0,E6.prism)(()=>{let t=(0,E6.val)(vo.prism),a=(0,E6.val)(Rz.prism);return t||a})});var $k,u01,Qk,Xk=x(()=>{"use strict";a1();u01=B.input.attrs({type:"checkbox"})($k||($k=V(["\n  outline: none;\n"]))),Qk=u01});function m01({propConfig:t,editingTools:a,value:c,autoFocus:r}){let e=(0,go.useCallback)(l=>{a.permanentlySetValue(!!l.target.checked)},[t,a]);return go.default.createElement(p01,{checked:c,onChange:e,autoFocus:r})}var go,Yk,p01,Jk,tA=x(()=>{"use strict";go=P(T());a1();Xk();p01=B(Qk)(Yk||(Yk=V(["\n  margin-left: 6px;\n\n  :focus {\n    outline: 1px solid #555;\n  }\n"])));Jk=m01});function D6(t){return a=>{t.forEach(c=>{typeof c=="function"?c(a):c!=null&&(c.current=a)})}}var Dc=x(()=>{});function q8(t,a,c){(0,aA.useEffect)(()=>{if(!t||c===!1)return;let r=Array.isArray(t)?t.filter(l=>l):[t],e=l=>{r.every(i=>!l.composedPath().includes(i))&&a(l)};return window.addEventListener("mousedown",e,{capture:!0,passive:!1}),()=>{window.removeEventListener("mousedown",e,{capture:!0,passive:!1})}},[t,c])}var aA,so=x(()=>{"use strict";aA=P(T())});var b0,M01,F0,cA,f01,rA,x01,eA,C01,s2,lA,I0=x(()=>{"use strict";b0=P(T());a1();M01="pointer-root",F0="--lockedCursor",f01=B.div(cA||(cA=V(["\n  pointer-events: auto;\n  &.normal {\n    pointer-events: none;\n  }\n"]))),x01=B.div(rA||(rA=V(["\n  position: absolute;\n  inset: 0;\n  pointer-events: none;\n\n  #pointer-root:not(.normal) > & {\n    pointer-events: auto;\n  }\n"]))),eA=(0,b0.createContext)({}),C01=t=>{var l,i,o,n;let[a,c]=(0,b0.useState)([]),r=(0,b0.useMemo)(()=>({getLock:(v,g)=>{let s={className:v,cursor:g};return c(z=>[...z,s]),()=>{c(z=>z.filter(u=>u!==s))}}}),[]),e=(i=(l=a[0])==null?void 0:l.cursor)!=null?i:"";return b0.default.createElement(eA.Provider,{value:r},b0.default.createElement(f01,{id:M01,className:((n=(o=a[0])==null?void 0:o.className)!=null?n:"normal")+" "+t.className},b0.default.createElement(x01,{style:{cursor:e,[F0]:e}},t.children)))},s2=(t,a,c)=>{let r=(0,b0.useContext)(eA);(0,b0.useLayoutEffect)(()=>{if(t)return r.getLock(a,c)},[t,a,c])},lA=C01});function zo(t){return N8.default.createElement(iA.Provider,{value:t.logger},t.children)}function C0(t,a){let c=(0,N8.useContext)(iA);return(0,N8.useMemo)(()=>t?c.named(t,a):c,[c,t,a])}var N8,iA,C5=x(()=>{"use strict";N8=P(T()),iA=N8.default.createContext(null)});function L01(){let t=C0("PointerCapturing"),a=P0.default.useRef(null),c=()=>a.current!=null;return r=>{let e,l=o=>(e=o,a.current=o,o);return{capturing:{capturePointer(o){if(t._debug("Capturing pointer",{forDebugName:r,reason:o}),a.current!=null)throw new Error('"'.concat(r,'" attempted capturing pointer for "').concat(o,'" while already captured by "').concat(a.current.debugOwnerName,'" for "').concat(a.current.debugReason,'"'));let n=l({debugOwnerName:r,debugReason:o});return{isCapturing(){return n===a.current},release(){return n===a.current?(t._debug("Releasing pointer",{forDebugName:r,reason:o}),l(null),!0):!1}}},isPointerBeingCaptured:c},forceRelease(){e&&a.current===e&&(t._debug("Force releasing pointer",{localCapture:e}),l(null))}}}}function nA(t){let a=L01();return P0.default.createElement(oA.Provider,{value:a},P0.default.createElement(H01,{children:t.children}))}function uo(t){let a=(0,P0.useContext)(oA),c=(0,P0.useMemo)(()=>a(t),[t,a]);return(0,P0.useEffect)(()=>()=>{c.forceRelease()},[c]),c.capturing}var P0,oA,H01,po=x(()=>{"use strict";P0=P(T());C5();oA=P0.default.createContext(null),H01=P0.default.memo(({children:t})=>P0.default.createElement(P0.default.Fragment,null,t))});var bz,hA=x(()=>{"use strict";bz=typeof window!="undefined"&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent)});function S1(t,a){let c=(0,U8.useRef)(a);c.current=a;let r=a.shouldPointerLock&&!bz,e=(0,U8.useRef)({domDragStarted:!1}),{capturePointer:l}=uo("useDrag for ".concat(a.debugName)),i=(0,U8.useRef)({onDrag:h0,onDragEnd:h0,onClick:h0}),o=(0,U8.useRef)(),[n,h]=z1(!1);return(0,U8.useLayoutEffect)(()=>{if(!t)return;let v=()=>{let p=e.current.domDragStarted&&e.current.detection.detected;n.current!==p&&(n.current=p)},g=p=>{if(!e.current.domDragStarted)return;let f=e.current;if(!w01(p,f)&&(f.detection.detected||(f.detection.totalDistanceMoved+=Math.abs(p.movementY)+Math.abs(p.movementX),f.detection.totalDistanceMoved>V01&&(r&&t.requestPointerLock(),f.detection={detected:!0,dragMovement:{x:0,y:0},dragEventCount:0},v())),f.detection.detected)){f.detection.dragEventCount+=1;let{dragMovement:H}=f.detection;if(r)H.x+=p.movementX,H.y+=p.movementY;else{let{startPos:w}=f;H.x=p.screenX-w.x,H.y=p.screenY-w.y}i.current.onDrag(H.x,H.y,p,p.movementX,p.movementY)}},s=p=>{if(z(),!e.current.domDragStarted)return;let f=e.current.detection.detected;e.current={domDragStarted:!1},a.shouldPointerLock&&!bz&&document.exitPointerLock(),i.current.onDragEnd(f),window.focus(),f||i.current.onClick(p),v()},d=()=>{document.addEventListener("mousemove",g),document.addEventListener("mouseup",s)},z=()=>{var p;(p=o.current)==null||p.release(),document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",s)},u=p=>{c.current.disabled||e.current.domDragStarted&&e.current.detection.detected&&(c.current.dontBlockMouseDown||(p.stopPropagation(),p.preventDefault()),e.current.detection={detected:!1,totalDistanceMoved:0},v())},M=p=>{var y,k,I,U;(y=o.current)==null||y.release();let f=c.current;if(f.disabled===!0||!((k=f.buttons)!=null?k:[0]).includes(p.button))return;let w=f.onDragStart(p);w!==!1&&(i.current.onDrag=w.onDrag,i.current.onDragEnd=(I=w.onDragEnd)!=null?I:h0,i.current.onClick=(U=w.onClick)!=null?U:h0,o.current=l("Drag start"),f.dontBlockMouseDown||(p.stopPropagation(),p.preventDefault()),e.current={domDragStarted:!0,startPos:{x:p.screenX,y:p.screenY},detection:{detected:!1,totalDistanceMoved:0}},v(),d())},m=p=>{M(p)};return t.addEventListener("mousedown",m),t.addEventListener("click",u),()=>{var p,f;z(),t.removeEventListener("mousedown",m),t.removeEventListener("click",u),e.current.domDragStarted&&((f=(p=i.current).onDragEnd)==null||f.call(p,e.current.detection.detected)),e.current={domDragStarted:!1},v()}},[t]),s2(h&&!!a.lockCSSCursorTo,"dragging",a.lockCSSCursorTo),[h]}function w01(t,a){return(!a.detection.detected||a.detection.detected&&a.detection.dragEventCount<3)&&(Math.abs(t.movementX)>vA||Math.abs(t.movementY)>vA)}var U8,V01,vA,f2=x(()=>{"use strict";U8=P(T());I0();po();W8();hA();P1();V01=3,vA=100});function R01(t){return isNaN(t)?"NaN":Uv(t)?t.toFixed(0):$v(t,3).toString()}var uA,pA,t4,gA,Fz,dA,B01,sA,y01,zA,S01,k01,A01,G9,mo=x(()=>{"use strict";H2();uA=P(T()),pA=P(T()),t4=P(T());a1();Dc();P1();so();f2();Fz=B.div(gA||(gA=V(["\n  height: 100%;\n  width: 100%;\n  position: relative;\n  z-index: 0;\n  box-sizing: border-box;\n  display: flex;\n  align-items: center;\n\n  &:after {\n    position: absolute;\n    inset: 1px 0 2px;\n    display: block;\n    content: ' ';\n    background-color: transparent;\n    border: 1px solid transparent;\n    z-index: -2;\n    box-sizing: border-box;\n    border-radius: 1px;\n  }\n\n  &:hover,\n  &.dragging,\n  &.editingViaKeyboard {\n    &:after {\n      background-color: #10101042;\n      border-color: #00000059;\n    }\n  }\n"]))),B01=B.input(dA||(dA=V(["\n  background: transparent;\n  border: 1px solid transparent;\n  color: rgba(255, 255, 255, 0.9);\n  padding: 1px 6px;\n  font: inherit;\n  outline: none;\n  cursor: ew-resize;\n  text-align: left;\n  width: 100%;\n  height: calc(100% - 4px);\n  border-radius: 2px;\n\n  &:focus {\n    cursor: text;\n  }\n"]))),y01=B.div(sA||(sA=V(["\n  position: absolute;\n  inset: 3px 2px 4px;\n  transform: scale(var(--percentage), 1);\n  transform-origin: top left;\n  background-color: #2d5561;\n  z-index: -1;\n  border-radius: 2px;\n  pointer-events: none;\n\n  ",".dragging &, ",".noFocus:hover & {\n    background-color: #338198;\n  }\n"])),Fz,Fz),S01=B.div(zA||(zA=V(["\n  display: contents;\n"]))),k01=t=>!0,A01=t=>{var u;let[a]=z1({mode:"noFocus"}),c=(u=t.isValid)!=null?u:k01,r=(0,t4.useRef)(t);r.current=t;let e=(0,t4.useRef)(null);q8(e.current,()=>{e.current.blur()},a.current.mode==="editingViaKeyboard");let l=(0,t4.useRef)(null),i=(0,t4.useMemo)(()=>{let M=U=>{let A=U.target,{value:G}=A,C=a.current;a.current=W(S({},C),{currentEditedValueInString:G});let E=parseFloat(G);!isFinite(E)||!c(E)||r.current.temporarilySetValue(E)},m=()=>{a.current.mode==="editingViaKeyboard"&&(p(),a.current={mode:"noFocus"}),t.onBlur&&t.onBlur()},p=()=>{let U=a.current,A=parseFloat(U.currentEditedValueInString);!isFinite(A)||!c(A)||U.valueBeforeEditing===A?r.current.discardTemporaryValue():r.current.permanentlySetValue(A)},f=U=>{U.key==="Escape"?(r.current.discardTemporaryValue(),a.current={mode:"noFocus"},e.current.blur()):(U.key==="Enter"||U.key==="Tab")&&(p(),e.current.blur())},H=U=>{a.current.mode==="noFocus"&&(e.current.focus(),U.preventDefault()),U.stopPropagation()},w=()=>{a.current.mode==="noFocus"?y():a.current.mode},y=()=>{let U=r.current.value;a.current={mode:"editingViaKeyboard",currentEditedValueInString:String(U),valueBeforeEditing:U},setTimeout(()=>{e.current.focus(),e.current.setSelectionRange(0,100)})},k;return{inputChange:M,onBlur:m,transitionToDraggingMode:()=>{var C;let U=r.current.value;k=(C=e.current)==null?void 0:C.getBoundingClientRect().width,a.current={mode:"dragging"};let A=U,G=U;return l.current=document.body.style.cursor,{onDrag(E,t1,F,X){let D=F.altKey?X/10:X,c1=G+t.nudge({deltaX:D,deltaFraction:D/k,magnitude:1});G=t.range?F1(c1,t.range[0],t.range[1]):c1,r.current.temporarilySetValue(G)},onDragEnd(E){E?(A===G?r.current.discardTemporaryValue():r.current.permanentlySetValue(G),a.current={mode:"noFocus"}):(r.current.discardTemporaryValue(),a.current={mode:"noFocus"})},onClick(){e.current.focus(),e.current.setSelectionRange(0,100)}}},onInputKeyDown:f,onClick:H,onFocus:w}},[]);(0,uA.useEffect)(()=>()=>{i.onBlur()},[]);let o=a.current.mode!=="editingViaKeyboard"?R01(t.value):a.current.currentEditedValueInString;typeof o=="number"&&isNaN(o)&&(o="NaN");let n=[e];t.inputRef&&n.push(t.inputRef);let h=t4.default.createElement(B01,{key:"input",type:"text",onChange:i.inputChange,value:o,onBlur:i.onBlur,onKeyDown:i.onInputKeyDown,onClick:i.onClick,onFocus:i.onFocus,ref:D6(n),onMouseDown:M=>{M.stopPropagation()},onDoubleClick:M=>{M.preventDefault(),M.stopPropagation()},autoFocus:t.autoFocus}),{range:v}=t,g=parseFloat(o),s=v?t4.default.createElement(y01,{style:{"--percentage":F1((g-v[0])/(v[1]-v[0]),0,1)}}):null,[d,z]=(0,pA.useState)(null);return S1(d,{debugName:"form/BasicNumberInput",onDragStart:i.transitionToDraggingMode,lockCSSCursorTo:"ew-resize",shouldPointerLock:!0,disabled:a.current.mode==="editingViaKeyboard"}),t4.default.createElement(Fz,{className:t.className+" "+a.current.mode},t4.default.createElement(S01,{ref:z},h),s)};G9=A01});function b01({propConfig:t,editingTools:a,value:c,autoFocus:r}){let e=(0,Mo.useCallback)(l=>t.nudgeFn(W(S({},l),{config:t})),[t]);return Mo.default.createElement(G9,{value:c,temporarilySetValue:a.temporarilySetValue,discardTemporaryValue:a.discardTemporaryValue,permanentlySetValue:a.permanentlySetValue,range:t.range,nudge:e,autoFocus:r})}var Mo,fo,Iz=x(()=>{"use strict";mo();Mo=P(T());fo=b01});function P01({value:t,onChange:a,options:c,autoFocus:r}){let e=(0,T9.useCallback)(l=>{a(String(l.target.value))},[a]);return T9.default.createElement(xA,{role:"radiogroup"},Object.keys(c).map((l,i)=>T9.default.createElement(F01,{key:"label-"+i,"data-checked":t===l},c[l],T9.default.createElement(I01,{type:"radio",checked:t===l,value:l,onChange:e,name:"switchbox",autoFocus:r}))))}var T9,mA,xA,MA,F01,fA,I01,CA,LA=x(()=>{"use strict";R0();T9=P(T());a1();xA=B.form(mA||(mA=V(["\n  display: flex;\n  flex-direction: row;\n  align-items: stretch;\n  vertical-align: middle;\n  justify-content: stretch;\n  height: 24px;\n  width: 100%;\n"]))),F01=B.label(MA||(MA=V(["\n  padding: 0 0.5em;\n  background: transparent;\n  /* background: #373748; */\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-grow: 1;\n  color: #a7a7a7;\n  border: 1px solid transparent;\n  box-sizing: border-box;\n  border-right-width: 0px;\n\n  & + &:last-child {\n    border-right-width: 1px;\n  }\n\n  ",":hover > & {\n    border-color: #1c2123;\n    /* background-color: #373748; */\n    /* color: ","; */\n  }\n\n  &&:hover {\n    background-color: #464654;\n  }\n\n  &&[data-checked='true'] {\n    color: white;\n    background: #3f3f4c;\n  }\n"])),xA,A6(.1,"white")),I01=B.input(fA||(fA=V(["\n  position: absolute;\n  opacity: 0;\n  pointer-events: none;\n  width: 0;\n  height: 0;\n"])));CA=P01});var HA=x(()=>{});var Pz,Gz,Tz,Zz=x(()=>{Pz=P(T()),Gz={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Tz=Pz.default.createContext&&Pz.default.createContext(Gz)});function VA(t){return t&&t.map(function(a,c){return Z9.default.createElement(a.tag,W6({key:c},a.attr),VA(a.child))})}function N1(t){return function(a){return Z9.default.createElement(T01,W6({attr:W6({},t.attr)},a),VA(t.child))}}function T01(t){var a=function(c){var r=t.attr,e=t.size,l=t.title,i=G01(t,["attr","size","title"]),o=e||c.size||"1em",n;return c.className&&(n=c.className),t.className&&(n=(n?n+" ":"")+t.className),Z9.default.createElement("svg",W6({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},c.attr,r,i,{className:n,style:W6(W6({color:t.color||c.color},c.style),t.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),l&&Z9.default.createElement("title",null,l),t.children)};return Tz!==void 0?Z9.default.createElement(Tz.Consumer,null,function(c){return a(c)}):a(Gz)}var Z9,W6,G01,wA=x(()=>{Z9=P(T());Zz();W6=function(){return W6=Object.assign||function(t){for(var a,c=1,r=arguments.length;c<r;c++){a=arguments[c];for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(t[e]=a[e])}return t},W6.apply(this,arguments)},G01=function(t,a){var c={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&a.indexOf(r)<0&&(c[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var e=0,r=Object.getOwnPropertySymbols(t);e<r.length;e++)a.indexOf(r[e])<0&&Object.prototype.propertyIsEnumerable.call(t,r[e])&&(c[r[e]]=t[r[e]]);return c}});var z2=x(()=>{HA();wA();Zz()});var BA=x(()=>{z2()});var yA=x(()=>{z2()});function SA(t){return N1({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"}}]})(t)}var kA=x(()=>{z2()});var AA=x(()=>{z2()});var RA=x(()=>{z2()});function bA(t){return N1({tag:"svg",attr:{viewBox:"0 0 8 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.5 3L7 4.5 3.25 8 7 11.5 5.5 13l-5-5 5-5z"}}]})(t)}function FA(t){return N1({tag:"svg",attr:{viewBox:"0 0 8 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M7.5 8l-5 5L1 11.5 4.75 8 1 4.5 2.5 3l5 5z"}}]})(t)}var IA=x(()=>{z2()});var PA=x(()=>{z2()});var GA=x(()=>{z2()});var TA=x(()=>{z2()});var ZA=x(()=>{z2()});var OA=x(()=>{z2()});var EA=x(()=>{z2()});var DA=x(()=>{z2()});var WA=x(()=>{z2()});var _A=x(()=>{z2()});function xo(t){return N1({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"}}]})(t)}var jA=x(()=>{z2()});var qA=x(()=>{z2()});var NA=x(()=>{z2()});var UA=x(()=>{z2()});function KA(t){return N1({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{d:"M6 9.65685L7.41421 11.0711L11.6569 6.82843L15.8995 11.0711L17.3137 9.65685L11.6569 4L6 9.65685Z",fill:"currentColor"}},{tag:"path",attr:{d:"M6 14.4433L7.41421 13.0291L11.6569 17.2717L15.8995 13.0291L17.3137 14.4433L11.6569 20.1001L6 14.4433Z",fill:"currentColor"}}]})(t)}var $A=x(()=>{z2()});function QA(t){return N1({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{d:"M14 10.44l-.413.56H2.393L2 10.46 7.627 5h.827L14 10.44z"}}]})(t)}var XA=x(()=>{z2()});var K8=x(()=>{BA();yA();kA();AA();RA();IA();PA();GA();TA();ZA();OA();EA();DA();WA();_A();jA();qA();NA();UA();$A();XA()});function D01({value:t,onChange:a,options:c,className:r,autoFocus:e}){let l=(0,_6.useCallback)(i=>{a(String(i.target.value))},[a]);return _6.default.createElement(Z01,null,_6.default.createElement(E01,{className:r,value:t,onChange:l,autoFocus:e},Object.keys(c).map((i,o)=>_6.default.createElement("option",{key:"option-"+o,value:i},c[i]))),_6.default.createElement(O01,null,_6.default.createElement(KA,null)))}var _6,YA,Z01,JA,O01,tR,E01,aR,cR=x(()=>{"use strict";_6=P(T());a1();K8();Z01=B.div(YA||(YA=V(["\n  width: 100%;\n  position: relative;\n"]))),O01=B.div(JA||(JA=V(["\n  position: absolute;\n  right: 0px;\n  top: 0;\n  bottom: 0;\n  width: 1.5em;\n  font-size: 14px;\n  display: flex;\n  align-items: center;\n  color: #6b7280;\n  pointer-events: none;\n"]))),E01=B.select(tR||(tR=V(["\n  appearance: none;\n  background-color: transparent;\n  box-sizing: border-box;\n  border: 1px solid transparent;\n  color: rgba(255, 255, 255, 0.85);\n  padding: 1px 6px;\n  font: inherit;\n  outline: none;\n  text-align: left;\n  width: 100%;\n  border-radius: 2px;\n  /*\n  looks like putting percentages in the height of a select box doesn't work in Firefox. Not sure why.\n  So we're hard-coding the height to 26px, unlike all other inputs that use a relative height.\n  */\n  height: 26px /* calc(100% - 4px); */;\n\n  @supports (-moz-appearance: none) {\n    /* Ugly hack to remove the extra left padding that shows up only in Firefox */\n    text-indent: -2px;\n  }\n\n  &:hover,\n  &:focus {\n    background-color: #10101042;\n    border-color: #00000059;\n  }\n"])));aR=D01});function W01({propConfig:t,editingTools:a,value:c,autoFocus:r}){let e=(0,Wc.useCallback)(l=>{a.permanentlySetValue(l)},[t,a]);return t.as==="menu"?Wc.default.createElement(aR,{value:c,onChange:e,options:t.valuesAndLabels,autoFocus:r}):Wc.default.createElement(CA,{value:c,onChange:e,options:t.valuesAndLabels,autoFocus:r})}var Wc,rR,eR=x(()=>{"use strict";Wc=P(T());LA();cR();rR=W01});var iR,$8,lR,_01,j01,q01,O9,Co=x(()=>{"use strict";a1();iR=P(T()),$8=P(T());Dc();P1();so();_01=B.input.attrs({type:"text"})(lR||(lR=V(["\n  background: transparent;\n  border: 1px solid transparent;\n  color: rgba(255, 255, 255, 0.9);\n  padding: 1px 6px;\n  font: inherit;\n  outline: none;\n  cursor: text;\n  text-align: left;\n  width: 100%;\n  height: calc(100% - 4px);\n  border-radius: 2px;\n  border: 1px solid transparent;\n  box-sizing: border-box;\n\n  &:hover {\n    background-color: #10101042;\n    border-color: #00000059;\n  }\n\n  &:hover,\n  &:focus {\n    cursor: text;\n    background-color: #10101042;\n    border-color: #00000059;\n  }\n\n  &.invalid {\n    border-color: red;\n  }\n"]))),j01=t=>!0,q01=t=>{var h,v;let[a]=z1({mode:"noFocus"}),c=(h=t.isValid)!=null?h:j01,r=(0,$8.useRef)(t);r.current=t;let e=(0,$8.useRef)(null);q8(e.current,()=>{e.current.blur()},a.current.mode==="editingViaKeyboard");let l=(0,$8.useMemo)(()=>{let g=p=>{let f=p.target,{value:H}=f,w=a.current;a.current=W(S({},w),{currentEditedValueInString:H}),c(H)&&r.current.temporarilySetValue(H)},s=()=>{var p,f;a.current.mode==="editingViaKeyboard"&&(d(),a.current={mode:"noFocus"}),(f=(p=r.current).onBlur)==null||f.call(p)},d=()=>{let p=a.current,f=p.currentEditedValueInString;c(f)?p.valueBeforeEditing===f?r.current.discardTemporaryValue():r.current.permanentlySetValue(f):r.current.discardTemporaryValue()},z=p=>{p.key==="Escape"?(r.current.discardTemporaryValue(),a.current={mode:"noFocus"},e.current.blur()):(p.key==="Enter"||p.key==="Tab")&&(d(),e.current.blur())},u=p=>{a.current.mode==="noFocus"&&(e.current.focus(),p.preventDefault()),p.stopPropagation()},M=()=>{a.current.mode==="noFocus"?m():a.current.mode},m=()=>{let p=r.current.value;a.current={mode:"editingViaKeyboard",currentEditedValueInString:String(p),valueBeforeEditing:p},setTimeout(()=>{e.current.focus()})};return{inputChange:g,onBlur:s,onInputKeyDown:z,onClick:u,onFocus:M}},[]);(0,iR.useEffect)(()=>()=>{l.onBlur()},[]);let i=a.current.mode!=="editingViaKeyboard"?t.value:a.current.currentEditedValueInString,o=[e];return t.inputRef&&o.push(t.inputRef),$8.default.createElement(_01,{key:"input",type:"text",className:"".concat((v=t.className)!=null?v:""," ").concat(c(i)?"":"invalid"),onChange:l.inputChange,value:i,onBlur:l.onBlur,onKeyDown:l.onInputKeyDown,onClick:l.onClick,onFocus:l.onFocus,ref:D6(o),onMouseDown:g=>{g.stopPropagation()},onDoubleClick:g=>{g.preventDefault(),g.stopPropagation()},autoFocus:t.autoFocus})},O9=q01});function N01({editingTools:t,value:a,autoFocus:c}){return oR.default.createElement(O9,{value:a,temporarilySetValue:t.temporarilySetValue,discardTemporaryValue:t.discardTemporaryValue,permanentlySetValue:t.permanentlySetValue,autoFocus:c})}var oR,nR,hR=x(()=>{"use strict";oR=P(T());Co();nR=N01});function vR(t){t=t.trim().toLowerCase();let a=t.match(Oz);if(!a)return{r:0,g:0,b:0,a:1};let c=U01(a[1]);return{r:parseInt(c.substr(0,2),16)/255,g:parseInt(c.substr(2,2),16)/255,b:parseInt(c.substr(4,2),16)/255,a:parseInt(c.substr(6,2),16)/255}}function Lo(t,{removeAlphaIfOpaque:a=!1}={}){let c=(t.a*255|256).toString(16).slice(1),r=(t.r*255|256).toString(16).slice(1)+(t.g*255|256).toString(16).slice(1)+(t.b*255|256).toString(16).slice(1)+(a&&c==="ff"?"":c);return"#".concat(r)}function Ho(t){return W(S({},t),{toString(){return Lo(this,{removeAlphaIfOpaque:!0})}})}function U01(t){switch(t.length){case 3:return"".concat(t.repeat(2),"ff");case 4:let a=t.substr(0,3),c=t[3];return"".concat(a.repeat(2)).concat(c.repeat(2));case 6:return"".concat(t,"ff")}return t}var Oz,Ez=x(()=>{"use strict";Oz=/^#*([0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/i});function E9(t){let a=(0,Dz.useRef)(t),c=(0,Dz.useRef)(r=>{a.current&&a.current(r)});return a.current=t,c.current}var Dz,Wz=x(()=>{"use strict";Dz=P(T())});var G4,_c=x(()=>{"use strict";G4=(t,a=0,c=1)=>t>c?c:t<a?a:t});var j6,gR,dR,Vo,wo=x(()=>{"use strict";j6=P(T()),gR=(0,j6.createContext)(void 0),dR=({children:t})=>{let[a,c]=(0,j6.useState)(!1);return j6.default.createElement(gR.Provider,{value:{editing:a,setEditing:c}},t)},Vo=()=>(0,j6.useContext)(gR)});var a4,jc,K01,_z,sR,zR,$01,uR,Q01,X01,q6,qc=x(()=>{"use strict";a4=P(T());Wz();_c();a1();wo();jc=t=>"touches"in t,K01=(t,a)=>{for(let c=0;c<t.length;c++)if(t[c].identifier===a)return t[c];return t[0]},_z=t=>t&&t.ownerDocument.defaultView||self,sR=(t,a,c)=>{let r=t.getBoundingClientRect(),e=jc(a)?K01(a.touches,c):a;return{left:G4((e.pageX-(r.left+_z(t).pageXOffset))/r.width),top:G4((e.pageY-(r.top+_z(t).pageYOffset))/r.height)}},zR=t=>{!jc(t)&&t.preventDefault()},$01=(t,a)=>a&&!jc(t),Q01=B.div(uR||(uR=V(["\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  border-radius: inherit;\n  outline: none;\n  /* Don't trigger the default scrolling behavior when the event is originating from this element */\n  touch-action: none;\n"]))),X01=r=>{var e=r,{onMove:t,onKey:a}=e,c=m4(e,["onMove","onKey"]);let l=(0,a4.useRef)(null),i=E9(t),o=E9(a),n=(0,a4.useRef)(null),h=(0,a4.useRef)(!1),{setEditing:v}=Vo(),[g,s,d]=(0,a4.useMemo)(()=>{let z=({nativeEvent:f})=>{let H=l.current;if(H&&(zR(f),!($01(f,h.current)||!H))){if(jc(f)){h.current=!0;let w=f.changedTouches||[];w.length&&(n.current=w[0].identifier)}H.focus(),v(!0),i(sR(H,f,n.current)),p(!0)}},u=f=>{zR(f),(jc(f)?f.touches.length>0:f.buttons>0)&&l.current?i(sR(l.current,f,n.current)):(v(!1),p(!1))},M=f=>{v(!1),p(!1)},m=f=>{let H=f.which||f.keyCode;H<37||H>40||(f.preventDefault(),o({left:H===39?.05:H===37?-.05:0,top:H===40?.05:H===38?-.05:0}))};function p(f){let H=h.current,w=l.current,y=_z(w),k=f?y.addEventListener:y.removeEventListener;k(H?"touchmove":"mousemove",u),k(H?"touchend":"mouseup",M)}return[z,m,p]},[o,i]);return(0,a4.useEffect)(()=>d,[d]),a4.default.createElement(Q01,W(S({},c),{onTouchStart:g,onMouseDown:g,ref:l,onKeyDown:s,tabIndex:0,role:"slider"}))},q6=a4.default.memo(X01)});var jz,pR,Y01,mR,J01,MR,t31,D9,Bo=x(()=>{"use strict";jz=P(T());a1();qc();Y01=B(q6)(pR||(pR=V([""]))),J01=B.div(mR||(mR=V(["\n  position: absolute;\n  z-index: 1;\n  box-sizing: border-box;\n  width: 16px;\n  height: 16px;\n  transform: translate(-50%, -50%);\n  background-color: #fff;\n  border: 1px solid #ffffff00;\n  border-radius: 2px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n\n  ",":focus & {\n    transform: translate(-50%, -50%) scale(1.1);\n  }\n"])),Y01),t31=B.div(MR||(MR=V(["\n  content: '';\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  pointer-events: none;\n  border-radius: inherit;\n"]))),D9=({className:t,color:a,left:c,top:r=.5})=>{let e={top:"".concat(r*100,"%"),left:"".concat(c*100,"%")};return jz.default.createElement(J01,{style:e,className:t},jz.default.createElement(t31,{style:{backgroundColor:a}}))}});var A2,Nc=x(()=>{"use strict";A2=(t,a=0,c=Math.pow(10,a))=>Math.round(c*t)/c});var AL1,fR,Uc,yo,xR,CR,Kc=x(()=>{"use strict";Nc();AL1={grad:360/400,turn:360,rad:360/(Math.PI*2)},fR=({h:t,s:a,v:c,a:r})=>{let e=(200-a)*c/100;return{h:A2(t),s:A2(e>0&&e<200?a*c/100/(e<=100?e:200-e)*100:0),l:A2(e/2),a:A2(r,2)}},Uc=t=>{let{h:a,s:c,l:r}=fR(t);return"hsl(".concat(a,", ").concat(c,"%, ").concat(r,"%)")},yo=t=>{let{h:a,s:c,l:r,a:e}=fR(t);return"hsla(".concat(a,", ").concat(c,"%, ").concat(r,"%, ").concat(e,")")},xR=({h:t,s:a,v:c,a:r})=>{t=t/360*6,a=a/100,c=c/100;let e=Math.floor(t),l=c*(1-a),i=c*(1-(t-e)*a),o=c*(1-(1-t+e)*a),n=e%6;return{r:A2([c,i,l,l,o,c][n]*255),g:A2([o,c,c,i,l,l][n]*255),b:A2([l,l,o,c,c,i][n]*255),a:A2(r,2)}},CR=({r:t,g:a,b:c,a:r})=>{let e=Math.max(t,a,c),l=e-Math.min(t,a,c),i=l?e===t?(a-c)/l:e===a?2+(c-t)/l:4+(t-a)/l:0;return{h:A2(60*(i<0?i+6:i)),s:A2(e?l/e*100:0),v:A2(e/255*100),a:r}}});var $c,LR,a31,HR,c31,r31,VR,wR=x(()=>{"use strict";$c=P(T());qc();Bo();Kc();_c();Nc();a1();a31=B.div(LR||(LR=V(["\n  position: relative;\n  height: 16px;\n  border-radius: 2px;\n\n  background: linear-gradient(\n    to right,\n    #f00 0%,\n    #ff0 17%,\n    #0f0 33%,\n    #0ff 50%,\n    #00f 67%,\n    #f0f 83%,\n    #f00 100%\n  );\n"]))),c31=B(D9)(HR||(HR=V(["\n  z-index: 2;\n"]))),r31=({className:t,hue:a,onChange:c})=>$c.default.createElement(a31,{className:t},$c.default.createElement(q6,{onMove:l=>{c({h:360*l.left})},onKey:l=>{c({h:G4(a+l.left*360,0,360)})},"aria-label":"Hue","aria-valuetext":A2(a)},$c.default.createElement(c31,{left:a/360,color:Uc({h:a,s:100,v:100,a:1})}))),VR=$c.default.memo(r31)});var Qc,BR,e31,yR,l31,i31,SR,kR=x(()=>{"use strict";Qc=P(T());qc();Bo();Kc();_c();Nc();a1();e31=B.div(BR||(BR=V(["\n  position: relative;\n  flex-grow: 1;\n  border-color: transparent; /* Fixes https://github.com/omgovich/react-colorful/issues/139 */\n  border-bottom: 12px solid #000;\n  border-radius: 2px;\n  background-image: linear-gradient(to top, #000, rgba(0, 0, 0, 0)),\n    linear-gradient(to right, #fff, rgba(255, 255, 255, 0));\n\n  // Improve elements rendering on light backgrounds\n  box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.05);\n"]))),l31=B(D9)(yR||(yR=V(["\n  z-index: 3;\n"]))),i31=({hsva:t,onChange:a})=>{let c=l=>{a({s:l.left*100,v:100-l.top*100})},r=l=>{a({s:G4(t.s+l.left*100,0,100),v:G4(t.v-l.top*100,0,100)})},e={backgroundColor:Uc({h:t.h,s:100,v:100,a:1})};return Qc.default.createElement(e31,{style:e},Qc.default.createElement(q6,{onMove:c,onKey:r,"aria-label":"Color","aria-valuetext":"Saturation ".concat(A2(t.s),"%, Brightness ").concat(A2(t.v),"%")},Qc.default.createElement(l31,{top:1-t.v/100,left:t.s/100,color:Uc(t)})))},SR=Qc.default.memo(i31)});var Xc,AR,o31,RR,n31,bR,h31,FR,IR=x(()=>{"use strict";Xc=P(T());qc();Bo();Kc();_c();Nc();a1();o31=B.div(AR||(AR=V(['\n  position: relative;\n  height: 16px;\n  border-radius: 2px;\n  // Checkerboard\n  background-color: #fff;\n  background-image: url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><rect x="8" width="8" height="8"/><rect y="8" width="8" height="8"/></svg>\');\n']))),n31=B.div.attrs(({colorFrom:t,colorTo:a})=>({style:{backgroundImage:"linear-gradient(90deg, ".concat(t,", ").concat(a,")")}}))(RR||(RR=V(["\n  content: '';\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  pointer-events: none;\n  border-radius: inherit;\n\n  // Improve rendering on light backgrounds\n  box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.05);\n"]))),h31=B(D9)(bR||(bR=V(['\n  // Checkerboard\n  background-color: #fff;\n  background-image: url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><rect x="8" width="8" height="8"/><rect y="8" width="8" height="8"/></svg>\');\n']))),FR=({className:t,hsva:a,onChange:c})=>{let r=o=>{c({a:o.left})},e=o=>{c({a:G4(a.a+o.left)})},l=yo(Object.assign({},a,{a:0})),i=yo(Object.assign({},a,{a:1}));return Xc.default.createElement(o31,{className:t},Xc.default.createElement(n31,{colorFrom:l,colorTo:i}),Xc.default.createElement(q6,{onMove:r,onKey:e,"aria-label":"Alpha","aria-valuetext":"".concat(A2(a.a*100),"%")},Xc.default.createElement(h31,{left:a.a,color:yo(a)})))}});var Yc,qz=x(()=>{"use strict";Yc=(t,a)=>{if(t===a)return!0;for(let c in t)if(t[c]!==a[c])return!1;return!0}});function PR(t,a,c,r){let{editing:e}=Vo(),[l,i]=(0,k3.useState)(a),o=E9(c),n=E9(r),h=e?l:a,[v,g]=(0,k3.useState)(()=>t.toHsva(h)),s=(0,k3.useRef)({color:h,hsva:v}),d=(0,k3.useRef)({color:h,hsva:v});(0,k3.useEffect)(()=>{e&&i(s.current.color)},[e]),(0,k3.useEffect)(()=>{let u=t.fromHsva(v);e?!Yc(v,s.current.hsva)&&!t.equal(u,s.current.color)&&(s.current={hsva:v,color:u},i(u),o(u)):!Yc(v,d.current.hsva)&&!t.equal(u,d.current.color)&&(d.current={hsva:v,color:u},s.current={hsva:v,color:u},n(u))},[e,v,t,o,n]),(0,k3.useEffect)(()=>{if(!e&&!t.equal(h,d.current.color)){let u=t.toHsva(h);d.current={hsva:u,color:h},g(u)}},[e,h,t]);let z=(0,k3.useCallback)(u=>{g(M=>Object.assign({},M,u))},[]);return[v,z]}var k3,GR=x(()=>{"use strict";k3=P(T());qz();Wz();wo()});var Q8,TR,v31,ZR,OR=x(()=>{"use strict";Q8=P(T());wR();kR();IR();GR();a1();v31=B.div(TR||(TR=V(["\n  position: relative;\n  display: flex;\n  gap: 4px;\n  flex-direction: column;\n  width: 200px;\n  height: 200px;\n  user-select: none;\n  cursor: default;\n"]))),ZR=o=>{var n=o,{className:t,colorModel:a,color:c=a.defaultColor,temporarilySetValue:r,permanentlySetValue:e,discardTemporaryValue:l}=n,i=m4(n,["className","colorModel","color","temporarilySetValue","permanentlySetValue","discardTemporaryValue"]);let[h,v]=PR(a,c,r,e);return(0,Q8.useEffect)(()=>()=>{l()},[]),Q8.default.createElement(v31,S({},i),Q8.default.createElement(SR,{hsva:h,onChange:v}),Q8.default.createElement(VR,{hue:h.h,onChange:v}),Q8.default.createElement(FR,{hsva:h,onChange:v}))}});var Nz,g31,d31,s31,Uz,ER=x(()=>{"use strict";Nz=P(T());OR();qz();Kc();wo();g31=t=>({r:t.r/255,g:t.g/255,b:t.b/255,a:t.a}),d31=t=>({r:t.r*255,g:t.g*255,b:t.b*255,a:t.a}),s31={defaultColor:{r:0,g:0,b:0,a:1},toHsva:t=>CR(d31(t)),fromHsva:t=>g31(xR(t)),equal:Yc},Uz=t=>Nz.default.createElement(dR,null,Nz.default.createElement(ZR,W(S({},t),{permanentlySetValue:a=>{t.permanentlySetValue(a)},colorModel:s31})))});var DR=x(()=>{"use strict";ER()});var WR,z31,_R,jR=x(()=>{WR=P(T()),z31=function(t){(0,WR.useEffect)(t,[])},_R=z31});var qR,u31,NR,UR=x(()=>{qR=P(T());jR();u31=function(t){var a=(0,qR.useRef)(t);a.current=t,_R(function(){return function(){return a.current()}})},NR=u31});var W9,p31,KR,$R=x(()=>{W9=P(T());UR();p31=function(t){var a=(0,W9.useRef)(0),c=(0,W9.useState)(t),r=c[0],e=c[1],l=(0,W9.useCallback)(function(i){cancelAnimationFrame(a.current),a.current=requestAnimationFrame(function(){e(i)})},[]);return NR(function(){cancelAnimationFrame(a.current)}),[r,l]},KR=p31});function QR(t){for(var a=[],c=1;c<arguments.length;c++)a[c-1]=arguments[c];t&&t.addEventListener&&t.addEventListener.apply(t,a)}function XR(t){for(var a=[],c=1;c<arguments.length;c++)a[c-1]=arguments[c];t&&t.removeEventListener&&t.removeEventListener.apply(t,a)}var So,YR=x(()=>{So=typeof window!="undefined"});var JR,m31,_9,ko=x(()=>{JR=P(T());$R();YR();m31=function(t,a){t===void 0&&(t=1/0),a===void 0&&(a=1/0);var c=KR({width:So?window.innerWidth:t,height:So?window.innerHeight:a}),r=c[0],e=c[1];return(0,JR.useEffect)(function(){if(So){var l=function(){e({width:window.innerWidth,height:window.innerHeight})};return QR(window,"resize",l),function(){XR(window,"resize",l)}}},[]),r},_9=m31});function j9(t){let[a,c]=(0,Ao.useState)(null);return(0,Ao.useLayoutEffect)(()=>(t&&c(t.getBoundingClientRect()),()=>{c(null)}),[t]),a}var Ao,Kz=x(()=>{"use strict";Ao=P(T())});var tb,M31,Ro,$z=x(()=>{"use strict";tb=P(T()),M31=(0,tb.createContext)({}),Ro=M31});function Qz(t,a,c){let r=t.getBoundingClientRect(),e=l=>{(l.clientX<r.left-a||l.clientX>r.left+r.width+a||l.clientY<r.top-a||l.clientY>r.top+r.height+a)&&c(l)};return window.addEventListener("mousemove",e),()=>{window.removeEventListener("mousemove",e)}}var ab=x(()=>{"use strict"});var rb,q9,cb,f31,bo,Xz=x(()=>{"use strict";rb=P(T()),q9=P(T());ko();Kz();$z();P1();so();ab();W8();H2();cb=8,f31=t=>{var v,g;let a=t.children(),[c,r]=z1(null),e=a.props.style?S({},a.props.style):{};e.position="absolute";let l=j9(r),i=j9(t.target),o=_9(),[n,h]=(0,q9.useState)({});return(0,q9.useLayoutEffect)(()=>{var k,I,U;if(!l||!r||!i)return;let s=(k=t.verticalGap)!=null?k:8,d={},z=(I=t.verticalPlacement)!=null?I:"bottom",u=0,M=0;z==="bottom"?i.bottom+l.height+s<o.height?(z="bottom",u=i.bottom+s,d.top="0px"):i.top>l.height+s?(z="top",u=i.top-(l.height+s),d.bottom="0px",d.transform="rotateZ(180deg)"):z="overlay":z==="top"&&(i.top>l.height+s?(z="top",u=i.top-(l.height+s),d.bottom="0px",d.transform="rotateZ(180deg)"):i.bottom+l.height+s<o.height?(z="bottom",u=i.bottom+s,d.top="0px"):z="overlay");let m=0;if(z!=="overlay"){let A=i.left+i.width/2;A<l.width/2?(M=s,m=Math.max(A-s,cb)):A+l.width/2>o.width?(M=o.width-(s+l.width),m=Math.min(A-M,l.width-cb)):(M=A-l.width/2,m=l.width/2),d.left=m+"px"}let{minX:p=-1/0,maxX:f=1/0,minY:H=-1/0,maxY:w=1/0}=(U=t.constraints)!=null?U:{},y={left:F1(M,p,f-l.width),top:F1(u,H,w+l.height)};if(r.style.left=y.left+"px",r.style.top=y.top+"px",h(d),t.onPointerOutside)return Qz(r,t.onPointerOutside.threshold,t.onPointerOutside.callback)},[l,r,t.target,i,o,t.onPointerOutside]),q8([r,(v=t.target)!=null?v:null],(g=t.onClickOutside)!=null?g:h0),rb.default.createElement(Ro.Provider,{value:n},(0,q9.cloneElement)(a,{ref:c,style:e}))},bo=f31});function x2(t,a){let c=(...z)=>{},{isPointerBeingCaptured:r}=uo("usePopover"),[e,l]=z1({isOpen:!1}),i=(0,w2.useRef)(t),o=(0,w2.useCallback)(z=>{c('closing due to "'.concat(z,'"')),e.current={isOpen:!1}},[]),n=(0,w2.useCallback)((z,u)=>{var p;let M=typeof i.current=="function"?i.current():i.current;function m(){v.childHasFocusRef.current||M.closeOnClickOutside!==!1&&o("clicked outside popover")}e.current={isOpen:!0,clickPoint:{clientX:z.clientX,clientY:z.clientY},target:u,opts:M,onClickOutside:m,onPointerOutside:M.closeWhenPointerIsDistant===!1?void 0:{threshold:(p=M.pointerDistanceThreshold)!=null?p:100,callback:()=>{v.childHasFocusRef.current||r()||o("pointer outside")}}}},[]),h=(0,w2.useCallback)((...z)=>{e.current.isOpen?o("toggled"):n(...z)},[]),v=x31({_debug:c,state:l}),[,g]=(0,w2.useContext)(N9);(0,w2.useEffect)(()=>{let z;return l.isOpen&&(z=g()),()=>z==null?void 0:z()},[l.isOpen]);let s=(0,w2.useContext)(a3);return{node:l.isOpen?(0,eb.createPortal)(w2.default.createElement(lb.Provider,{value:v.childPopoverLock},w2.default.createElement(bo,{children:a,target:l.target,onClickOutside:l.onClickOutside,onPointerOutside:l.onPointerOutside,constraints:l.opts.constraints,verticalGap:l.opts.verticalGap})),s):w2.default.createElement(w2.default.Fragment,null),open:n,close:o,toggle:h,isOpen:l.isOpen}}function x31(t){let a=(0,w2.useContext)(lb);(0,w2.useEffect)(()=>{if(t.state.isOpen){let r=a.takeFocus();return t._debug("take focus"),()=>{t._debug("release focus"),r.releaseFocus()}}},[t.state.isOpen]);let c=(0,w2.useRef)(!1);return{childHasFocusRef:c,childPopoverLock:{takeFocus(){return c.current=!0,{releaseFocus(){c.current=!1}}}}}}var w2,eb,lb,c4=x(()=>{"use strict";po();P1();w2=P(T()),eb=P(B4());T6();Xz();Fo();lb=w2.default.createContext({takeFocus(){return{releaseFocus(){}}}})});var r4,ib,C31,ob,L31,nb,H31,hb,V31,vb,w31,B31,gb,db=x(()=>{"use strict";r4=P(T());a1();$z();C31=B.div(ib||(ib=V(["\n  position: absolute;\n  width: 0;\n  height: 0;\n  color: var(--popover-arrow-color);\n  pointer-events: none;\n"]))),L31=B.div(ob||(ob=V(["\n  width: 12px;\n  height: 8px;\n  position: absolute;\n  left: -7px;\n  top: -8px;\n  text-align: center;\n  line-height: 0;\n"]))),H31=B.path(nb||(nb=V(["\n  fill: var(--popover-bg);\n"]))),V31=B.path(hb||(hb=V(["\n  fill: var(--popover-inner-stroke);\n"]))),w31=B.path(vb||(vb=V(["\n  fill: var(--popover-outer-stroke);\n"]))),B31=(0,r4.forwardRef)(({className:t},a)=>{let c=(0,r4.useContext)(Ro);return r4.default.createElement(C31,{className:t,ref:a,style:S({},c)},r4.default.createElement(L31,null,r4.default.createElement("svg",{width:"12",height:"8",viewBox:"0 0 12 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r4.default.createElement(w31,{d:"M6 0L0 6H12L6 0Z"}),r4.default.createElement(V31,{d:"M6 1.5L0 7.5H12L6 1.5Z"}),r4.default.createElement(H31,{d:"M6 3L0 9H12L6 3Z"}))))}),gb=B31});var Io,Yz,sb,y31,S31,T2,e4=x(()=>{"use strict";G1();R0();Io=P(T());a1();db();Yz=N2(.05,"#2a2a31"),y31=B.div(sb||(sb=V(["\n  position: absolute;\n  --popover-bg: ",";\n  --popover-inner-stroke: #505159;\n  --popover-outer-stroke: #111;\n\n  background: var(--popover-bg);\n\n  color: white;\n  padding: 0;\n  margin: 0;\n  cursor: default;\n  ",";\n  border-radius: 3px;\n  z-index: 10000;\n  border: 1px solid var(--popover-inner-stroke);\n  box-shadow: 0 0 0 1px var(--popover-outer-stroke), 0 6px 8px -4px black;\n  backdrop-filter: blur(8px);\n\n  & a {\n    color: inherit;\n  }\n"])),Yz,x1),S31=Io.default.forwardRef(({children:t,className:a,showPopoverEdgeTriangle:c=!0},r)=>Io.default.createElement(y31,{className:a,ref:r},c?Io.default.createElement(gb,null):void 0,t)),T2=S31});function F31({editingTools:t,value:a,autoFocus:c}){let r=(0,A3.useRef)(null),e=(0,A3.useCallback)(i=>{let o=Ho(vR(i));t.permanentlySetValue(o)},[t]),l=x2({debugName:"RgbaPropEditor"},()=>A3.default.createElement(b31,null,A3.default.createElement(Uz,{color:{r:a.r,g:a.g,b:a.b,a:a.a},temporarilySetValue:i=>{let o=Ho(i);t.temporarilySetValue(o)},permanentlySetValue:i=>{let o=Ho(i);t.permanentlySetValue(o)},discardTemporaryValue:t.discardTemporaryValue})));return A3.default.createElement(A3.default.Fragment,null,A3.default.createElement(k31,null,A3.default.createElement(A31,{rgbaColor:a,ref:r,onClick:i=>{l.toggle(i,r.current)}}),A3.default.createElement(R31,{value:Lo(a,{removeAlphaIfOpaque:!0}),temporarilySetValue:zb,discardTemporaryValue:zb,permanentlySetValue:e,isValid:i=>!!i.match(Oz),autoFocus:c})),l.node)}var A3,ub,k31,pb,A31,mb,R31,zb,Mb,b31,fb,xb=x(()=>{"use strict";Ez();Ez();A3=P(T());DR();a1();c4();Co();e4();k31=B.div(ub||(ub=V(["\n  display: flex;\n  align-items: center;\n  height: 100%;\n  gap: 4px;\n"]))),A31=B.div.attrs(t=>({style:{background:Lo(t.rgbaColor)}}))(pb||(pb=V(["\n  height: 18px;\n  aspect-ratio: 1;\n  border-radius: 99999px;\n"]))),R31=B(O9)(mb||(mb=V(["\n  flex: 1;\n"]))),zb=()=>{},b31=B.div(Mb||(Mb=V(["\n  position: absolute;\n  background-color: ",";\n  color: white;\n  margin: 0;\n  cursor: default;\n  border-radius: 3px;\n  z-index: 10000;\n  backdrop-filter: blur(8px);\n\n  padding: 4px;\n  pointer-events: all;\n\n  border: none;\n  box-shadow: none;\n"])),Yz);fb=F31});function O31({propConfig:t,editingTools:a,value:c,autoFocus:r}){let[e,l]=r3.default.useState();(0,r3.useEffect)(()=>{l(c?a.getAssetUrl(c):void 0)},[c]);let i=(0,r3.useCallback)(n=>e2(this,null,function*(){let h=n.target.files[0];a.permanentlySetValue({type:"image",id:void 0});let v=yield a.createAsset(h);v?a.permanentlySetValue({type:"image",id:v}):a.permanentlySetValue(c),n.target.value=null}),[a,c]),o=!(c!=null&&c.id);return r3.default.createElement(kb,{empty:o},r3.default.createElement(P31,{empty:o,title:o?"Upload image":'"'.concat(c.id,'" (Click to upload new image)')},r3.default.createElement(G31,{type:"file",onChange:i,accept:"image/*,.hdr",autoFocus:r}),e?r3.default.createElement(T31,{src:e}):r3.default.createElement(I31,null)),!o&&r3.default.createElement(Z31,{title:"Delete image",onClick:()=>{a.permanentlySetValue({type:"image",id:void 0})}},r3.default.createElement(Zc,null)))}var r3,Cb,kb,Lb,I31,Hb,Vb,wb,P31,Bb,G31,yb,T31,Sb,Z31,Ab,Rb=x(()=>{"use strict";b9();r3=P(T());a1();kb=B.div(Cb||(Cb=V(["\n  display: flex;\n  align-items: center;\n  height: 100%;\n  gap: 4px;\n"]))),I31=B.div(Lb||(Lb=V(["\n  position: absolute;\n  inset: -5px;\n  // rotate 45deg\n  transform: rotate(45deg);\n  --checker-color: #ededed36;\n  &:hover {\n    --checker-color: #ededed77;\n  }\n  // checkerboard background with 4px squares\n  background-image: linear-gradient(\n      45deg,\n      var(--checker-color) 25%,\n      transparent 25%\n    ),\n    linear-gradient(-45deg, var(--checker-color) 25%, transparent 25%),\n    linear-gradient(45deg, transparent 75%, var(--checker-color) 75%),\n    linear-gradient(-45deg, transparent 75%, var(--checker-color) 75%);\n  background-size: 5px 5px;\n"]))),P31=B.label(wb||(wb=V(["\n  position: relative;\n  cursor: default;\n  box-sizing: border-box;\n\n  height: 18px;\n  aspect-ratio: 1;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 16px;\n\n  overflow: hidden;\n  color: #ccc;\n  &:hover {\n    color: white;\n  }\n\n  border-radius: 99999px;\n  border: 1px solid hwb(220deg 40% 52%);\n  &:hover {\n    border-color: hwb(220deg 45% 52%);\n  }\n\n  ","\n"])),t=>t.empty?M2(Hb||(Hb=V([""]))):M2(Vb||(Vb=V([""])))),G31=B.input.attrs({type:"file"})(Bb||(Bb=V(["\n  display: none;\n"]))),T31=B.img(yb||(yb=V(["\n  position: absolute;\n  inset: 0;\n  height: 100%;\n  aspect-ratio: 1;\n\n  object-fit: cover;\n"]))),Z31=B.button(Sb||(Sb=V(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  outline: none;\n  background: transparent;\n  color: #a8a8a9;\n\n  border: none;\n  height: 100%;\n  aspect-ratio: 1/1;\n\n  opacity: 0;\n\n  ",":hover & {\n    opacity: 0.8;\n  }\n\n  &:hover {\n    opacity: 1;\n    color: white;\n  }\n"])),kb);Ab=O31});function j31({propConfig:t,editingTools:a,value:c,autoFocus:r}){let[e,l]=e3.default.useState();(0,e3.useEffect)(()=>{l(c?a.getAssetUrl(c):void 0)},[c]);let i=(0,e3.useCallback)(n=>e2(this,null,function*(){let h=n.target.files[0];a.permanentlySetValue({type:"file",id:void 0});let v=yield a.createAsset(h);v?a.permanentlySetValue({type:"file",id:v}):a.permanentlySetValue(c),n.target.value=null}),[a,c]),o=!(c!=null&&c.id);return e3.default.createElement(Ob,{empty:o},e3.default.createElement(D31,{empty:o,title:o?"Upload file":'"'.concat(c.id,'" (Click to upload new file)')},e3.default.createElement(W31,{type:"file",onChange:i,autoFocus:r}),e?e3.default.createElement(Gc,null):e3.default.createElement(E31,null)),!o&&e3.default.createElement(_31,{title:"Delete file",onClick:()=>{a.permanentlySetValue({type:"file",id:void 0})}},e3.default.createElement(Zc,null)))}var e3,bb,Ob,Fb,E31,Ib,Pb,Gb,D31,Tb,W31,Zb,_31,Eb,Db=x(()=>{"use strict";b9();e3=P(T());a1();Ob=B.div(bb||(bb=V(["\n  display: flex;\n  align-items: center;\n  height: 100%;\n  gap: 4px;\n"]))),E31=B.div(Fb||(Fb=V(["\n  position: absolute;\n  inset: -5px;\n  // rotate 45deg\n  transform: rotate(45deg);\n  --checker-color: #ededed36;\n  &:hover {\n    --checker-color: #ededed77;\n  }\n  // checkerboard background with 4px squares\n  background-image: linear-gradient(\n      45deg,\n      var(--checker-color) 25%,\n      transparent 25%\n    ),\n    linear-gradient(-45deg, var(--checker-color) 25%, transparent 25%),\n    linear-gradient(45deg, transparent 75%, var(--checker-color) 75%),\n    linear-gradient(-45deg, transparent 75%, var(--checker-color) 75%);\n  background-size: 5px 5px;\n"]))),D31=B.label(Gb||(Gb=V(["\n  position: relative;\n  cursor: default;\n  box-sizing: border-box;\n\n  height: 18px;\n  aspect-ratio: 1;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 16px;\n\n  overflow: hidden;\n  color: #ccc;\n  &:hover {\n    color: white;\n  }\n\n  border-radius: 99999px;\n  border: 1px solid hwb(220deg 40% 52%);\n  &:hover {\n    border-color: hwb(220deg 45% 52%);\n  }\n\n  ","\n"])),t=>t.empty?M2(Ib||(Ib=V([""]))):M2(Pb||(Pb=V([""])))),W31=B.input.attrs({type:"file"})(Tb||(Tb=V(["\n  display: none;\n"]))),_31=B.button(Zb||(Zb=V(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  outline: none;\n  background: transparent;\n  color: #a8a8a9;\n\n  border: none;\n  height: 100%;\n  aspect-ratio: 1/1;\n\n  opacity: 0;\n\n  ",":hover & {\n    opacity: 0.8;\n  }\n\n  &:hover {\n    opacity: 1;\n    color: white;\n  }\n"])),Ob);Eb=j31});var Po,Jz=x(()=>{"use strict";tA();Iz();eR();hR();xb();Rb();Db();Po={number:fo,string:nR,boolean:Jk,stringLiteral:rR,rgba:fb,image:Ab,file:Eb}});function T4(t){let a=new WeakMap;return c=>(a.has(c)||a.set(c,t(c)),a.get(c))}var Jc=x(()=>{"use strict"});function G0(t){return t.type==="compound"||t.type==="enum"}function U9(t,a){if(!t)return;let[c,...r]=a;if(c===void 0)return t;if(!G0(t))return;let e=t.type==="enum"?t.cases[c]:t.props[c];return U9(e,r)}function X8(t,a){let c=a.deserializeAndSanitize(t);return c===void 0?a.default:c}function Wb(t){return!G0(t)}function*Y8(t,a){if(t.type==="compound")for(let c in t.props)yield*CM(Y8(t.props[c],[...a,c]));else{if(t.type==="enum")throw new Error("Not implemented yet");return yield{path:a,conf:t}}}var tu,L5=x(()=>{"use strict";Jc();tu=T4(t=>{if(t.type==="enum")throw new Error("Not implemented yet for enums");for(let a in t.props){let c=t.props[a];if(G0(c)){if(tu(c))return!0}else return!0}return!1})});var Go,au=x(()=>{"use strict";Go="calc(var(--left-pad) + var(--depth) * var(--step))"});var _b,T0,N6=x(()=>{"use strict";a1();T0=M2(_b||(_b=V(["\n  font-weight: 300;\n  font-size: 11px;\n  color: ",";\n  text-shadow: 0.5px 0.5px 2px rgba(0, 0, 0, 0.3);\n"])),t=>t.isHighlighted==="self"?"#CCC":"#919191")});var tr,To,jb,q31,qb,N31,U31,Nb,cu=x(()=>{"use strict";W8();tr=P(T());a1();To=26,q31=B.li(jb||(jb=V(["\n  height: ","px;\n  padding: 0 12px;\n  margin: 0;\n  display: flex;\n  align-items: center;\n  font-size: 11px;\n  font-weight: 400;\n  position: relative;\n  color: ",";\n  cursor: ",";\n\n  &:after {\n    position: absolute;\n    inset: 2px 1px;\n    display: block;\n    content: ' ';\n    pointer-events: none;\n    z-index: -1;\n    border-radius: 3px;\n  }\n\n  &:hover:after {\n    background-color: ",";\n  }\n"])),To,t=>t.enabled?"white":"#8f8f8f",t=>t.enabled?"normal":"not-allowed",t=>t.enabled?"rgba(63, 174, 191, 0.75)":"initial"),N31=B.span(qb||(qb=V([""]))),U31=t=>tr.default.createElement(q31,{onClick:t.enabled?t.onClick:h0,enabled:t.enabled,title:t.enabled?void 0:"Disabled"},tr.default.createElement(N31,null,tr.default.createElement(tr.default.Fragment,null,t.label))),Nb=U31});function ru(t){let a=(0,Zo.useRef)(t);a.current=t,(0,Zo.useEffect)(()=>{let c=r=>a.current(r);return window.addEventListener("keydown",c),()=>{window.removeEventListener("keydown",c)}},[])}var Zo,Ub=x(()=>{"use strict";Zo=P(T())});var ar,K31,$31,Kb,Q31,$b,X31,Y31,Oo,eu=x(()=>{"use strict";ar=P(T());cu();a1();R0();G1();K31=190,$31=!0,Q31=B.ul(Kb||(Kb=V(["\n  position: absolute;\n  min-width: ","px;\n  z-index: 10000;\n  background: ",";\n  backdrop-filter: blur(2px);\n  color: white;\n  list-style-type: none;\n  padding: 2px 0;\n  margin: 0;\n  border-radius: 1px;\n  cursor: default;\n  ",";\n  border-radius: 3px;\n"])),K31,N2(.2,"#111"),x1),X31=B.div($b||($b=V(["\n  padding: 4px 10px;\n  border-bottom: 1px solid #6262626d;\n  color: #adadadb3;\n  font-size: 11px;\n  font-weight: 500;\n"]))),Y31=ar.default.forwardRef((t,a)=>ar.default.createElement(Q31,{ref:a},$31&&t.displayName?ar.default.createElement(X31,null,t.displayName):null,t.items.map((c,r)=>ar.default.createElement(Nb,{key:"item-".concat(r),label:c.label,enabled:c.enabled!==!1,onClick:e=>{c.callback&&c.callback(e),t.onRequestClose()}})))),Oo=Y31});var Qb,Xb,K9,Yb,Eo,J31,Jb,tF=x(()=>{"use strict";Kz();Qb=P(T()),Xb=P(T()),K9=P(T()),Yb=P(B4());ko();cu();T6();Ub();eu();Eo=20,J31=t=>{let[a,c]=(0,K9.useState)(null),r=j9(a),e=_9();(0,K9.useLayoutEffect)(()=>{if(!r||!a)return;let o={left:r.width/2,top:To/2+(t.displayName?To:0)},n={left:t.clickPoint.clientX-o.left,top:t.clickPoint.clientY-o.top};n.left<0?n.left=0:n.left+r.width>e.width&&(n.left=e.width-r.width),n.top<0?n.top=0:n.top+r.height>e.height&&(n.top=e.height-r.height),a.style.left=n.left+"px",a.style.top=n.top+"px";let h=v=>{(v.clientX<n.left-Eo||v.clientX>n.left+r.width+Eo||v.clientY<n.top-Eo||v.clientY>n.top+r.height+Eo)&&t.onRequestClose()};return window.addEventListener("mousemove",h),()=>{window.removeEventListener("mousemove",h)}},[r,a,t.clickPoint,e,t.onRequestClose]);let l=(0,Xb.useContext)(a3);ru(o=>{o.key==="Escape"&&t.onRequestClose()});let i=(0,Qb.useMemo)(()=>{let o=Array.isArray(t.items)?t.items:t.items();return o.length>0?o:[{label:t.displayName?"No actions for ".concat(t.displayName):"No actions found",enabled:!1}]},[t.items]);return(0,Yb.createPortal)(K9.default.createElement(Oo,{items:i,onRequestClose:t.onRequestClose,displayName:t.displayName,ref:c}),l)},Jb=J31});var $9,t41,aF,cF=x(()=>{"use strict";$9=P(T()),t41=(t,a)=>{let[c,r]=(0,$9.useState)({isOpen:!1}),e=(0,$9.useCallback)(()=>r({isOpen:!1}),[]);return(0,$9.useEffect)(()=>{if(!t||a.disabled===!0){r({isOpen:!1});return}let l=i=>{r({isOpen:!0,event:i}),i.preventDefault(),i.stopPropagation()};return t.addEventListener("contextmenu",l),()=>{t.removeEventListener("contextmenu",l)}},[t,a.disabled]),[c,e]},aF=t41});function Z1(t,a){let[c,r]=aF(t,a),[,e]=(0,U6.useContext)(N9);return(0,U6.useEffect)(()=>{var o;let i;return c.isOpen&&((o=a.onOpen)==null||o.call(a),i=e()),()=>i==null?void 0:i()},[c.isOpen,a.onOpen]),[c.isOpen?U6.default.createElement(Jb,{items:a.menuItems,displayName:a.displayName,clickPoint:c.event,onRequestClose:r}):a41,r,c.isOpen]}var U6,a41,v0=x(()=>{"use strict";U6=P(T());tF();cF();Fo();a41=U6.default.createElement(U6.default.Fragment,null)});function l3(t,a){return a.length===0?t:D3(t,a)}var cr=x(()=>{"use strict";D7()});function lu(t,a){return t==null?null:t instanceof Element&&t.matches(a)?t:lu(t.parentElement,a)}var rF=x(()=>{"use strict"});function Z4(t,a){let c=t;for(let r of a)c=c[r];return c}var rr=x(()=>{"use strict"});function c41(t){let a=new Do.Atom(void 0),c=new Do.Atom({}),r=new Do.Atom({}),e=0;return{addRelatedFlags(l,i){let o=String(++e),n=i.map(h=>{let v={flag:h.flag},g=[h.affects,l,o];return r.setByPointer(s=>Z4(s,g),v),g});return()=>{for(let h of n)r.setByPointer(v=>Z4(v,h),void 0)}},usePresenceFlag(l){if(!t.enabled)return;let i=(0,X9.useMemo)(()=>{if(!l)return eF;let o=a.prism,n=(0,Q9.pointerToPrism)(c.pointer[l]),h=(0,Q9.pointerToPrism)(r.pointer[l]);return(0,Q9.prism)(()=>{if(n.getValue())return 2;{let g=h.getValue(),s=o.getValue(),d=g&&s&&g[s];if(d){let z;for(let u of Object.values(d))u&&(z&&z>=u.flag||(z=u.flag));return z}return}})},[l]);return G8(i)},setUserHover(l){let i=a.get();i!==l&&(i&&c.setByPointer(o=>o[i],!1),a.set(l),l&&c.setByPointer(o=>o[l],!0))}}}function i3(t){let a=X9.default.useContext(lF),c=a.usePresenceFlag(t);return{attrs:{[iu]:t},flag:c,useRelations(r,e){(0,ou.useEffect)(()=>t&&a.addRelatedFlags(t,r()),[t,...e])}}}function Wo(t){let a=X9.default.useContext(lF),c=C0("PresenceListeners");(0,ou.useEffect)(()=>{let r;if(!t)return;let e=l=>{if(l.target instanceof Node){let i=lu(l.target,"[".concat(iu,"]"));if(i){let o=i.getAttribute(iu);r!==o&&(r=o,a.setUserHover(o||void 0),c._debug("Updated current hover",{itemKey:o}));return}r!=null&&(r=null,a.setUserHover(void 0),c._debug("Cleared current hover"))}};return t.addEventListener("mouseover",e),()=>{t.removeEventListener("mouseover",e),r!=null&&(r=null,c._debug("Cleared current hover as part of cleanup"))}},[t,a])}var X9,ou,Q9,Do,eF,lF,iu,K6=x(()=>{"use strict";X9=P(T()),ou=P(T());C5();Q9=require("@theatre/dataverse"),Do=require("@theatre/dataverse");M1();rF();rr();eF=(0,Q9.prism)(()=>{});eF.keepHot();lF=X9.default.createContext(c41({enabled:!1})),iu="data-pi-key"});var U2,iF,_o,oF,uF,H5,nF,pF,hF,r41,vF,nu,gF,e41,dF,l41,sF,zF,er,i41,jo,lr=x(()=>{"use strict";G1();R0();U2=P(T());a1();K6();_o=B.div(iF||(iF=V(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 16px;\n  margin: 0 0px 0 2px;\n  position: relative;\n  z-index: 0;\n  opacity: 0.7;\n\n  &:after {\n    position: absolute;\n    left: -14px;\n    right: -14px;\n    top: -2px;\n    bottom: -2px;\n    content: ' ';\n    display: none;\n    z-index: -1;\n    background: ",";\n  }\n\n  &:hover {\n    opacity: 1;\n    &:after {\n      display: block;\n    }\n  }\n"])),N2(.2,"black")),uF=B.div(oF||(oF=V(["\n  background: none;\n  position: relative;\n  border: 0;\n  transition: transform 0.1s ease-out;\n  z-index: 0;\n  outline: none;\n  cursor: pointer;\n\n  &:after {\n    display: none;\n    ",":hover & {\n      display: block;\n    }\n    position: absolute;\n    left: -4px;\n    right: -4px;\n    top: -4px;\n    bottom: -4px;\n    content: ' ';\n    z-index: -1;\n  }\n"])),_o),H5={offColor:"#555",onColor:"#e0c917"},pF=B(uF)(nF||(nF=V(["\n  &:hover {\n    color: #e0c917;\n  }\n\n  color: ",";\n"])),t=>t.presence===2?"white":t.isOn?H5.onColor:H5.offColor),r41=M2(hF||(hF=V(["\n  pointer-events: none !important;\n"]))),nu=B(uF)(vF||(vF=V(["\n  color: ",";\n\n  ",";\n"])),t=>t.flag===2?"white":t.available?H5.onColor:H5.offColor,t=>t.available?x1:r41),e41=B(nu)(gF||(gF=V(["\n  transform: translateX(2px);\n  ",":hover & {\n    transform: translateX(-7px);\n  }\n"])),_o),l41=B(nu)(dF||(dF=V(["\n  transform: translateX(-2px);\n  ",":hover & {\n    transform: translateX(7px);\n  }\n"])),_o);(l=>{let t=B.g(sF||(sF=V(["\n    stroke-width: 1;\n    ",":hover & path {\n      stroke-width: 3;\n    }\n  "])),nu);l.Prev=()=>U2.default.createElement("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},U2.default.createElement(t,{transform:"translate(6 3)"},U2.default.createElement("path",{d:"M4 1L1 4L4 7",stroke:"currentColor"}))),l.Next=()=>U2.default.createElement("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},U2.default.createElement(t,{transform:"translate(1 3)"},U2.default.createElement("path",{d:"M1 1L4 4L1 7",stroke:"currentColor"})));let r=B.g(zF||(zF=V(["\n    stroke-width: 0;\n    ",":hover & path {\n      stroke: currentColor;\n      stroke-width: 2;\n    }\n  "])),pF);l.Cur=()=>U2.default.createElement("svg",{width:"8",height:"12",viewBox:"0 0 8 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},U2.default.createElement(r,{transform:"translate(1 4)"},U2.default.createElement("path",{d:"M3 0L6 3L3 6L0 3L3 0Z",fill:"currentColor"})))})(er||(er={}));i41=t=>{var e,l,i,o,n;let a=i3((e=t.prev)==null?void 0:e.itemKey),c=i3(((l=t.cur)==null?void 0:l.type)==="on"?t.cur.itemKey:void 0),r=i3((i=t.next)==null?void 0:i.itemKey);return U2.default.createElement(_o,null,U2.default.createElement(e41,S({available:!!t.prev,onClick:(o=t.prev)==null?void 0:o.jump,flag:a.flag},a.attrs),U2.default.createElement(er.Prev,null)),U2.default.createElement(pF,S({isOn:t.cur.type==="on",onClick:t.cur.toggle,presence:c.flag},c.attrs),U2.default.createElement(er.Cur,null)),U2.default.createElement(l41,S({available:!!t.next,onClick:(n=t.next)==null?void 0:n.jump,flag:r.flag},r.attrs),U2.default.createElement(er.Next,null)))},jo=i41});var No,qo,mF,o41,MF,n41,fF,h41,v41,Y9,hu=x(()=>{"use strict";R0();No=P(T());a1();m1();lr();L5();qo={defaultState:{color:N2(.95,"#C4C4C4"),hoverColor:N2(.15,H5.onColor)},withStaticOverride:{color:N2(.85,"#C4C4C4"),hoverColor:N2(.15,H5.onColor)}},o41=B.div(mF||(mF=V(["\n  width: 16px;\n  margin: 0 0px 0 2px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n\n  color: ",";\n\n  &:hover {\n    color: ",";\n  }\n"])),t=>t.hasStaticOverride?qo.withStaticOverride.color:qo.defaultState.color,t=>t.hasStaticOverride?qo.withStaticOverride.hoverColor:qo.defaultState.hoverColor),n41=B.div(MF||(MF=V(["\n  width: 5px;\n  height: 5px;\n  border-radius: 1px;\n  transform: rotate(45deg);\n  /* border: 1px solid currentColor; */\n  background-color: currentColor;\n"]))),h41=B.div(fF||(fF=V(["\n  width: 5px;\n  height: 5px;\n  background-color: currentColor;\n  border-radius: 1px;\n  transform: rotate(45deg);\n"]))),v41=t=>{let{hasStaticOverride:a,obj:c,propConfig:r,pathToProp:e}=t;return No.default.createElement(o41,{hasStaticOverride:a,onClick:()=>{Z().transaction(({stateEditors:i})=>{for(let{path:o,conf:n}of Y8(r,e)){if(G0(n))continue;let h=W(S({},c.address),{pathToProp:o});i.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsSequenced(h,r)}})},title:"Sequence this prop"},a?No.default.createElement(h41,{title:"The default value is overridden"}):No.default.createElement(n41,{title:"This is the default value for this prop"}))},Y9=v41});function J8(t){return JSON.stringify(vu(t))}function vu(t){return f8(t)?Object.keys(t).sort().reduce((a,c)=>(a[c]=vu(t[c]),a),{}):Array.isArray(t)?t.map(vu):t}var xF=x(()=>{"use strict";H2()});var g41,J9,gu=x(()=>{g41="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",J9=(t=21)=>{let a="",c=t;for(;c--;)a+=g41[Math.random()*64|0];return a}});function du(){return J9(10)}function CF(){return J9(10)}function LF(){return J9(10)}var c2,O4=x(()=>{"use strict";xF();gu();c2={forSheet(){return"sheet"},forSheetObject(t){return J8({o:t.address.objectKey})},forSheetObjectProp(t,a){return J8({o:t.address.objectKey,p:a})},forTrackKeyframe(t,a,c){return J8({o:t.address.objectKey,t:a,k:c})},forSheetObjectAggregateKeyframe(t,a){return c2.forCompoundPropAggregateKeyframe(t,[],a)},forSheetAggregateKeyframe(t,a){return J8({o:t.address.sheetId,pos:a})},forCompoundPropAggregateKeyframe(t,a,c){return J8({o:t.address.objectKey,p:a,pos:c})}}});function Uo(t,a,c){if(!a||a.data.keyframes.length===0)return d41;let r=HF.get(a.data);if(r&&r[0]===c)return r[1];function e(o){if(!a)return;let n=a.data.keyframes[o];return n&&{kf:n,track:a,itemKey:c2.forTrackKeyframe(t,a.id,n.id)}}let i=(()=>{let o=a.data.keyframes.findIndex(h=>h.position>=c);if(o===-1)return{prev:e(a.data.keyframes.length-1)};let n=e(o);return n.kf.position===c?{prev:e(o-1),cur:n,next:e(o+1)}:{next:n,prev:e(o-1)}})();return HF.set(a.data,[c,i]),i}var HF,d41,su=x(()=>{"use strict";O4();HF=new WeakMap,d41={}});var Ko,zu=x(()=>{"use strict";Ko={}});function VF(t,a,c){let r=(0,Z0.getPointerParts)(t).path;return v1(()=>{if(!tu(c))return{type:"AllStatic",beingScrubbed:!1,contextMenuItems:[],controlIndicators:t7.default.createElement(Y9,{hasStaticOverride:!1,obj:a,pathToProp:r,propConfig:c})};let e=!!(0,Z0.val)(D3(Z().atomP.ephemeral.projects.stateByProjectId[a.address.projectId].stateBySheetId[a.address.sheetId].stateByObjectKey[a.address.objectKey].valuesBeingScrubbed,(0,Z0.getPointerParts)(t).path)),l=[],i={beingScrubbed:e,contextMenuItems:l,controlIndicators:t7.default.createElement(t7.default.Fragment,null)},o=(0,Z0.val)(a.template.getMapOfValidSequenceTracks_forStudio()),n=l3(o,r),h=n!==void 0&&Object.keys(n).length!==0,v=[],g=(0,Z0.val)(a.template.getStaticButNotSequencedOverrides()),d=l3(g!=null?g:Ko,r)!==void 0;if(h)for(let z of Y8(c,[])){if(G0(z.conf))continue;let u=l3(n,z.path);typeof u!="string"?d=!0:v.push(u)}if((d||h)&&l.push({label:"Reset all to default",callback:()=>{Z().transaction(({unset:z})=>{z(t)})}}),h&&l.push({label:"Make all static",callback:()=>{Z().transaction(({stateEditors:z})=>{for(let{path:u,conf:M}of Y8(c,[])){if(G0(M))continue;let m=W(S({},a.address),{pathToProp:[...r,...u]}),p=Z4(t,u);z.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsStatic(W(S({},m),{value:a.getValueByPointer(p)}))}})}}),(!h||h&&d)&&l.push({label:"Sequence all",callback:()=>{Z().transaction(({stateEditors:z})=>{for(let{path:u,conf:M}of Y8(c,r)){if(G0(M))continue;let m=W(S({},a.address),{pathToProp:u});z.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsSequenced(m,c)}})}}),h){let z=Z0.prism.memo("controlIndicators",()=>t7.default.createElement(s41,{pointerToProp:t,obj:a,possibleSequenceTrackIds:n,listOfDescendantTrackIds:v}),[n,v]);return W(S({},i),{type:"HasSequences",controlIndicators:z})}else return W(S({},i),{type:"AllStatic",controlIndicators:t7.default.createElement(Y9,{hasStaticOverride:d,obj:a,pathToProp:r,propConfig:c})})},[])}function s41({pointerToProp:t,obj:a,possibleSequenceTrackIds:c,listOfDescendantTrackIds:r}){return v1(()=>{let e=(0,Z0.getPointerParts)(t).path,l=(0,Z0.val)(a.sheet.getSequence().positionPrism),i=r.map(d=>({trackId:d,track:(0,Z0.val)(a.template.project.pointers.historic.sheetsById[a.address.sheetId].sequence.tracksByObject[a.address.objectKey].trackData[d])})).filter(({track:d})=>!!d).map(d=>W(S({},d),{nearbies:Uo(a,{id:d.trackId,data:d.track,sheetObject:a},l)})),o=i.find(({nearbies:d})=>!!d.cur),n=i.every(({nearbies:d})=>!!d.cur),h=i.reduce((d,z)=>z.nearbies.prev&&(d===void 0||z.nearbies.prev.kf.position>d.kf.position)?z.nearbies.prev:d,void 0),v=i.reduce((d,z)=>z.nearbies.next&&(d===void 0||z.nearbies.next.kf.position<d.kf.position)?z.nearbies.next:d,void 0),g=()=>{n?Z().transaction(d=>{d.unset(t)}):o?Z().transaction(d=>{d.set(t,(0,Z0.val)(t))}):Z().transaction(d=>{d.set(t,(0,Z0.val)(t))})},s={cur:o?{type:"on",itemKey:c2.forCompoundPropAggregateKeyframe(a,e,l),toggle:g}:{toggle:g,type:"off"},prev:h!==void 0?{position:h.kf.position,itemKey:c2.forCompoundPropAggregateKeyframe(a,e,h.kf.position),jump:()=>{a.sheet.getSequence().position=h.kf.position}}:void 0,next:v!==void 0?{position:v.kf.position,itemKey:c2.forCompoundPropAggregateKeyframe(a,e,v.kf.position),jump:()=>{a.sheet.getSequence().position=v.kf.position}}:void 0};return t7.default.createElement(jo,S({},s))},[t,a,c,r])}var Z0,t7,wF=x(()=>{"use strict";m1();cr();M1();Z0=require("@theatre/dataverse");D7();t7=P(T());hu();L5();O4();rr();lr();su();zu()});function z41(){let t=0,a=new SF.Atom({hasLock:!1});return{replaceLock(c,r){let e=t++,l=a.get();return l.hasLock&&l.cleanup(),a.set({hasLock:!0,lockId:e,cleanup:r,deepPath:u41(BF(c))}),function(){let o=a.get();o.hasLock&&o.lockId===e&&(o.cleanup(),a.set({hasLock:!1}))}},getIsPropHighlightedD(c){let r=Z4(a.pointer.deepPath,BF(c));return(0,kF.prism)(()=>{let e=(0,yF.val)(r);return e===!0?"self":e?"descendent":null})}}}function BF(t){return[t.projectId,t.sheetId,t.objectKey,...t.pathToProp]}function u41(t){let a={};return i6(a,t,!0),a}var yF,SF,kF,tt,$o=x(()=>{"use strict";yF=require("@theatre/dataverse"),SF=require("@theatre/dataverse"),kF=require("@theatre/dataverse");rr();Qe();tt=z41()});function AF(t,a){return JSON.stringify(t,a,2).replace(/^([\{\[])\n (\s+)/,"$1$2").replace(/(\n[ ]+[\{\[])\n\s+/g,"$1 ").replace(/\n\s*([\]\}])/g," $1")}var RF=x(()=>{"use strict"});function uu(t,a=!0){try{return typeof t=="string"?t:typeof t=="function"||t instanceof Error?t.toString():a?AF(t):JSON.stringify(t)}catch(c){return(t==null?void 0:t.name)||String(t)}}var bF=x(()=>{"use strict";RF()});function IF(t,a,c){t||(arguments.length>2?FF(a,c):FF(a))}function FF(t,a){let c=arguments.length>1,r=uu(typeof t=="function"?t():t),e=c?"\nInstead found: ".concat(uu(a)):"";throw new pu("Invariant: ".concat(r).concat(e),a)}var p41,m41,M41,f41,pu,PF=x(()=>{"use strict";bF();p41=/^\s*at.+node:internal.+/gm,m41=/^\s*(at|[^@]+@) (?:Object\.)?invariant.+/gm,M41=/^\s*(at|[^@]+@).+test\-helpers.+/gm,f41=/^\s*(at|[^@]+@).+(debounce|invariant|iif)\.[tj]s.*/gm,pu=class extends Error{constructor(c,r){var e;super(c);y1(this,"found");r!==void 0&&(this.found=r),this.stack=(e=this.stack)==null?void 0:e.replace(m41,"").replace(f41,"").replace(M41,"").replace(p41,"")}}});function x41(t){return(0,at.prism)(()=>{if(Array.isArray(t)){let a=new Array(t.length);for(let c=0;c<t.length;c++)a[c]=t[c].getValue();return a}else{let a={};for(let c in t)a[c]=(0,at.val)(t[c]);return a}})}function ir(t){let a=$6.default.memo($6.default.forwardRef(function(r,e){let l=[],i={},o={ref:e};for(let g in r){let s=r[g];(0,at.isPrism)(s)?(l.push(s),i[g]=s):o[g]=s}let n=(0,$6.useRef)(l.length);IF(n.current===l.length,"expect same number of observable props on every invocation of deriver wrapped component.",{initial:n.current,count:l.length});let h=(0,$6.useMemo)(()=>x41(i),l),v=G8(h);return v&&$6.default.createElement(t,S(S({},o),v))}));return a.displayName="deriver(".concat(t.displayName,")"),a}var at,$6,mu=x(()=>{"use strict";at=require("@theatre/dataverse");M1();$6=P(T());PF()});function C41(t,a,c){return(0,o3.prism)(()=>{var z;let r=(0,o3.getPointerParts)(t).path,e=a.getValueByPointer(t),l=o3.prism.memo("editPropValue",()=>{let u=null;return{temporarilySetValue(M){u||(u=Z().scrub()),u.capture(m=>{m.set(t,M)})},discardTemporaryValue(){u&&(u.discard(),u=null)},permanentlySetValue(M){u?(u.capture(m=>{m.set(t,M)}),u.commit(),u=null):Z().transaction(m=>{m.set(t,M)})}}},[]),i={createAsset:u=>a.sheet.project.assetStorage.createAsset(u),getAssetUrl:u=>u.id?a.sheet.project.assetStorage.getAssetUrl(u.id):void 0},o=(0,o3.val)(D3(Z().atomP.ephemeral.projects.stateByProjectId[a.address.projectId].stateBySheetId[a.address.sheetId].stateByObjectKey[a.address.objectKey].valuesBeingScrubbed,(0,o3.getPointerParts)(t).path))===!0,n=[],h=W(S(S({},l),i),{value:e,beingScrubbed:o,contextMenuItems:n,controlIndicators:ct.default.createElement(ct.default.Fragment,null)}),v=Wb(c);if(v){let u=(0,o3.val)(a.template.getMapOfValidSequenceTracks_forStudio()),M=l3(u,r);if(typeof M=="string"){n.push({label:"Make static",callback:()=>{Z().transaction(({stateEditors:U})=>{let A=W(S({},a.address),{pathToProp:r});U.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsStatic(W(S({},A),{value:a.getValueByPointer(t)}))})}});let p=M,f=o3.prism.sub("lcr",()=>{let U=(0,o3.val)(a.template.project.pointers.historic.sheetsById[a.address.sheetId].sequence.tracksByObject[a.address.objectKey].trackData[p]),A=(0,o3.val)(a.sheet.getSequence().positionPrism);return Uo(a,U&&{data:U,id:p,sheetObject:a},A)},[p]),H;h.beingScrubbed?H="Sequenced_OnKeyframe_BeingScrubbed":f.cur?H="Sequenced_OnKeyframe":((z=f.prev)==null?void 0:z.kf.connectedRight)===!0?H="Sequenced_BeingInterpolated":H="Sequened_NotBeingInterpolated";let w=()=>{f.cur?Z().transaction(U=>{U.unset(t)}):Z().transaction(U=>{U.set(t,h.value)})},y={cur:f.cur?{type:"on",itemKey:f.cur.itemKey,toggle:w}:{type:"off",toggle:w},prev:f.prev!==void 0?{itemKey:f.prev.itemKey,position:f.prev.kf.position,jump:()=>{a.sheet.getSequence().position=f.prev.kf.position}}:void 0,next:f.next!==void 0?{itemKey:f.next.itemKey,position:f.next.kf.position,jump:()=>{a.sheet.getSequence().position=f.next.kf.position}}:void 0},k=ct.default.createElement(jo,S({},y));return W(S({},h),{type:"Sequenced",shade:H,nearbyKeyframes:f,controlIndicators:k})}}let g=(0,o3.val)(a.template.getStaticValues()),s=l3(g,r);return typeof s!="undefined"&&n.push({label:"Reset to default",callback:()=>{Z().transaction(({unset:u})=>{u(t)})}}),v&&n.push({label:"Sequence",callback:()=>{Z().transaction(({stateEditors:u})=>{let M=W(S({},a.address),{pathToProp:r});u.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsSequenced(M,c)})}}),typeof s!="undefined"?W(S({},h),{type:"Static",shade:h.beingScrubbed?"Static_BeingScrubbed":"Static",controlIndicators:ct.default.createElement(Y9,{hasStaticOverride:!0,obj:a,pathToProp:r,propConfig:c})}):W(S({},h),{type:"Default",shade:"Default",controlIndicators:ct.default.createElement(Y9,{hasStaticOverride:!0,obj:a,pathToProp:r,propConfig:c})})})}function L41(t,a,c){if(Mu.has(t))return Mu.get(t);{let r=C41(t,a,c);return Mu.set(t,r),r}}function rt(t,a,c){let r=L41(t,a,c);return G8(r)}var ct,o3,Mu,Qo=x(()=>{"use strict";D7();ct=P(T()),o3=require("@theatre/dataverse");m1();cr();M1();L5();hu();su();lr();Mu=new WeakMap});function R41({propConfig:t,pointerToProp:a,obj:c,SimpleEditorComponent:r}){let e=rt(a,c,t);return R2.default.createElement(fo,{editingTools:e,propConfig:t,value:e.value})}function F41({pointerToProp:t,obj:a,propConfig:c,visualIndentation:r}){var p;let e=(p=c.label)!=null?p:f3((0,et.getPointerParts)(t).path),l=Object.entries(c.props),i=l.filter(([f,H])=>G0(H)),o=l.filter(([f,H])=>!G0(H)),[n,h]=z1(null),v=VF(t,a,c),[g]=Z1(h,{menuItems:v.contextMenuItems}),s=i.length>0,d=(0,R2.useMemo)(()=>tt.getIsPropHighlightedD(W(S({},a.address),{pathToProp:(0,et.getPointerParts)(t).path})),[t]),z="".concat(a.address.projectId,",").concat(a.address.sheetId,",").concat(a.address.sheetInstanceId,",").concat(a.address.objectKey,",").concat((0,et.getPointerParts)(t).path.join()),u=A41(c);(0,R2.useLayoutEffect)(()=>{fu.has(z)||fu.set(z,new et.Atom(u))},[z,c]);let M=fu.get(z),m=v1(()=>M?(0,jF.val)(M.pointer):u,[M]);return R2.default.createElement(H41,null,g,R2.default.createElement(qF,{style:{"--depth":r-1}},R2.default.createElement(V41,{isVectorProp:u},R2.default.createElement(w41,null,v.controlIndicators),R2.default.createElement(B41,{isHighlighted:d,ref:n},R2.default.createElement("span",null,e||"Props")),R2.default.createElement(y41,{isCollapsed:m,isVector:u,onClick:()=>{M==null||M.set(!M.get())}},R2.default.createElement(xo,null))),u&&m&&R2.default.createElement(b41,null,[...l].map(([f,H])=>R2.default.createElement(R41,{key:"prop-"+f,propConfig:H,pointerToProp:t[f],obj:a})))),!m&&R2.default.createElement(k41,{style:{"--depth":r},depth:r,lastSubIsComposite:s},[...o,...i].map(([f,H])=>R2.default.createElement(Xo,{key:"prop-"+f,propConfig:H,pointerToProp:t[f],obj:a,visualIndentation:r+1}))))}var et,R2,jF,GF,H41,TF,qF,ZF,V41,OF,w41,EF,B41,DF,y41,S41,WF,k41,A41,_F,b41,NF,fu,UF=x(()=>{"use strict";L5();et=require("@theatre/dataverse");ma();R0();R2=P(T());a1();au();N6();G1();P1();xu();v0();wF();$o();mu();Iz();Qo();M1();jF=require("@theatre/dataverse");K8();Jc();H41=B.div(GF||(GF=V(["\n  --step: 15px;\n  --left-pad: 15px;\n  ",";\n  --right-width: 60%;\n"])),x1),qF=B.div(TF||(TF=V(["\n  height: 30px;\n  display: flex;\n  align-items: stretch;\n  position: relative;\n"]))),V41=B.div(ZF||(ZF=V(["\n  padding-left: ",";\n  display: flex;\n  align-items: center;\n  overflow: hidden;\n  ",";\n"])),Go,({isVectorProp:t})=>t?"width: calc(100% - var(--right-width))":""),w41=B.div(OF||(OF=V(["\n  flexshrink: 0;\n"]))),B41=ir(B.div(EF||(EF=V(["\n  margin-left: 4px;\n  cursor: default;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  user-select: none;\n  &:hover {\n    color: white;\n  }\n  overflow: hidden;\n\n  ",";\n"])),()=>T0)),y41=B.span(DF||(DF=V(["\n  width: 28px;\n  height: 28px;\n  font-size: 9px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  transition: transform 0.05s ease-out, color 0.1s ease-out;\n  transform: rotateZ(","deg);\n  color: #66686a;\n\n  visibility: ",";\n\n  ",":hover & {\n    visibility: visible;\n  }\n\n  &:hover {\n    transform: rotateZ(","deg);\n    color: #c0c4c9;\n  }\n"])),t=>t.isCollapsed?0:90,t=>!t.isVector&&t.isCollapsed||t.isVector&&!t.isCollapsed?"visible":"hidden",qF,t=>t.isCollapsed?15:75),S41=N2(.05,"#282b2f"),k41=B.div(WF||(WF=V(["\n  /* background: ","; */\n  /* padding: "," 0; */\n"])),({depth:t})=>A6(t*.03,S41),t=>t.lastSubIsComposite?0:"4px"),A41=T4(t=>{let a=Object.entries(t.props);return a.length<=3&&a.every(([c,r])=>r.type==="number"&&["x","y","z"].includes(c))});b41=B.div(_F||(_F=V(["\n  display: flex;\n  align-items: center;\n  justify-content: stretch;\n  padding: 0 8px 0 2px;\n  box-sizing: border-box;\n  height: 100%;\n  width: var(--right-width);\n  flex-shrink: 0;\n  flex-grow: 0;\n"])));NF=R2.default.memo(F41),fu=new Map});function KF({isHighlighted:t}){return t==="self"?"#1857a4":t==="descendent"?"#0a2f5c":"initial"}var $F=x(()=>{"use strict"});function aI({propConfig:t,pointerToProp:a,editingTools:c,children:r,isPropHighlightedD:e}){var h;let l=(h=t.label)!=null?h:f3((0,Cu.getPointerParts)(a).path),[i,o]=z1(null),[n]=Z1(o,{menuItems:c.contextMenuItems});return lt.default.createElement(I41,{isHighlighted:e},n,lt.default.createElement(P41,null,lt.default.createElement(T41,null,c.controlIndicators),lt.default.createElement(G41,{isHighlighted:e,ref:i,title:["obj","props",...(0,Cu.getPointerParts)(a).path].join(".")},l)),lt.default.createElement(Z41,null,r))}var Cu,lt,QF,I41,XF,P41,YF,G41,JF,T41,tI,Z41,cI=x(()=>{"use strict";Cu=require("@theatre/dataverse");v0();P1();H2();lt=P(T());a1();G1();N6();mu();au();$F();I41=ir(B.div(QF||(QF=V(["\n  display: flex;\n  height: 30px;\n  justify-content: flex-start;\n  align-items: stretch;\n  // We cannot calculate both the container (details panel) width and the descendant\n  // (this) width dynamically. This leads to the container width being calculated\n  // without this percentage being taken into consideration leads to horizontal\n  // clipping/scrolling--the same way as if we explicitly fixed either the container\n  // width, or the descendant width.\n  // The correct solution for tabulated UIs with dynamic container widths is to use\n  // CSS grid. For now I fixed this issue by just giving a great enough width\n  // to the details panel so most things don't break.\n  --right-width: 60%;\n  position: relative;\n  ",";\n\n  /* background-color: ","; */\n"])),x1,KF)),P41=B.div(XF||(XF=V(["\n  box-sizing: border-box;\n  padding-left: ",";\n  padding-right: 4px;\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: stretch;\n  gap: 4px;\n  flex-grow: 0;\n  flex-shrink: 0;\n  width: calc(100% - var(--right-width));\n"])),Go),G41=ir(B.div(YF||(YF=V(["\n  text-align: left;\n  flex: 1 0;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: flex;\n  align-items: center;\n  user-select: none;\n  cursor: default;\n\n  ",";\n  &:hover {\n    color: white;\n  }\n"])),T0)),T41=B.div(JF||(JF=V(["\n  flex-basis: 8px;\n  flex: 0 0;\n  display: flex;\n  align-items: center;\n"]))),Z41=B.div(tI||(tI=V(["\n  display: flex;\n  align-items: center;\n  justify-content: stretch;\n  padding: 0 8px 0 2px;\n  box-sizing: border-box;\n  height: 100%;\n  width: var(--right-width);\n  flex-shrink: 0;\n  flex-grow: 0;\n"])))});function O41({propConfig:t,pointerToProp:a,obj:c,SimpleEditorComponent:r}){let e=rt(a,c,t),l=(0,it.useMemo)(()=>tt.getIsPropHighlightedD(W(S({},c.address),{pathToProp:(0,rI.getPointerParts)(a).path})),[a]);return it.default.createElement(aI,{editingTools:e,propConfig:t,pointerToProp:a,isPropHighlightedD:l},it.default.createElement(r,{editingTools:e,propConfig:t,value:e.value}))}var it,rI,eI,lI=x(()=>{"use strict";it=P(T());Qo();cI();rI=require("@theatre/dataverse");$o();eI=it.default.memo(O41)});var or,E41,Xo,xu=x(()=>{"use strict";or=P(T());Jz();UF();lI();E41=({propConfig:t,visualIndentation:a,pointerToProp:c,obj:r})=>{if(t.type==="compound")return or.default.createElement(NF,{obj:r,visualIndentation:a,pointerToProp:c,propConfig:t});if(t.type==="enum")return or.default.createElement(or.default.Fragment,null);{let e=Po[t.type];return or.default.createElement(eI,{SimpleEditorComponent:e,obj:r,visualIndentation:a,pointerToProp:c,propConfig:t})}},Xo=E41});function nr(t){return Lu.has(t)||Lu.set(t,(D41++).toString()),Lu.get(t)}var Lu,D41,Hu=x(()=>{"use strict";Lu=new WeakMap,D41=0});var ot,iI,W41,oI,_41,j41,nI,hI=x(()=>{"use strict";ot=P(T());xu();M1();Hu();a1();W41=B.div(iI||(iI=V(["\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n  padding: 8px;\n"]))),_41=B.button(oI||(oI=V(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  outline: none;\n  border-radius: 2px;\n\n  color: #a8a8a9;\n  background: rgba(255, 255, 255, 0.1);\n\n  border: none;\n  height: 28px;\n\n  &:hover {\n    background: rgba(255, 255, 255, 0.15);\n  }\n\n  &:active {\n    background: rgba(255, 255, 255, 0.2);\n  }\n"]))),j41=({objects:t})=>{let a=t[0],c=s1(a.template.configPointer),r=s1(a.template._temp_actionsPointer);return ot.default.createElement(ot.default.Fragment,null,ot.default.createElement(Xo,{key:nr(a),obj:a,pointerToProp:a.propsP,propConfig:c,visualIndentation:1}),ot.default.createElement(W41,null,r&&Object.entries(r).map(([e,l])=>ot.default.createElement(_41,{key:e,onClick:()=>{l(a.publicApi)}},e))))},nI=j41});var vI,q41,hr,Vu=x(()=>{"use strict";a1();q41=B.button(vI||(vI=V(["\n  text-align: center;\n  padding: 8px;\n  border-radius: 2px;\n  border: 1px solid #627b7b87;\n  background-color: #4b787d3d;\n  color: #eaeaea;\n  font-weight: 400;\n  display: block;\n  appearance: none;\n  flex-grow: 1;\n  cursor: ",";\n  opacity: ",";\n\n  &:hover {\n    background-color: #7dc1c878;\n    border-color: #9ebcbf;\n  }\n"])),t=>t.disabled?"none":"pointer",t=>t.disabled?.4:1),hr=q41});var gI=x(()=>{});var dI,sI=x(()=>{gI();dI=(t=21)=>{let a="",c=crypto.getRandomValues(new Uint8Array(t));for(;t--;){let r=c[t]&63;r<36?a+=r.toString(36):r<62?a+=(r-26).toString(36).toUpperCase():r<63?a+="_":a+="-"}return a}});function Yo(){return dI(16)}var wu=x(()=>{"use strict";sI()});var zI,O0,uI,N41,pI,U41,mI,Bu=x(()=>{"use strict";zI=require("@theatre/dataverse");P1();O0=P(T()),uI=(0,O0.createContext)(null),N41=0,pI=()=>{let t=(0,O0.useMemo)(()=>N41++,[]),{cur:a,set:c}=(0,O0.useContext)(uI),[r,e]=z1(!1),l=(0,O0.useCallback)((i,o)=>{c(i?t:-1,o)},[]);return(0,O0.useEffect)(()=>a.onStale(()=>{let i=a.getValue()===t;r.current!==i&&(r.current=i)}),[a,t]),[e,l]},U41=({children:t})=>{let a=(0,O0.useMemo)(()=>new zI.Atom(-1),[]),c=a.prism,r=(0,O0.useMemo)(()=>{let e;return(l,i)=>{let o=e!==void 0;e!==void 0&&(clearTimeout(e),e=void 0),i===0||o?a.set(l):e=setTimeout(()=>{a.set(l),e=void 0},i)}},[]);return O0.default.createElement(uI.Provider,{value:{cur:c,set:r}},t)},mI=U41});function R3(t,a){let c=t.enabled!==!1,[r,e]=pI(),[l,i]=z1(null);(0,fI.useEffect)(()=>{if(!c)return;let h=l.current;if(!h)return;let v=()=>{var s;return e(!0,(s=t.enterDelay)!=null?s:400)},g=()=>{var s;return e(!1,(s=t.exitDelay)!=null?s:200)};return h.addEventListener("mouseenter",v),h.addEventListener("mouseleave",g),()=>{h.removeEventListener("mouseenter",v),h.removeEventListener("mouseleave",g)}},[l,c,t.enterDelay,t.exitDelay]);let o=(0,MI.useContext)(a3);return[c&&r&&i?(0,xI.createPortal)(Jo.default.createElement(bo,{children:a,target:i,onClickOutside:h0,verticalPlacement:t.verticalPlacement,verticalGap:t.verticalGap}),o):Jo.default.createElement(Jo.default.Fragment,null),l,r]}var MI,fI,Jo,xI,nt=x(()=>{"use strict";P1();MI=P(T()),fI=P(T()),Jo=P(T());Xz();xI=P(B4());Bu();T6();W8()});var CI,K41,V5,vr=x(()=>{"use strict";a1();e4();K41=B(T2)(CI||(CI=V(["\n  padding: 1em;\n  max-width: 240px;\n  pointer-events: none !important;\n  --popover-outer-stroke: transparent;\n  --popover-inner-stroke: #45464d;\n"]))),V5=K41});var E4,LI,$41,HI,Q41,VI,X41,Y41,J41,wI,BI=x(()=>{"use strict";M1();m1();E4=P(T());a1();wu();nt();vr();Vu();$41=B.div(LI||(LI=V(["\n  padding: 8px 10px;\n  position: relative;\n  background-color: #6d232352;\n  &:before {\n    position: absolute;\n    content: ' ';\n    display: block;\n    left: 0;\n    top: 0;\n    bottom: 0;\n    width: 2px;\n    background-color: #ff000070;\n  }\n"]))),Q41=B.div(HI||(HI=V(["\n  margin-bottom: 1em;\n  & a {\n    color: inherit;\n  }\n"]))),X41=B.div(VI||(VI=V(["\n  display: flex;\n  gap: 8px;\n"]))),Y41=({projectId:t})=>{let a=s1(Z().atomP.ephemeral.coreByProject[t].loadingState);return a&&a.type==="browserStateIsNotBasedOnDiskState"?E4.default.createElement(J41,{loadingState:a,projectId:t}):null},J41=({projectId:t,loadingState:a})=>{let c=()=>{Z().transaction(({drafts:n,stateEditors:h})=>{h.coreByProject.historic.revisionHistory.add({projectId:t,revision:a.onDiskState.revisionHistory[0]}),h.coreByProject.historic.revisionHistory.add({projectId:t,revision:Yo()}),n.ephemeral.coreByProject[t].loadingState={type:"loaded"}})},r=()=>{Z().transaction(({drafts:n})=>{n.historic.coreByProject[t]=a.onDiskState,n.ephemeral.coreByProject[t].loadingState={type:"loaded"}})},[e,l]=R3({},()=>E4.default.createElement(V5,null,"The browser's state will override the disk state.")),[i,o]=R3({},()=>E4.default.createElement(V5,null,"The disk's state will override the browser's state."));return E4.default.createElement($41,null,E4.default.createElement(Q41,null,"Browser state is not based on disk state."," ",E4.default.createElement("a",{href:"https://www.theatrejs.com/docs/latest/manual/projects#state",target:"_blank"},"Learn more.")),E4.default.createElement(X41,null,e,E4.default.createElement(hr,{onClick:c,ref:l},"Use browser's state"),i,E4.default.createElement(hr,{onClick:r,ref:o},"Use disk state")))},wI=Y41});var SI=L1((yI,yu)=>{(function(t){typeof yI=="object"&&typeof yu!="undefined"?yu.exports=t():typeof define=="function"&&define.amd?define([],t):(typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:this).JSZip=t()})(function(){return function t(a,c,r){function e(o,n){if(!c[o]){if(!a[o]){var h=typeof require=="function"&&require;if(!n&&h)return h(o,!0);if(l)return l(o,!0);var v=new Error("Cannot find module '"+o+"'");throw v.code="MODULE_NOT_FOUND",v}var g=c[o]={exports:{}};a[o][0].call(g.exports,function(s){var d=a[o][1][s];return e(d||s)},g,g.exports,t,a,c,r)}return c[o].exports}for(var l=typeof require=="function"&&require,i=0;i<r.length;i++)e(r[i]);return e}({1:[function(t,a,c){"use strict";var r=t("./utils"),e=t("./support"),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";c.encode=function(i){for(var o,n,h,v,g,s,d,z=[],u=0,M=i.length,m=M,p=r.getTypeOf(i)!=="string";u<i.length;)m=M-u,h=p?(o=i[u++],n=u<M?i[u++]:0,u<M?i[u++]:0):(o=i.charCodeAt(u++),n=u<M?i.charCodeAt(u++):0,u<M?i.charCodeAt(u++):0),v=o>>2,g=(3&o)<<4|n>>4,s=1<m?(15&n)<<2|h>>6:64,d=2<m?63&h:64,z.push(l.charAt(v)+l.charAt(g)+l.charAt(s)+l.charAt(d));return z.join("")},c.decode=function(i){var o,n,h,v,g,s,d=0,z=0,u="data:";if(i.substr(0,u.length)===u)throw new Error("Invalid base64 input, it looks like a data url.");var M,m=3*(i=i.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(i.charAt(i.length-1)===l.charAt(64)&&m--,i.charAt(i.length-2)===l.charAt(64)&&m--,m%1!=0)throw new Error("Invalid base64 input, bad content length.");for(M=e.uint8array?new Uint8Array(0|m):new Array(0|m);d<i.length;)o=l.indexOf(i.charAt(d++))<<2|(v=l.indexOf(i.charAt(d++)))>>4,n=(15&v)<<4|(g=l.indexOf(i.charAt(d++)))>>2,h=(3&g)<<6|(s=l.indexOf(i.charAt(d++))),M[z++]=o,g!==64&&(M[z++]=n),s!==64&&(M[z++]=h);return M}},{"./support":30,"./utils":32}],2:[function(t,a,c){"use strict";var r=t("./external"),e=t("./stream/DataWorker"),l=t("./stream/Crc32Probe"),i=t("./stream/DataLengthProbe");function o(n,h,v,g,s){this.compressedSize=n,this.uncompressedSize=h,this.crc32=v,this.compression=g,this.compressedContent=s}o.prototype={getContentWorker:function(){var n=new e(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new i("data_length")),h=this;return n.on("end",function(){if(this.streamInfo.data_length!==h.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),n},getCompressedWorker:function(){return new e(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},o.createWorkerFrom=function(n,h,v){return n.pipe(new l).pipe(new i("uncompressedSize")).pipe(h.compressWorker(v)).pipe(new i("compressedSize")).withStreamInfo("compression",h)},a.exports=o},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,a,c){"use strict";var r=t("./stream/GenericWorker");c.STORE={magic:"\0\0",compressWorker:function(){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},c.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,a,c){"use strict";var r=t("./utils"),e=function(){for(var l,i=[],o=0;o<256;o++){l=o;for(var n=0;n<8;n++)l=1&l?3988292384^l>>>1:l>>>1;i[o]=l}return i}();a.exports=function(l,i){return l!==void 0&&l.length?r.getTypeOf(l)!=="string"?function(o,n,h,v){var g=e,s=v+h;o^=-1;for(var d=v;d<s;d++)o=o>>>8^g[255&(o^n[d])];return-1^o}(0|i,l,l.length,0):function(o,n,h,v){var g=e,s=v+h;o^=-1;for(var d=v;d<s;d++)o=o>>>8^g[255&(o^n.charCodeAt(d))];return-1^o}(0|i,l,l.length,0):0}},{"./utils":32}],5:[function(t,a,c){"use strict";c.base64=!1,c.binary=!1,c.dir=!1,c.createFolders=!0,c.date=null,c.compression=null,c.compressionOptions=null,c.comment=null,c.unixPermissions=null,c.dosPermissions=null},{}],6:[function(t,a,c){"use strict";var r=null;r=typeof Promise!="undefined"?Promise:t("lie"),a.exports={Promise:r}},{lie:37}],7:[function(t,a,c){"use strict";var r=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Uint32Array!="undefined",e=t("pako"),l=t("./utils"),i=t("./stream/GenericWorker"),o=r?"uint8array":"array";function n(h,v){i.call(this,"FlateWorker/"+h),this._pako=null,this._pakoAction=h,this._pakoOptions=v,this.meta={}}c.magic="\b\0",l.inherits(n,i),n.prototype.processChunk=function(h){this.meta=h.meta,this._pako===null&&this._createPako(),this._pako.push(l.transformTo(o,h.data),!1)},n.prototype.flush=function(){i.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},n.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this._pako=null},n.prototype._createPako=function(){this._pako=new e[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var h=this;this._pako.onData=function(v){h.push({data:v,meta:h.meta})}},c.compressWorker=function(h){return new n("Deflate",h)},c.uncompressWorker=function(){return new n("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,a,c){"use strict";function r(g,s){var d,z="";for(d=0;d<s;d++)z+=String.fromCharCode(255&g),g>>>=8;return z}function e(g,s,d,z,u,M){var m,p,f=g.file,H=g.compression,w=M!==o.utf8encode,y=l.transformTo("string",M(f.name)),k=l.transformTo("string",o.utf8encode(f.name)),I=f.comment,U=l.transformTo("string",M(I)),A=l.transformTo("string",o.utf8encode(I)),G=k.length!==f.name.length,C=A.length!==I.length,E="",t1="",F="",X=f.dir,D=f.date,c1={crc32:0,compressedSize:0,uncompressedSize:0};s&&!d||(c1.crc32=g.crc32,c1.compressedSize=g.compressedSize,c1.uncompressedSize=g.uncompressedSize);var j=0;s&&(j|=8),w||!G&&!C||(j|=2048);var _=0,g1=0;X&&(_|=16),u==="UNIX"?(g1=798,_|=function(K,h1){var C1=K;return K||(C1=h1?16893:33204),(65535&C1)<<16}(f.unixPermissions,X)):(g1=20,_|=function(K){return 63&(K||0)}(f.dosPermissions)),m=D.getUTCHours(),m<<=6,m|=D.getUTCMinutes(),m<<=5,m|=D.getUTCSeconds()/2,p=D.getUTCFullYear()-1980,p<<=4,p|=D.getUTCMonth()+1,p<<=5,p|=D.getUTCDate(),G&&(t1=r(1,1)+r(n(y),4)+k,E+="up"+r(t1.length,2)+t1),C&&(F=r(1,1)+r(n(U),4)+A,E+="uc"+r(F.length,2)+F);var Q="";return Q+="\n\0",Q+=r(j,2),Q+=H.magic,Q+=r(m,2),Q+=r(p,2),Q+=r(c1.crc32,4),Q+=r(c1.compressedSize,4),Q+=r(c1.uncompressedSize,4),Q+=r(y.length,2),Q+=r(E.length,2),{fileRecord:h.LOCAL_FILE_HEADER+Q+y+E,dirRecord:h.CENTRAL_FILE_HEADER+r(g1,2)+Q+r(U.length,2)+"\0\0\0\0"+r(_,4)+r(z,4)+y+E+U}}var l=t("../utils"),i=t("../stream/GenericWorker"),o=t("../utf8"),n=t("../crc32"),h=t("../signature");function v(g,s,d,z){i.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=s,this.zipPlatform=d,this.encodeFileName=z,this.streamFiles=g,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}l.inherits(v,i),v.prototype.push=function(g){var s=g.meta.percent||0,d=this.entriesCount,z=this._sources.length;this.accumulate?this.contentBuffer.push(g):(this.bytesWritten+=g.data.length,i.prototype.push.call(this,{data:g.data,meta:{currentFile:this.currentFile,percent:d?(s+100*(d-z-1))/d:100}}))},v.prototype.openedSource=function(g){this.currentSourceOffset=this.bytesWritten,this.currentFile=g.file.name;var s=this.streamFiles&&!g.file.dir;if(s){var d=e(g,s,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:d.fileRecord,meta:{percent:0}})}else this.accumulate=!0},v.prototype.closedSource=function(g){this.accumulate=!1;var s=this.streamFiles&&!g.file.dir,d=e(g,s,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(d.dirRecord),s)this.push({data:function(z){return h.DATA_DESCRIPTOR+r(z.crc32,4)+r(z.compressedSize,4)+r(z.uncompressedSize,4)}(g),meta:{percent:100}});else for(this.push({data:d.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},v.prototype.flush=function(){for(var g=this.bytesWritten,s=0;s<this.dirRecords.length;s++)this.push({data:this.dirRecords[s],meta:{percent:100}});var d=this.bytesWritten-g,z=function(u,M,m,p,f){var H=l.transformTo("string",f(p));return h.CENTRAL_DIRECTORY_END+"\0\0\0\0"+r(u,2)+r(u,2)+r(M,4)+r(m,4)+r(H.length,2)+H}(this.dirRecords.length,d,g,this.zipComment,this.encodeFileName);this.push({data:z,meta:{percent:100}})},v.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},v.prototype.registerPrevious=function(g){this._sources.push(g);var s=this;return g.on("data",function(d){s.processChunk(d)}),g.on("end",function(){s.closedSource(s.previous.streamInfo),s._sources.length?s.prepareNextSource():s.end()}),g.on("error",function(d){s.error(d)}),this},v.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},v.prototype.error=function(g){var s=this._sources;if(!i.prototype.error.call(this,g))return!1;for(var d=0;d<s.length;d++)try{s[d].error(g)}catch(z){}return!0},v.prototype.lock=function(){i.prototype.lock.call(this);for(var g=this._sources,s=0;s<g.length;s++)g[s].lock()},a.exports=v},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,a,c){"use strict";var r=t("../compressions"),e=t("./ZipFileWorker");c.generateWorker=function(l,i,o){var n=new e(i.streamFiles,o,i.platform,i.encodeFileName),h=0;try{l.forEach(function(v,g){h++;var s=function(M,m){var p=M||m,f=r[p];if(!f)throw new Error(p+" is not a valid compression method !");return f}(g.options.compression,i.compression),d=g.options.compressionOptions||i.compressionOptions||{},z=g.dir,u=g.date;g._compressWorker(s,d).withStreamInfo("file",{name:v,dir:z,date:u,comment:g.comment||"",unixPermissions:g.unixPermissions,dosPermissions:g.dosPermissions}).pipe(n)}),n.entriesCount=h}catch(v){n.error(v)}return n}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,a,c){"use strict";function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var e=new r;for(var l in this)typeof this[l]!="function"&&(e[l]=this[l]);return e}}(r.prototype=t("./object")).loadAsync=t("./load"),r.support=t("./support"),r.defaults=t("./defaults"),r.version="3.10.1",r.loadAsync=function(e,l){return new r().loadAsync(e,l)},r.external=t("./external"),a.exports=r},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,a,c){"use strict";var r=t("./utils"),e=t("./external"),l=t("./utf8"),i=t("./zipEntries"),o=t("./stream/Crc32Probe"),n=t("./nodejsUtils");function h(v){return new e.Promise(function(g,s){var d=v.decompressed.getContentWorker().pipe(new o);d.on("error",function(z){s(z)}).on("end",function(){d.streamInfo.crc32!==v.decompressed.crc32?s(new Error("Corrupted zip : CRC32 mismatch")):g()}).resume()})}a.exports=function(v,g){var s=this;return g=r.extend(g||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:l.utf8decode}),n.isNode&&n.isStream(v)?e.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",v,!0,g.optimizedBinaryString,g.base64).then(function(d){var z=new i(g);return z.load(d),z}).then(function(d){var z=[e.Promise.resolve(d)],u=d.files;if(g.checkCRC32)for(var M=0;M<u.length;M++)z.push(h(u[M]));return e.Promise.all(z)}).then(function(d){for(var z=d.shift(),u=z.files,M=0;M<u.length;M++){var m=u[M],p=m.fileNameStr,f=r.resolve(m.fileNameStr);s.file(f,m.decompressed,{binary:!0,optimizedBinaryString:!0,date:m.date,dir:m.dir,comment:m.fileCommentStr.length?m.fileCommentStr:null,unixPermissions:m.unixPermissions,dosPermissions:m.dosPermissions,createFolders:g.createFolders}),m.dir||(s.file(f).unsafeOriginalName=p)}return z.zipComment.length&&(s.comment=z.zipComment),s})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,a,c){"use strict";var r=t("../utils"),e=t("../stream/GenericWorker");function l(i,o){e.call(this,"Nodejs stream input adapter for "+i),this._upstreamEnded=!1,this._bindStream(o)}r.inherits(l,e),l.prototype._bindStream=function(i){var o=this;(this._stream=i).pause(),i.on("data",function(n){o.push({data:n,meta:{percent:0}})}).on("error",function(n){o.isPaused?this.generatedError=n:o.error(n)}).on("end",function(){o.isPaused?o._upstreamEnded=!0:o.end()})},l.prototype.pause=function(){return!!e.prototype.pause.call(this)&&(this._stream.pause(),!0)},l.prototype.resume=function(){return!!e.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},a.exports=l},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,a,c){"use strict";var r=t("readable-stream").Readable;function e(l,i,o){r.call(this,i),this._helper=l;var n=this;l.on("data",function(h,v){n.push(h)||n._helper.pause(),o&&o(v)}).on("error",function(h){n.emit("error",h)}).on("end",function(){n.push(null)})}t("../utils").inherits(e,r),e.prototype._read=function(){this._helper.resume()},a.exports=e},{"../utils":32,"readable-stream":16}],14:[function(t,a,c){"use strict";a.exports={isNode:typeof Buffer!="undefined",newBufferFrom:function(r,e){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(r,e);if(typeof r=="number")throw new Error('The "data" argument must not be a number');return new Buffer(r,e)},allocBuffer:function(r){if(Buffer.alloc)return Buffer.alloc(r);var e=new Buffer(r);return e.fill(0),e},isBuffer:function(r){return Buffer.isBuffer(r)},isStream:function(r){return r&&typeof r.on=="function"&&typeof r.pause=="function"&&typeof r.resume=="function"}}},{}],15:[function(t,a,c){"use strict";function r(f,H,w){var y,k=l.getTypeOf(H),I=l.extend(w||{},n);I.date=I.date||new Date,I.compression!==null&&(I.compression=I.compression.toUpperCase()),typeof I.unixPermissions=="string"&&(I.unixPermissions=parseInt(I.unixPermissions,8)),I.unixPermissions&&16384&I.unixPermissions&&(I.dir=!0),I.dosPermissions&&16&I.dosPermissions&&(I.dir=!0),I.dir&&(f=u(f)),I.createFolders&&(y=z(f))&&M.call(this,y,!0);var U=k==="string"&&I.binary===!1&&I.base64===!1;w&&w.binary!==void 0||(I.binary=!U),(H instanceof h&&H.uncompressedSize===0||I.dir||!H||H.length===0)&&(I.base64=!1,I.binary=!0,H="",I.compression="STORE",k="string");var A=null;A=H instanceof h||H instanceof i?H:s.isNode&&s.isStream(H)?new d(f,H):l.prepareContent(f,H,I.binary,I.optimizedBinaryString,I.base64);var G=new v(f,A,I);this.files[f]=G}var e=t("./utf8"),l=t("./utils"),i=t("./stream/GenericWorker"),o=t("./stream/StreamHelper"),n=t("./defaults"),h=t("./compressedObject"),v=t("./zipObject"),g=t("./generate"),s=t("./nodejsUtils"),d=t("./nodejs/NodejsStreamInputAdapter"),z=function(f){f.slice(-1)==="/"&&(f=f.substring(0,f.length-1));var H=f.lastIndexOf("/");return 0<H?f.substring(0,H):""},u=function(f){return f.slice(-1)!=="/"&&(f+="/"),f},M=function(f,H){return H=H!==void 0?H:n.createFolders,f=u(f),this.files[f]||r.call(this,f,null,{dir:!0,createFolders:H}),this.files[f]};function m(f){return Object.prototype.toString.call(f)==="[object RegExp]"}var p={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(f){var H,w,y;for(H in this.files)y=this.files[H],(w=H.slice(this.root.length,H.length))&&H.slice(0,this.root.length)===this.root&&f(w,y)},filter:function(f){var H=[];return this.forEach(function(w,y){f(w,y)&&H.push(y)}),H},file:function(f,H,w){if(arguments.length!==1)return f=this.root+f,r.call(this,f,H,w),this;if(m(f)){var y=f;return this.filter(function(I,U){return!U.dir&&y.test(I)})}var k=this.files[this.root+f];return k&&!k.dir?k:null},folder:function(f){if(!f)return this;if(m(f))return this.filter(function(k,I){return I.dir&&f.test(k)});var H=this.root+f,w=M.call(this,H),y=this.clone();return y.root=w.name,y},remove:function(f){f=this.root+f;var H=this.files[f];if(H||(f.slice(-1)!=="/"&&(f+="/"),H=this.files[f]),H&&!H.dir)delete this.files[f];else for(var w=this.filter(function(k,I){return I.name.slice(0,f.length)===f}),y=0;y<w.length;y++)delete this.files[w[y].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(f){var H,w={};try{if((w=l.extend(f||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:e.utf8encode})).type=w.type.toLowerCase(),w.compression=w.compression.toUpperCase(),w.type==="binarystring"&&(w.type="string"),!w.type)throw new Error("No output type specified.");l.checkSupport(w.type),w.platform!=="darwin"&&w.platform!=="freebsd"&&w.platform!=="linux"&&w.platform!=="sunos"||(w.platform="UNIX"),w.platform==="win32"&&(w.platform="DOS");var y=w.comment||this.comment||"";H=g.generateWorker(this,w,y)}catch(k){(H=new i("error")).error(k)}return new o(H,w.type||"string",w.mimeType)},generateAsync:function(f,H){return this.generateInternalStream(f).accumulate(H)},generateNodeStream:function(f,H){return(f=f||{}).type||(f.type="nodebuffer"),this.generateInternalStream(f).toNodejsStream(H)}};a.exports=p},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,a,c){"use strict";a.exports=t("stream")},{stream:void 0}],17:[function(t,a,c){"use strict";var r=t("./DataReader");function e(l){r.call(this,l);for(var i=0;i<this.data.length;i++)l[i]=255&l[i]}t("../utils").inherits(e,r),e.prototype.byteAt=function(l){return this.data[this.zero+l]},e.prototype.lastIndexOfSignature=function(l){for(var i=l.charCodeAt(0),o=l.charCodeAt(1),n=l.charCodeAt(2),h=l.charCodeAt(3),v=this.length-4;0<=v;--v)if(this.data[v]===i&&this.data[v+1]===o&&this.data[v+2]===n&&this.data[v+3]===h)return v-this.zero;return-1},e.prototype.readAndCheckSignature=function(l){var i=l.charCodeAt(0),o=l.charCodeAt(1),n=l.charCodeAt(2),h=l.charCodeAt(3),v=this.readData(4);return i===v[0]&&o===v[1]&&n===v[2]&&h===v[3]},e.prototype.readData=function(l){if(this.checkOffset(l),l===0)return[];var i=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,i},a.exports=e},{"../utils":32,"./DataReader":18}],18:[function(t,a,c){"use strict";var r=t("../utils");function e(l){this.data=l,this.length=l.length,this.index=0,this.zero=0}e.prototype={checkOffset:function(l){this.checkIndex(this.index+l)},checkIndex:function(l){if(this.length<this.zero+l||l<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+l+"). Corrupted zip ?")},setIndex:function(l){this.checkIndex(l),this.index=l},skip:function(l){this.setIndex(this.index+l)},byteAt:function(){},readInt:function(l){var i,o=0;for(this.checkOffset(l),i=this.index+l-1;i>=this.index;i--)o=(o<<8)+this.byteAt(i);return this.index+=l,o},readString:function(l){return r.transformTo("string",this.readData(l))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var l=this.readInt(4);return new Date(Date.UTC(1980+(l>>25&127),(l>>21&15)-1,l>>16&31,l>>11&31,l>>5&63,(31&l)<<1))}},a.exports=e},{"../utils":32}],19:[function(t,a,c){"use strict";var r=t("./Uint8ArrayReader");function e(l){r.call(this,l)}t("../utils").inherits(e,r),e.prototype.readData=function(l){this.checkOffset(l);var i=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,i},a.exports=e},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,a,c){"use strict";var r=t("./DataReader");function e(l){r.call(this,l)}t("../utils").inherits(e,r),e.prototype.byteAt=function(l){return this.data.charCodeAt(this.zero+l)},e.prototype.lastIndexOfSignature=function(l){return this.data.lastIndexOf(l)-this.zero},e.prototype.readAndCheckSignature=function(l){return l===this.readData(4)},e.prototype.readData=function(l){this.checkOffset(l);var i=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,i},a.exports=e},{"../utils":32,"./DataReader":18}],21:[function(t,a,c){"use strict";var r=t("./ArrayReader");function e(l){r.call(this,l)}t("../utils").inherits(e,r),e.prototype.readData=function(l){if(this.checkOffset(l),l===0)return new Uint8Array(0);var i=this.data.subarray(this.zero+this.index,this.zero+this.index+l);return this.index+=l,i},a.exports=e},{"../utils":32,"./ArrayReader":17}],22:[function(t,a,c){"use strict";var r=t("../utils"),e=t("../support"),l=t("./ArrayReader"),i=t("./StringReader"),o=t("./NodeBufferReader"),n=t("./Uint8ArrayReader");a.exports=function(h){var v=r.getTypeOf(h);return r.checkSupport(v),v!=="string"||e.uint8array?v==="nodebuffer"?new o(h):e.uint8array?new n(r.transformTo("uint8array",h)):new l(r.transformTo("array",h)):new i(h)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,a,c){"use strict";c.LOCAL_FILE_HEADER="PK",c.CENTRAL_FILE_HEADER="PK",c.CENTRAL_DIRECTORY_END="PK",c.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",c.ZIP64_CENTRAL_DIRECTORY_END="PK",c.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,a,c){"use strict";var r=t("./GenericWorker"),e=t("../utils");function l(i){r.call(this,"ConvertWorker to "+i),this.destType=i}e.inherits(l,r),l.prototype.processChunk=function(i){this.push({data:e.transformTo(this.destType,i.data),meta:i.meta})},a.exports=l},{"../utils":32,"./GenericWorker":28}],25:[function(t,a,c){"use strict";var r=t("./GenericWorker"),e=t("../crc32");function l(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(l,r),l.prototype.processChunk=function(i){this.streamInfo.crc32=e(i.data,this.streamInfo.crc32||0),this.push(i)},a.exports=l},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,a,c){"use strict";var r=t("../utils"),e=t("./GenericWorker");function l(i){e.call(this,"DataLengthProbe for "+i),this.propName=i,this.withStreamInfo(i,0)}r.inherits(l,e),l.prototype.processChunk=function(i){if(i){var o=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=o+i.data.length}e.prototype.processChunk.call(this,i)},a.exports=l},{"../utils":32,"./GenericWorker":28}],27:[function(t,a,c){"use strict";var r=t("../utils"),e=t("./GenericWorker");function l(i){e.call(this,"DataWorker");var o=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,i.then(function(n){o.dataIsReady=!0,o.data=n,o.max=n&&n.length||0,o.type=r.getTypeOf(n),o.isPaused||o._tickAndRepeat()},function(n){o.error(n)})}r.inherits(l,e),l.prototype.cleanUp=function(){e.prototype.cleanUp.call(this),this.data=null},l.prototype.resume=function(){return!!e.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},l.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},l.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var i=null,o=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":i=this.data.substring(this.index,o);break;case"uint8array":i=this.data.subarray(this.index,o);break;case"array":case"nodebuffer":i=this.data.slice(this.index,o)}return this.index=o,this.push({data:i,meta:{percent:this.max?this.index/this.max*100:0}})},a.exports=l},{"../utils":32,"./GenericWorker":28}],28:[function(t,a,c){"use strict";function r(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,l){return this._listeners[e].push(l),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,l){if(this._listeners[e])for(var i=0;i<this._listeners[e].length;i++)this._listeners[e][i].call(this,l)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var l=this;return e.on("data",function(i){l.processChunk(i)}),e.on("end",function(){l.end()}),e.on("error",function(i){l.error(i)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var e=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,l){return this.extraStreamInfo[e]=l,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},a.exports=r},{}],29:[function(t,a,c){"use strict";var r=t("../utils"),e=t("./ConvertWorker"),l=t("./GenericWorker"),i=t("../base64"),o=t("../support"),n=t("../external"),h=null;if(o.nodestream)try{h=t("../nodejs/NodejsStreamOutputAdapter")}catch(s){}function v(s,d){return new n.Promise(function(z,u){var M=[],m=s._internalType,p=s._outputType,f=s._mimeType;s.on("data",function(H,w){M.push(H),d&&d(w)}).on("error",function(H){M=[],u(H)}).on("end",function(){try{var H=function(w,y,k){switch(w){case"blob":return r.newBlob(r.transformTo("arraybuffer",y),k);case"base64":return i.encode(y);default:return r.transformTo(w,y)}}(p,function(w,y){var k,I=0,U=null,A=0;for(k=0;k<y.length;k++)A+=y[k].length;switch(w){case"string":return y.join("");case"array":return Array.prototype.concat.apply([],y);case"uint8array":for(U=new Uint8Array(A),k=0;k<y.length;k++)U.set(y[k],I),I+=y[k].length;return U;case"nodebuffer":return Buffer.concat(y);default:throw new Error("concat : unsupported type '"+w+"'")}}(m,M),f);z(H)}catch(w){u(w)}M=[]}).resume()})}function g(s,d,z){var u=d;switch(d){case"blob":case"arraybuffer":u="uint8array";break;case"base64":u="string"}try{this._internalType=u,this._outputType=d,this._mimeType=z,r.checkSupport(u),this._worker=s.pipe(new e(u)),s.lock()}catch(M){this._worker=new l("error"),this._worker.error(M)}}g.prototype={accumulate:function(s){return v(this,s)},on:function(s,d){var z=this;return s==="data"?this._worker.on(s,function(u){d.call(z,u.data,u.meta)}):this._worker.on(s,function(){r.delay(d,arguments,z)}),this},resume:function(){return r.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(s){if(r.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:this._outputType!=="nodebuffer"},s)}},a.exports=g},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,a,c){"use strict";if(c.base64=!0,c.array=!0,c.string=!0,c.arraybuffer=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined",c.nodebuffer=typeof Buffer!="undefined",c.uint8array=typeof Uint8Array!="undefined",typeof ArrayBuffer=="undefined")c.blob=!1;else{var r=new ArrayBuffer(0);try{c.blob=new Blob([r],{type:"application/zip"}).size===0}catch(l){try{var e=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);e.append(r),c.blob=e.getBlob("application/zip").size===0}catch(i){c.blob=!1}}}try{c.nodestream=!!t("readable-stream").Readable}catch(l){c.nodestream=!1}},{"readable-stream":16}],31:[function(t,a,c){"use strict";for(var r=t("./utils"),e=t("./support"),l=t("./nodejsUtils"),i=t("./stream/GenericWorker"),o=new Array(256),n=0;n<256;n++)o[n]=252<=n?6:248<=n?5:240<=n?4:224<=n?3:192<=n?2:1;o[254]=o[254]=1;function h(){i.call(this,"utf-8 decode"),this.leftOver=null}function v(){i.call(this,"utf-8 encode")}c.utf8encode=function(g){return e.nodebuffer?l.newBufferFrom(g,"utf-8"):function(s){var d,z,u,M,m,p=s.length,f=0;for(M=0;M<p;M++)(64512&(z=s.charCodeAt(M)))==55296&&M+1<p&&(64512&(u=s.charCodeAt(M+1)))==56320&&(z=65536+(z-55296<<10)+(u-56320),M++),f+=z<128?1:z<2048?2:z<65536?3:4;for(d=e.uint8array?new Uint8Array(f):new Array(f),M=m=0;m<f;M++)(64512&(z=s.charCodeAt(M)))==55296&&M+1<p&&(64512&(u=s.charCodeAt(M+1)))==56320&&(z=65536+(z-55296<<10)+(u-56320),M++),z<128?d[m++]=z:(z<2048?d[m++]=192|z>>>6:(z<65536?d[m++]=224|z>>>12:(d[m++]=240|z>>>18,d[m++]=128|z>>>12&63),d[m++]=128|z>>>6&63),d[m++]=128|63&z);return d}(g)},c.utf8decode=function(g){return e.nodebuffer?r.transformTo("nodebuffer",g).toString("utf-8"):function(s){var d,z,u,M,m=s.length,p=new Array(2*m);for(d=z=0;d<m;)if((u=s[d++])<128)p[z++]=u;else if(4<(M=o[u]))p[z++]=65533,d+=M-1;else{for(u&=M===2?31:M===3?15:7;1<M&&d<m;)u=u<<6|63&s[d++],M--;1<M?p[z++]=65533:u<65536?p[z++]=u:(u-=65536,p[z++]=55296|u>>10&1023,p[z++]=56320|1023&u)}return p.length!==z&&(p.subarray?p=p.subarray(0,z):p.length=z),r.applyFromCharCode(p)}(g=r.transformTo(e.uint8array?"uint8array":"array",g))},r.inherits(h,i),h.prototype.processChunk=function(g){var s=r.transformTo(e.uint8array?"uint8array":"array",g.data);if(this.leftOver&&this.leftOver.length){if(e.uint8array){var d=s;(s=new Uint8Array(d.length+this.leftOver.length)).set(this.leftOver,0),s.set(d,this.leftOver.length)}else s=this.leftOver.concat(s);this.leftOver=null}var z=function(M,m){var p;for((m=m||M.length)>M.length&&(m=M.length),p=m-1;0<=p&&(192&M[p])==128;)p--;return p<0||p===0?m:p+o[M[p]]>m?p:m}(s),u=s;z!==s.length&&(e.uint8array?(u=s.subarray(0,z),this.leftOver=s.subarray(z,s.length)):(u=s.slice(0,z),this.leftOver=s.slice(z,s.length))),this.push({data:c.utf8decode(u),meta:g.meta})},h.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:c.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},c.Utf8DecodeWorker=h,r.inherits(v,i),v.prototype.processChunk=function(g){this.push({data:c.utf8encode(g.data),meta:g.meta})},c.Utf8EncodeWorker=v},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,a,c){"use strict";var r=t("./support"),e=t("./base64"),l=t("./nodejsUtils"),i=t("./external");function o(d){return d}function n(d,z){for(var u=0;u<d.length;++u)z[u]=255&d.charCodeAt(u);return z}t("setimmediate"),c.newBlob=function(d,z){c.checkSupport("blob");try{return new Blob([d],{type:z})}catch(M){try{var u=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return u.append(d),u.getBlob(z)}catch(m){throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(d,z,u){var M=[],m=0,p=d.length;if(p<=u)return String.fromCharCode.apply(null,d);for(;m<p;)z==="array"||z==="nodebuffer"?M.push(String.fromCharCode.apply(null,d.slice(m,Math.min(m+u,p)))):M.push(String.fromCharCode.apply(null,d.subarray(m,Math.min(m+u,p)))),m+=u;return M.join("")},stringifyByChar:function(d){for(var z="",u=0;u<d.length;u++)z+=String.fromCharCode(d[u]);return z},applyCanBeUsed:{uint8array:function(){try{return r.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch(d){return!1}}(),nodebuffer:function(){try{return r.nodebuffer&&String.fromCharCode.apply(null,l.allocBuffer(1)).length===1}catch(d){return!1}}()}};function v(d){var z=65536,u=c.getTypeOf(d),M=!0;if(u==="uint8array"?M=h.applyCanBeUsed.uint8array:u==="nodebuffer"&&(M=h.applyCanBeUsed.nodebuffer),M)for(;1<z;)try{return h.stringifyByChunk(d,u,z)}catch(m){z=Math.floor(z/2)}return h.stringifyByChar(d)}function g(d,z){for(var u=0;u<d.length;u++)z[u]=d[u];return z}c.applyFromCharCode=v;var s={};s.string={string:o,array:function(d){return n(d,new Array(d.length))},arraybuffer:function(d){return s.string.uint8array(d).buffer},uint8array:function(d){return n(d,new Uint8Array(d.length))},nodebuffer:function(d){return n(d,l.allocBuffer(d.length))}},s.array={string:v,array:o,arraybuffer:function(d){return new Uint8Array(d).buffer},uint8array:function(d){return new Uint8Array(d)},nodebuffer:function(d){return l.newBufferFrom(d)}},s.arraybuffer={string:function(d){return v(new Uint8Array(d))},array:function(d){return g(new Uint8Array(d),new Array(d.byteLength))},arraybuffer:o,uint8array:function(d){return new Uint8Array(d)},nodebuffer:function(d){return l.newBufferFrom(new Uint8Array(d))}},s.uint8array={string:v,array:function(d){return g(d,new Array(d.length))},arraybuffer:function(d){return d.buffer},uint8array:o,nodebuffer:function(d){return l.newBufferFrom(d)}},s.nodebuffer={string:v,array:function(d){return g(d,new Array(d.length))},arraybuffer:function(d){return s.nodebuffer.uint8array(d).buffer},uint8array:function(d){return g(d,new Uint8Array(d.length))},nodebuffer:o},c.transformTo=function(d,z){if(z=z||"",!d)return z;c.checkSupport(d);var u=c.getTypeOf(z);return s[u][d](z)},c.resolve=function(d){for(var z=d.split("/"),u=[],M=0;M<z.length;M++){var m=z[M];m==="."||m===""&&M!==0&&M!==z.length-1||(m===".."?u.pop():u.push(m))}return u.join("/")},c.getTypeOf=function(d){return typeof d=="string"?"string":Object.prototype.toString.call(d)==="[object Array]"?"array":r.nodebuffer&&l.isBuffer(d)?"nodebuffer":r.uint8array&&d instanceof Uint8Array?"uint8array":r.arraybuffer&&d instanceof ArrayBuffer?"arraybuffer":void 0},c.checkSupport=function(d){if(!r[d.toLowerCase()])throw new Error(d+" is not supported by this platform")},c.MAX_VALUE_16BITS=65535,c.MAX_VALUE_32BITS=-1,c.pretty=function(d){var z,u,M="";for(u=0;u<(d||"").length;u++)M+="\\x"+((z=d.charCodeAt(u))<16?"0":"")+z.toString(16).toUpperCase();return M},c.delay=function(d,z,u){setImmediate(function(){d.apply(u||null,z||[])})},c.inherits=function(d,z){function u(){}u.prototype=z.prototype,d.prototype=new u},c.extend=function(){var d,z,u={};for(d=0;d<arguments.length;d++)for(z in arguments[d])Object.prototype.hasOwnProperty.call(arguments[d],z)&&u[z]===void 0&&(u[z]=arguments[d][z]);return u},c.prepareContent=function(d,z,u,M,m){return i.Promise.resolve(z).then(function(p){return r.blob&&(p instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(p))!==-1)&&typeof FileReader!="undefined"?new i.Promise(function(f,H){var w=new FileReader;w.onload=function(y){f(y.target.result)},w.onerror=function(y){H(y.target.error)},w.readAsArrayBuffer(p)}):p}).then(function(p){var f=c.getTypeOf(p);return f?(f==="arraybuffer"?p=c.transformTo("uint8array",p):f==="string"&&(m?p=e.decode(p):u&&M!==!0&&(p=function(H){return n(H,r.uint8array?new Uint8Array(H.length):new Array(H.length))}(p))),p):i.Promise.reject(new Error("Can't read the data of '"+d+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,a,c){"use strict";var r=t("./reader/readerFor"),e=t("./utils"),l=t("./signature"),i=t("./zipEntry"),o=t("./support");function n(h){this.files=[],this.loadOptions=h}n.prototype={checkSignature:function(h){if(!this.reader.readAndCheckSignature(h)){this.reader.index-=4;var v=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+e.pretty(v)+", expected "+e.pretty(h)+")")}},isSignature:function(h,v){var g=this.reader.index;this.reader.setIndex(h);var s=this.reader.readString(4)===v;return this.reader.setIndex(g),s},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var h=this.reader.readData(this.zipCommentLength),v=o.uint8array?"uint8array":"array",g=e.transformTo(v,h);this.zipComment=this.loadOptions.decodeFileName(g)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var h,v,g,s=this.zip64EndOfCentralSize-44;0<s;)h=this.reader.readInt(2),v=this.reader.readInt(4),g=this.reader.readData(v),this.zip64ExtensibleData[h]={id:h,length:v,value:g}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var h,v;for(h=0;h<this.files.length;h++)v=this.files[h],this.reader.setIndex(v.localHeaderOffset),this.checkSignature(l.LOCAL_FILE_HEADER),v.readLocalPart(this.reader),v.handleUTF8(),v.processAttributes()},readCentralDir:function(){var h;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(l.CENTRAL_FILE_HEADER);)(h=new i({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(h);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var h=this.reader.lastIndexOfSignature(l.CENTRAL_DIRECTORY_END);if(h<0)throw this.isSignature(0,l.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(h);var v=h;if(this.checkSignature(l.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===e.MAX_VALUE_16BITS||this.diskWithCentralDirStart===e.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===e.MAX_VALUE_16BITS||this.centralDirRecords===e.MAX_VALUE_16BITS||this.centralDirSize===e.MAX_VALUE_32BITS||this.centralDirOffset===e.MAX_VALUE_32BITS){if(this.zip64=!0,(h=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(h),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,l.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var g=this.centralDirOffset+this.centralDirSize;this.zip64&&(g+=20,g+=12+this.zip64EndOfCentralSize);var s=v-g;if(0<s)this.isSignature(v,l.CENTRAL_FILE_HEADER)||(this.reader.zero=s);else if(s<0)throw new Error("Corrupted zip: missing "+Math.abs(s)+" bytes.")},prepareReader:function(h){this.reader=r(h)},load:function(h){this.prepareReader(h),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},a.exports=n},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,a,c){"use strict";var r=t("./reader/readerFor"),e=t("./utils"),l=t("./compressedObject"),i=t("./crc32"),o=t("./utf8"),n=t("./compressions"),h=t("./support");function v(g,s){this.options=g,this.loadOptions=s}v.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(g){var s,d;if(g.skip(22),this.fileNameLength=g.readInt(2),d=g.readInt(2),this.fileName=g.readData(this.fileNameLength),g.skip(d),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((s=function(z){for(var u in n)if(Object.prototype.hasOwnProperty.call(n,u)&&n[u].magic===z)return n[u];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+e.pretty(this.compressionMethod)+" unknown (inner file : "+e.transformTo("string",this.fileName)+")");this.decompressed=new l(this.compressedSize,this.uncompressedSize,this.crc32,s,g.readData(this.compressedSize))},readCentralPart:function(g){this.versionMadeBy=g.readInt(2),g.skip(2),this.bitFlag=g.readInt(2),this.compressionMethod=g.readString(2),this.date=g.readDate(),this.crc32=g.readInt(4),this.compressedSize=g.readInt(4),this.uncompressedSize=g.readInt(4);var s=g.readInt(2);if(this.extraFieldsLength=g.readInt(2),this.fileCommentLength=g.readInt(2),this.diskNumberStart=g.readInt(2),this.internalFileAttributes=g.readInt(2),this.externalFileAttributes=g.readInt(4),this.localHeaderOffset=g.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");g.skip(s),this.readExtraFields(g),this.parseZIP64ExtraField(g),this.fileComment=g.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var g=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),g==0&&(this.dosPermissions=63&this.externalFileAttributes),g==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var g=r(this.extraFields[1].value);this.uncompressedSize===e.MAX_VALUE_32BITS&&(this.uncompressedSize=g.readInt(8)),this.compressedSize===e.MAX_VALUE_32BITS&&(this.compressedSize=g.readInt(8)),this.localHeaderOffset===e.MAX_VALUE_32BITS&&(this.localHeaderOffset=g.readInt(8)),this.diskNumberStart===e.MAX_VALUE_32BITS&&(this.diskNumberStart=g.readInt(4))}},readExtraFields:function(g){var s,d,z,u=g.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});g.index+4<u;)s=g.readInt(2),d=g.readInt(2),z=g.readData(d),this.extraFields[s]={id:s,length:d,value:z};g.setIndex(u)},handleUTF8:function(){var g=h.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=o.utf8decode(this.fileName),this.fileCommentStr=o.utf8decode(this.fileComment);else{var s=this.findExtraFieldUnicodePath();if(s!==null)this.fileNameStr=s;else{var d=e.transformTo(g,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(d)}var z=this.findExtraFieldUnicodeComment();if(z!==null)this.fileCommentStr=z;else{var u=e.transformTo(g,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(u)}}},findExtraFieldUnicodePath:function(){var g=this.extraFields[28789];if(g){var s=r(g.value);return s.readInt(1)!==1||i(this.fileName)!==s.readInt(4)?null:o.utf8decode(s.readData(g.length-5))}return null},findExtraFieldUnicodeComment:function(){var g=this.extraFields[25461];if(g){var s=r(g.value);return s.readInt(1)!==1||i(this.fileComment)!==s.readInt(4)?null:o.utf8decode(s.readData(g.length-5))}return null}},a.exports=v},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,a,c){"use strict";function r(s,d,z){this.name=s,this.dir=z.dir,this.date=z.date,this.comment=z.comment,this.unixPermissions=z.unixPermissions,this.dosPermissions=z.dosPermissions,this._data=d,this._dataBinary=z.binary,this.options={compression:z.compression,compressionOptions:z.compressionOptions}}var e=t("./stream/StreamHelper"),l=t("./stream/DataWorker"),i=t("./utf8"),o=t("./compressedObject"),n=t("./stream/GenericWorker");r.prototype={internalStream:function(s){var d=null,z="string";try{if(!s)throw new Error("No output type specified.");var u=(z=s.toLowerCase())==="string"||z==="text";z!=="binarystring"&&z!=="text"||(z="string"),d=this._decompressWorker();var M=!this._dataBinary;M&&!u&&(d=d.pipe(new i.Utf8EncodeWorker)),!M&&u&&(d=d.pipe(new i.Utf8DecodeWorker))}catch(m){(d=new n("error")).error(m)}return new e(d,z,"")},async:function(s,d){return this.internalStream(s).accumulate(d)},nodeStream:function(s,d){return this.internalStream(s||"nodebuffer").toNodejsStream(d)},_compressWorker:function(s,d){if(this._data instanceof o&&this._data.compression.magic===s.magic)return this._data.getCompressedWorker();var z=this._decompressWorker();return this._dataBinary||(z=z.pipe(new i.Utf8EncodeWorker)),o.createWorkerFrom(z,s,d)},_decompressWorker:function(){return this._data instanceof o?this._data.getContentWorker():this._data instanceof n?this._data:new l(this._data)}};for(var h=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],v=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},g=0;g<h.length;g++)r.prototype[h[g]]=v;a.exports=r},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,a,c){(function(r){"use strict";var e,l,i=r.MutationObserver||r.WebKitMutationObserver;if(i){var o=0,n=new i(s),h=r.document.createTextNode("");n.observe(h,{characterData:!0}),e=function(){h.data=o=++o%2}}else if(r.setImmediate||r.MessageChannel===void 0)e="document"in r&&"onreadystatechange"in r.document.createElement("script")?function(){var d=r.document.createElement("script");d.onreadystatechange=function(){s(),d.onreadystatechange=null,d.parentNode.removeChild(d),d=null},r.document.documentElement.appendChild(d)}:function(){setTimeout(s,0)};else{var v=new r.MessageChannel;v.port1.onmessage=s,e=function(){v.port2.postMessage(0)}}var g=[];function s(){var d,z;l=!0;for(var u=g.length;u;){for(z=g,g=[],d=-1;++d<u;)z[d]();u=g.length}l=!1}a.exports=function(d){g.push(d)!==1||l||e()}}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],37:[function(t,a,c){"use strict";var r=t("immediate");function e(){}var l={},i=["REJECTED"],o=["FULFILLED"],n=["PENDING"];function h(u){if(typeof u!="function")throw new TypeError("resolver must be a function");this.state=n,this.queue=[],this.outcome=void 0,u!==e&&d(this,u)}function v(u,M,m){this.promise=u,typeof M=="function"&&(this.onFulfilled=M,this.callFulfilled=this.otherCallFulfilled),typeof m=="function"&&(this.onRejected=m,this.callRejected=this.otherCallRejected)}function g(u,M,m){r(function(){var p;try{p=M(m)}catch(f){return l.reject(u,f)}p===u?l.reject(u,new TypeError("Cannot resolve promise with itself")):l.resolve(u,p)})}function s(u){var M=u&&u.then;if(u&&(typeof u=="object"||typeof u=="function")&&typeof M=="function")return function(){M.apply(u,arguments)}}function d(u,M){var m=!1;function p(w){m||(m=!0,l.reject(u,w))}function f(w){m||(m=!0,l.resolve(u,w))}var H=z(function(){M(f,p)});H.status==="error"&&p(H.value)}function z(u,M){var m={};try{m.value=u(M),m.status="success"}catch(p){m.status="error",m.value=p}return m}(a.exports=h).prototype.finally=function(u){if(typeof u!="function")return this;var M=this.constructor;return this.then(function(m){return M.resolve(u()).then(function(){return m})},function(m){return M.resolve(u()).then(function(){throw m})})},h.prototype.catch=function(u){return this.then(null,u)},h.prototype.then=function(u,M){if(typeof u!="function"&&this.state===o||typeof M!="function"&&this.state===i)return this;var m=new this.constructor(e);return this.state!==n?g(m,this.state===o?u:M,this.outcome):this.queue.push(new v(m,u,M)),m},v.prototype.callFulfilled=function(u){l.resolve(this.promise,u)},v.prototype.otherCallFulfilled=function(u){g(this.promise,this.onFulfilled,u)},v.prototype.callRejected=function(u){l.reject(this.promise,u)},v.prototype.otherCallRejected=function(u){g(this.promise,this.onRejected,u)},l.resolve=function(u,M){var m=z(s,M);if(m.status==="error")return l.reject(u,m.value);var p=m.value;if(p)d(u,p);else{u.state=o,u.outcome=M;for(var f=-1,H=u.queue.length;++f<H;)u.queue[f].callFulfilled(M)}return u},l.reject=function(u,M){u.state=i,u.outcome=M;for(var m=-1,p=u.queue.length;++m<p;)u.queue[m].callRejected(M);return u},h.resolve=function(u){return u instanceof this?u:l.resolve(new this(e),u)},h.reject=function(u){var M=new this(e);return l.reject(M,u)},h.all=function(u){var M=this;if(Object.prototype.toString.call(u)!=="[object Array]")return this.reject(new TypeError("must be an array"));var m=u.length,p=!1;if(!m)return this.resolve([]);for(var f=new Array(m),H=0,w=-1,y=new this(e);++w<m;)k(u[w],w);return y;function k(I,U){M.resolve(I).then(function(A){f[U]=A,++H!==m||p||(p=!0,l.resolve(y,f))},function(A){p||(p=!0,l.reject(y,A))})}},h.race=function(u){var M=this;if(Object.prototype.toString.call(u)!=="[object Array]")return this.reject(new TypeError("must be an array"));var m=u.length,p=!1;if(!m)return this.resolve([]);for(var f=-1,H=new this(e);++f<m;)w=u[f],M.resolve(w).then(function(y){p||(p=!0,l.resolve(H,y))},function(y){p||(p=!0,l.reject(H,y))});var w;return H}},{immediate:36}],38:[function(t,a,c){"use strict";var r={};(0,t("./lib/utils/common").assign)(r,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),a.exports=r},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,a,c){"use strict";var r=t("./zlib/deflate"),e=t("./utils/common"),l=t("./utils/strings"),i=t("./zlib/messages"),o=t("./zlib/zstream"),n=Object.prototype.toString,h=0,v=-1,g=0,s=8;function d(u){if(!(this instanceof d))return new d(u);this.options=e.assign({level:v,method:s,chunkSize:16384,windowBits:15,memLevel:8,strategy:g,to:""},u||{});var M=this.options;M.raw&&0<M.windowBits?M.windowBits=-M.windowBits:M.gzip&&0<M.windowBits&&M.windowBits<16&&(M.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var m=r.deflateInit2(this.strm,M.level,M.method,M.windowBits,M.memLevel,M.strategy);if(m!==h)throw new Error(i[m]);if(M.header&&r.deflateSetHeader(this.strm,M.header),M.dictionary){var p;if(p=typeof M.dictionary=="string"?l.string2buf(M.dictionary):n.call(M.dictionary)==="[object ArrayBuffer]"?new Uint8Array(M.dictionary):M.dictionary,(m=r.deflateSetDictionary(this.strm,p))!==h)throw new Error(i[m]);this._dict_set=!0}}function z(u,M){var m=new d(M);if(m.push(u,!0),m.err)throw m.msg||i[m.err];return m.result}d.prototype.push=function(u,M){var m,p,f=this.strm,H=this.options.chunkSize;if(this.ended)return!1;p=M===~~M?M:M===!0?4:0,typeof u=="string"?f.input=l.string2buf(u):n.call(u)==="[object ArrayBuffer]"?f.input=new Uint8Array(u):f.input=u,f.next_in=0,f.avail_in=f.input.length;do{if(f.avail_out===0&&(f.output=new e.Buf8(H),f.next_out=0,f.avail_out=H),(m=r.deflate(f,p))!==1&&m!==h)return this.onEnd(m),!(this.ended=!0);f.avail_out!==0&&(f.avail_in!==0||p!==4&&p!==2)||(this.options.to==="string"?this.onData(l.buf2binstring(e.shrinkBuf(f.output,f.next_out))):this.onData(e.shrinkBuf(f.output,f.next_out)))}while((0<f.avail_in||f.avail_out===0)&&m!==1);return p===4?(m=r.deflateEnd(this.strm),this.onEnd(m),this.ended=!0,m===h):p!==2||(this.onEnd(h),!(f.avail_out=0))},d.prototype.onData=function(u){this.chunks.push(u)},d.prototype.onEnd=function(u){u===h&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=e.flattenChunks(this.chunks)),this.chunks=[],this.err=u,this.msg=this.strm.msg},c.Deflate=d,c.deflate=z,c.deflateRaw=function(u,M){return(M=M||{}).raw=!0,z(u,M)},c.gzip=function(u,M){return(M=M||{}).gzip=!0,z(u,M)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,a,c){"use strict";var r=t("./zlib/inflate"),e=t("./utils/common"),l=t("./utils/strings"),i=t("./zlib/constants"),o=t("./zlib/messages"),n=t("./zlib/zstream"),h=t("./zlib/gzheader"),v=Object.prototype.toString;function g(d){if(!(this instanceof g))return new g(d);this.options=e.assign({chunkSize:16384,windowBits:0,to:""},d||{});var z=this.options;z.raw&&0<=z.windowBits&&z.windowBits<16&&(z.windowBits=-z.windowBits,z.windowBits===0&&(z.windowBits=-15)),!(0<=z.windowBits&&z.windowBits<16)||d&&d.windowBits||(z.windowBits+=32),15<z.windowBits&&z.windowBits<48&&!(15&z.windowBits)&&(z.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new n,this.strm.avail_out=0;var u=r.inflateInit2(this.strm,z.windowBits);if(u!==i.Z_OK)throw new Error(o[u]);this.header=new h,r.inflateGetHeader(this.strm,this.header)}function s(d,z){var u=new g(z);if(u.push(d,!0),u.err)throw u.msg||o[u.err];return u.result}g.prototype.push=function(d,z){var u,M,m,p,f,H,w=this.strm,y=this.options.chunkSize,k=this.options.dictionary,I=!1;if(this.ended)return!1;M=z===~~z?z:z===!0?i.Z_FINISH:i.Z_NO_FLUSH,typeof d=="string"?w.input=l.binstring2buf(d):v.call(d)==="[object ArrayBuffer]"?w.input=new Uint8Array(d):w.input=d,w.next_in=0,w.avail_in=w.input.length;do{if(w.avail_out===0&&(w.output=new e.Buf8(y),w.next_out=0,w.avail_out=y),(u=r.inflate(w,i.Z_NO_FLUSH))===i.Z_NEED_DICT&&k&&(H=typeof k=="string"?l.string2buf(k):v.call(k)==="[object ArrayBuffer]"?new Uint8Array(k):k,u=r.inflateSetDictionary(this.strm,H)),u===i.Z_BUF_ERROR&&I===!0&&(u=i.Z_OK,I=!1),u!==i.Z_STREAM_END&&u!==i.Z_OK)return this.onEnd(u),!(this.ended=!0);w.next_out&&(w.avail_out!==0&&u!==i.Z_STREAM_END&&(w.avail_in!==0||M!==i.Z_FINISH&&M!==i.Z_SYNC_FLUSH)||(this.options.to==="string"?(m=l.utf8border(w.output,w.next_out),p=w.next_out-m,f=l.buf2string(w.output,m),w.next_out=p,w.avail_out=y-p,p&&e.arraySet(w.output,w.output,m,p,0),this.onData(f)):this.onData(e.shrinkBuf(w.output,w.next_out)))),w.avail_in===0&&w.avail_out===0&&(I=!0)}while((0<w.avail_in||w.avail_out===0)&&u!==i.Z_STREAM_END);return u===i.Z_STREAM_END&&(M=i.Z_FINISH),M===i.Z_FINISH?(u=r.inflateEnd(this.strm),this.onEnd(u),this.ended=!0,u===i.Z_OK):M!==i.Z_SYNC_FLUSH||(this.onEnd(i.Z_OK),!(w.avail_out=0))},g.prototype.onData=function(d){this.chunks.push(d)},g.prototype.onEnd=function(d){d===i.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=e.flattenChunks(this.chunks)),this.chunks=[],this.err=d,this.msg=this.strm.msg},c.Inflate=g,c.inflate=s,c.inflateRaw=function(d,z){return(z=z||{}).raw=!0,s(d,z)},c.ungzip=s},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,a,c){"use strict";var r=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined";c.assign=function(i){for(var o=Array.prototype.slice.call(arguments,1);o.length;){var n=o.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(var h in n)n.hasOwnProperty(h)&&(i[h]=n[h])}}return i},c.shrinkBuf=function(i,o){return i.length===o?i:i.subarray?i.subarray(0,o):(i.length=o,i)};var e={arraySet:function(i,o,n,h,v){if(o.subarray&&i.subarray)i.set(o.subarray(n,n+h),v);else for(var g=0;g<h;g++)i[v+g]=o[n+g]},flattenChunks:function(i){var o,n,h,v,g,s;for(o=h=0,n=i.length;o<n;o++)h+=i[o].length;for(s=new Uint8Array(h),o=v=0,n=i.length;o<n;o++)g=i[o],s.set(g,v),v+=g.length;return s}},l={arraySet:function(i,o,n,h,v){for(var g=0;g<h;g++)i[v+g]=o[n+g]},flattenChunks:function(i){return[].concat.apply([],i)}};c.setTyped=function(i){i?(c.Buf8=Uint8Array,c.Buf16=Uint16Array,c.Buf32=Int32Array,c.assign(c,e)):(c.Buf8=Array,c.Buf16=Array,c.Buf32=Array,c.assign(c,l))},c.setTyped(r)},{}],42:[function(t,a,c){"use strict";var r=t("./common"),e=!0,l=!0;try{String.fromCharCode.apply(null,[0])}catch(h){e=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(h){l=!1}for(var i=new r.Buf8(256),o=0;o<256;o++)i[o]=252<=o?6:248<=o?5:240<=o?4:224<=o?3:192<=o?2:1;function n(h,v){if(v<65537&&(h.subarray&&l||!h.subarray&&e))return String.fromCharCode.apply(null,r.shrinkBuf(h,v));for(var g="",s=0;s<v;s++)g+=String.fromCharCode(h[s]);return g}i[254]=i[254]=1,c.string2buf=function(h){var v,g,s,d,z,u=h.length,M=0;for(d=0;d<u;d++)(64512&(g=h.charCodeAt(d)))==55296&&d+1<u&&(64512&(s=h.charCodeAt(d+1)))==56320&&(g=65536+(g-55296<<10)+(s-56320),d++),M+=g<128?1:g<2048?2:g<65536?3:4;for(v=new r.Buf8(M),d=z=0;z<M;d++)(64512&(g=h.charCodeAt(d)))==55296&&d+1<u&&(64512&(s=h.charCodeAt(d+1)))==56320&&(g=65536+(g-55296<<10)+(s-56320),d++),g<128?v[z++]=g:(g<2048?v[z++]=192|g>>>6:(g<65536?v[z++]=224|g>>>12:(v[z++]=240|g>>>18,v[z++]=128|g>>>12&63),v[z++]=128|g>>>6&63),v[z++]=128|63&g);return v},c.buf2binstring=function(h){return n(h,h.length)},c.binstring2buf=function(h){for(var v=new r.Buf8(h.length),g=0,s=v.length;g<s;g++)v[g]=h.charCodeAt(g);return v},c.buf2string=function(h,v){var g,s,d,z,u=v||h.length,M=new Array(2*u);for(g=s=0;g<u;)if((d=h[g++])<128)M[s++]=d;else if(4<(z=i[d]))M[s++]=65533,g+=z-1;else{for(d&=z===2?31:z===3?15:7;1<z&&g<u;)d=d<<6|63&h[g++],z--;1<z?M[s++]=65533:d<65536?M[s++]=d:(d-=65536,M[s++]=55296|d>>10&1023,M[s++]=56320|1023&d)}return n(M,s)},c.utf8border=function(h,v){var g;for((v=v||h.length)>h.length&&(v=h.length),g=v-1;0<=g&&(192&h[g])==128;)g--;return g<0||g===0?v:g+i[h[g]]>v?g:v}},{"./common":41}],43:[function(t,a,c){"use strict";a.exports=function(r,e,l,i){for(var o=65535&r|0,n=r>>>16&65535|0,h=0;l!==0;){for(l-=h=2e3<l?2e3:l;n=n+(o=o+e[i++]|0)|0,--h;);o%=65521,n%=65521}return o|n<<16|0}},{}],44:[function(t,a,c){"use strict";a.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,a,c){"use strict";var r=function(){for(var e,l=[],i=0;i<256;i++){e=i;for(var o=0;o<8;o++)e=1&e?3988292384^e>>>1:e>>>1;l[i]=e}return l}();a.exports=function(e,l,i,o){var n=r,h=o+i;e^=-1;for(var v=o;v<h;v++)e=e>>>8^n[255&(e^l[v])];return-1^e}},{}],46:[function(t,a,c){"use strict";var r,e=t("../utils/common"),l=t("./trees"),i=t("./adler32"),o=t("./crc32"),n=t("./messages"),h=0,v=4,g=0,s=-2,d=-1,z=4,u=2,M=8,m=9,p=286,f=30,H=19,w=2*p+1,y=15,k=3,I=258,U=I+k+1,A=42,G=113,C=1,E=2,t1=3,F=4;function X(L,Y){return L.msg=n[Y],Y}function D(L){return(L<<1)-(4<L?9:0)}function c1(L){for(var Y=L.length;0<=--Y;)L[Y]=0}function j(L){var Y=L.state,$=Y.pending;$>L.avail_out&&($=L.avail_out),$!==0&&(e.arraySet(L.output,Y.pending_buf,Y.pending_out,$,L.next_out),L.next_out+=$,Y.pending_out+=$,L.total_out+=$,L.avail_out-=$,Y.pending-=$,Y.pending===0&&(Y.pending_out=0))}function _(L,Y){l._tr_flush_block(L,0<=L.block_start?L.block_start:-1,L.strstart-L.block_start,Y),L.block_start=L.strstart,j(L.strm)}function g1(L,Y){L.pending_buf[L.pending++]=Y}function Q(L,Y){L.pending_buf[L.pending++]=Y>>>8&255,L.pending_buf[L.pending++]=255&Y}function K(L,Y){var $,b,R=L.max_chain_length,O=L.strstart,J=L.prev_length,r1=L.nice_match,q=L.strstart>L.w_size-U?L.strstart-(L.w_size-U):0,n1=L.window,d1=L.w_mask,l1=L.prev,e1=L.strstart+I,w1=n1[O+J-1],R1=n1[O+J];L.prev_length>=L.good_match&&(R>>=2),r1>L.lookahead&&(r1=L.lookahead);do if(n1[($=Y)+J]===R1&&n1[$+J-1]===w1&&n1[$]===n1[O]&&n1[++$]===n1[O+1]){O+=2,$++;do;while(n1[++O]===n1[++$]&&n1[++O]===n1[++$]&&n1[++O]===n1[++$]&&n1[++O]===n1[++$]&&n1[++O]===n1[++$]&&n1[++O]===n1[++$]&&n1[++O]===n1[++$]&&n1[++O]===n1[++$]&&O<e1);if(b=I-(e1-O),O=e1-I,J<b){if(L.match_start=Y,r1<=(J=b))break;w1=n1[O+J-1],R1=n1[O+J]}}while((Y=l1[Y&d1])>q&&--R!=0);return J<=L.lookahead?J:L.lookahead}function h1(L){var Y,$,b,R,O,J,r1,q,n1,d1,l1=L.w_size;do{if(R=L.window_size-L.lookahead-L.strstart,L.strstart>=l1+(l1-U)){for(e.arraySet(L.window,L.window,l1,l1,0),L.match_start-=l1,L.strstart-=l1,L.block_start-=l1,Y=$=L.hash_size;b=L.head[--Y],L.head[Y]=l1<=b?b-l1:0,--$;);for(Y=$=l1;b=L.prev[--Y],L.prev[Y]=l1<=b?b-l1:0,--$;);R+=l1}if(L.strm.avail_in===0)break;if(J=L.strm,r1=L.window,q=L.strstart+L.lookahead,n1=R,d1=void 0,d1=J.avail_in,n1<d1&&(d1=n1),$=d1===0?0:(J.avail_in-=d1,e.arraySet(r1,J.input,J.next_in,d1,q),J.state.wrap===1?J.adler=i(J.adler,r1,d1,q):J.state.wrap===2&&(J.adler=o(J.adler,r1,d1,q)),J.next_in+=d1,J.total_in+=d1,d1),L.lookahead+=$,L.lookahead+L.insert>=k)for(O=L.strstart-L.insert,L.ins_h=L.window[O],L.ins_h=(L.ins_h<<L.hash_shift^L.window[O+1])&L.hash_mask;L.insert&&(L.ins_h=(L.ins_h<<L.hash_shift^L.window[O+k-1])&L.hash_mask,L.prev[O&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=O,O++,L.insert--,!(L.lookahead+L.insert<k)););}while(L.lookahead<U&&L.strm.avail_in!==0)}function C1(L,Y){for(var $,b;;){if(L.lookahead<U){if(h1(L),L.lookahead<U&&Y===h)return C;if(L.lookahead===0)break}if($=0,L.lookahead>=k&&(L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+k-1])&L.hash_mask,$=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart),$!==0&&L.strstart-$<=L.w_size-U&&(L.match_length=K(L,$)),L.match_length>=k)if(b=l._tr_tally(L,L.strstart-L.match_start,L.match_length-k),L.lookahead-=L.match_length,L.match_length<=L.max_lazy_match&&L.lookahead>=k){for(L.match_length--;L.strstart++,L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+k-1])&L.hash_mask,$=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart,--L.match_length!=0;);L.strstart++}else L.strstart+=L.match_length,L.match_length=0,L.ins_h=L.window[L.strstart],L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+1])&L.hash_mask;else b=l._tr_tally(L,0,L.window[L.strstart]),L.lookahead--,L.strstart++;if(b&&(_(L,!1),L.strm.avail_out===0))return C}return L.insert=L.strstart<k-1?L.strstart:k-1,Y===v?(_(L,!0),L.strm.avail_out===0?t1:F):L.last_lit&&(_(L,!1),L.strm.avail_out===0)?C:E}function N(L,Y){for(var $,b,R;;){if(L.lookahead<U){if(h1(L),L.lookahead<U&&Y===h)return C;if(L.lookahead===0)break}if($=0,L.lookahead>=k&&(L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+k-1])&L.hash_mask,$=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart),L.prev_length=L.match_length,L.prev_match=L.match_start,L.match_length=k-1,$!==0&&L.prev_length<L.max_lazy_match&&L.strstart-$<=L.w_size-U&&(L.match_length=K(L,$),L.match_length<=5&&(L.strategy===1||L.match_length===k&&4096<L.strstart-L.match_start)&&(L.match_length=k-1)),L.prev_length>=k&&L.match_length<=L.prev_length){for(R=L.strstart+L.lookahead-k,b=l._tr_tally(L,L.strstart-1-L.prev_match,L.prev_length-k),L.lookahead-=L.prev_length-1,L.prev_length-=2;++L.strstart<=R&&(L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+k-1])&L.hash_mask,$=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart),--L.prev_length!=0;);if(L.match_available=0,L.match_length=k-1,L.strstart++,b&&(_(L,!1),L.strm.avail_out===0))return C}else if(L.match_available){if((b=l._tr_tally(L,0,L.window[L.strstart-1]))&&_(L,!1),L.strstart++,L.lookahead--,L.strm.avail_out===0)return C}else L.match_available=1,L.strstart++,L.lookahead--}return L.match_available&&(b=l._tr_tally(L,0,L.window[L.strstart-1]),L.match_available=0),L.insert=L.strstart<k-1?L.strstart:k-1,Y===v?(_(L,!0),L.strm.avail_out===0?t1:F):L.last_lit&&(_(L,!1),L.strm.avail_out===0)?C:E}function f1(L,Y,$,b,R){this.good_length=L,this.max_lazy=Y,this.nice_length=$,this.max_chain=b,this.func=R}function i1(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=M,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new e.Buf16(2*w),this.dyn_dtree=new e.Buf16(2*(2*f+1)),this.bl_tree=new e.Buf16(2*(2*H+1)),c1(this.dyn_ltree),c1(this.dyn_dtree),c1(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new e.Buf16(y+1),this.heap=new e.Buf16(2*p+1),c1(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new e.Buf16(2*p+1),c1(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function B1(L){var Y;return L&&L.state?(L.total_in=L.total_out=0,L.data_type=u,(Y=L.state).pending=0,Y.pending_out=0,Y.wrap<0&&(Y.wrap=-Y.wrap),Y.status=Y.wrap?A:G,L.adler=Y.wrap===2?0:1,Y.last_flush=h,l._tr_init(Y),g):X(L,s)}function k1(L){var Y=B1(L);return Y===g&&function($){$.window_size=2*$.w_size,c1($.head),$.max_lazy_match=r[$.level].max_lazy,$.good_match=r[$.level].good_length,$.nice_match=r[$.level].nice_length,$.max_chain_length=r[$.level].max_chain,$.strstart=0,$.block_start=0,$.lookahead=0,$.insert=0,$.match_length=$.prev_length=k-1,$.match_available=0,$.ins_h=0}(L.state),Y}function A1(L,Y,$,b,R,O){if(!L)return s;var J=1;if(Y===d&&(Y=6),b<0?(J=0,b=-b):15<b&&(J=2,b-=16),R<1||m<R||$!==M||b<8||15<b||Y<0||9<Y||O<0||z<O)return X(L,s);b===8&&(b=9);var r1=new i1;return(L.state=r1).strm=L,r1.wrap=J,r1.gzhead=null,r1.w_bits=b,r1.w_size=1<<r1.w_bits,r1.w_mask=r1.w_size-1,r1.hash_bits=R+7,r1.hash_size=1<<r1.hash_bits,r1.hash_mask=r1.hash_size-1,r1.hash_shift=~~((r1.hash_bits+k-1)/k),r1.window=new e.Buf8(2*r1.w_size),r1.head=new e.Buf16(r1.hash_size),r1.prev=new e.Buf16(r1.w_size),r1.lit_bufsize=1<<R+6,r1.pending_buf_size=4*r1.lit_bufsize,r1.pending_buf=new e.Buf8(r1.pending_buf_size),r1.d_buf=1*r1.lit_bufsize,r1.l_buf=3*r1.lit_bufsize,r1.level=Y,r1.strategy=O,r1.method=$,k1(L)}r=[new f1(0,0,0,0,function(L,Y){var $=65535;for($>L.pending_buf_size-5&&($=L.pending_buf_size-5);;){if(L.lookahead<=1){if(h1(L),L.lookahead===0&&Y===h)return C;if(L.lookahead===0)break}L.strstart+=L.lookahead,L.lookahead=0;var b=L.block_start+$;if((L.strstart===0||L.strstart>=b)&&(L.lookahead=L.strstart-b,L.strstart=b,_(L,!1),L.strm.avail_out===0)||L.strstart-L.block_start>=L.w_size-U&&(_(L,!1),L.strm.avail_out===0))return C}return L.insert=0,Y===v?(_(L,!0),L.strm.avail_out===0?t1:F):(L.strstart>L.block_start&&(_(L,!1),L.strm.avail_out),C)}),new f1(4,4,8,4,C1),new f1(4,5,16,8,C1),new f1(4,6,32,32,C1),new f1(4,4,16,16,N),new f1(8,16,32,32,N),new f1(8,16,128,128,N),new f1(8,32,128,256,N),new f1(32,128,258,1024,N),new f1(32,258,258,4096,N)],c.deflateInit=function(L,Y){return A1(L,Y,M,15,8,0)},c.deflateInit2=A1,c.deflateReset=k1,c.deflateResetKeep=B1,c.deflateSetHeader=function(L,Y){return L&&L.state?L.state.wrap!==2?s:(L.state.gzhead=Y,g):s},c.deflate=function(L,Y){var $,b,R,O;if(!L||!L.state||5<Y||Y<0)return L?X(L,s):s;if(b=L.state,!L.output||!L.input&&L.avail_in!==0||b.status===666&&Y!==v)return X(L,L.avail_out===0?-5:s);if(b.strm=L,$=b.last_flush,b.last_flush=Y,b.status===A)if(b.wrap===2)L.adler=0,g1(b,31),g1(b,139),g1(b,8),b.gzhead?(g1(b,(b.gzhead.text?1:0)+(b.gzhead.hcrc?2:0)+(b.gzhead.extra?4:0)+(b.gzhead.name?8:0)+(b.gzhead.comment?16:0)),g1(b,255&b.gzhead.time),g1(b,b.gzhead.time>>8&255),g1(b,b.gzhead.time>>16&255),g1(b,b.gzhead.time>>24&255),g1(b,b.level===9?2:2<=b.strategy||b.level<2?4:0),g1(b,255&b.gzhead.os),b.gzhead.extra&&b.gzhead.extra.length&&(g1(b,255&b.gzhead.extra.length),g1(b,b.gzhead.extra.length>>8&255)),b.gzhead.hcrc&&(L.adler=o(L.adler,b.pending_buf,b.pending,0)),b.gzindex=0,b.status=69):(g1(b,0),g1(b,0),g1(b,0),g1(b,0),g1(b,0),g1(b,b.level===9?2:2<=b.strategy||b.level<2?4:0),g1(b,3),b.status=G);else{var J=M+(b.w_bits-8<<4)<<8;J|=(2<=b.strategy||b.level<2?0:b.level<6?1:b.level===6?2:3)<<6,b.strstart!==0&&(J|=32),J+=31-J%31,b.status=G,Q(b,J),b.strstart!==0&&(Q(b,L.adler>>>16),Q(b,65535&L.adler)),L.adler=1}if(b.status===69)if(b.gzhead.extra){for(R=b.pending;b.gzindex<(65535&b.gzhead.extra.length)&&(b.pending!==b.pending_buf_size||(b.gzhead.hcrc&&b.pending>R&&(L.adler=o(L.adler,b.pending_buf,b.pending-R,R)),j(L),R=b.pending,b.pending!==b.pending_buf_size));)g1(b,255&b.gzhead.extra[b.gzindex]),b.gzindex++;b.gzhead.hcrc&&b.pending>R&&(L.adler=o(L.adler,b.pending_buf,b.pending-R,R)),b.gzindex===b.gzhead.extra.length&&(b.gzindex=0,b.status=73)}else b.status=73;if(b.status===73)if(b.gzhead.name){R=b.pending;do{if(b.pending===b.pending_buf_size&&(b.gzhead.hcrc&&b.pending>R&&(L.adler=o(L.adler,b.pending_buf,b.pending-R,R)),j(L),R=b.pending,b.pending===b.pending_buf_size)){O=1;break}O=b.gzindex<b.gzhead.name.length?255&b.gzhead.name.charCodeAt(b.gzindex++):0,g1(b,O)}while(O!==0);b.gzhead.hcrc&&b.pending>R&&(L.adler=o(L.adler,b.pending_buf,b.pending-R,R)),O===0&&(b.gzindex=0,b.status=91)}else b.status=91;if(b.status===91)if(b.gzhead.comment){R=b.pending;do{if(b.pending===b.pending_buf_size&&(b.gzhead.hcrc&&b.pending>R&&(L.adler=o(L.adler,b.pending_buf,b.pending-R,R)),j(L),R=b.pending,b.pending===b.pending_buf_size)){O=1;break}O=b.gzindex<b.gzhead.comment.length?255&b.gzhead.comment.charCodeAt(b.gzindex++):0,g1(b,O)}while(O!==0);b.gzhead.hcrc&&b.pending>R&&(L.adler=o(L.adler,b.pending_buf,b.pending-R,R)),O===0&&(b.status=103)}else b.status=103;if(b.status===103&&(b.gzhead.hcrc?(b.pending+2>b.pending_buf_size&&j(L),b.pending+2<=b.pending_buf_size&&(g1(b,255&L.adler),g1(b,L.adler>>8&255),L.adler=0,b.status=G)):b.status=G),b.pending!==0){if(j(L),L.avail_out===0)return b.last_flush=-1,g}else if(L.avail_in===0&&D(Y)<=D($)&&Y!==v)return X(L,-5);if(b.status===666&&L.avail_in!==0)return X(L,-5);if(L.avail_in!==0||b.lookahead!==0||Y!==h&&b.status!==666){var r1=b.strategy===2?function(q,n1){for(var d1;;){if(q.lookahead===0&&(h1(q),q.lookahead===0)){if(n1===h)return C;break}if(q.match_length=0,d1=l._tr_tally(q,0,q.window[q.strstart]),q.lookahead--,q.strstart++,d1&&(_(q,!1),q.strm.avail_out===0))return C}return q.insert=0,n1===v?(_(q,!0),q.strm.avail_out===0?t1:F):q.last_lit&&(_(q,!1),q.strm.avail_out===0)?C:E}(b,Y):b.strategy===3?function(q,n1){for(var d1,l1,e1,w1,R1=q.window;;){if(q.lookahead<=I){if(h1(q),q.lookahead<=I&&n1===h)return C;if(q.lookahead===0)break}if(q.match_length=0,q.lookahead>=k&&0<q.strstart&&(l1=R1[e1=q.strstart-1])===R1[++e1]&&l1===R1[++e1]&&l1===R1[++e1]){w1=q.strstart+I;do;while(l1===R1[++e1]&&l1===R1[++e1]&&l1===R1[++e1]&&l1===R1[++e1]&&l1===R1[++e1]&&l1===R1[++e1]&&l1===R1[++e1]&&l1===R1[++e1]&&e1<w1);q.match_length=I-(w1-e1),q.match_length>q.lookahead&&(q.match_length=q.lookahead)}if(q.match_length>=k?(d1=l._tr_tally(q,1,q.match_length-k),q.lookahead-=q.match_length,q.strstart+=q.match_length,q.match_length=0):(d1=l._tr_tally(q,0,q.window[q.strstart]),q.lookahead--,q.strstart++),d1&&(_(q,!1),q.strm.avail_out===0))return C}return q.insert=0,n1===v?(_(q,!0),q.strm.avail_out===0?t1:F):q.last_lit&&(_(q,!1),q.strm.avail_out===0)?C:E}(b,Y):r[b.level].func(b,Y);if(r1!==t1&&r1!==F||(b.status=666),r1===C||r1===t1)return L.avail_out===0&&(b.last_flush=-1),g;if(r1===E&&(Y===1?l._tr_align(b):Y!==5&&(l._tr_stored_block(b,0,0,!1),Y===3&&(c1(b.head),b.lookahead===0&&(b.strstart=0,b.block_start=0,b.insert=0))),j(L),L.avail_out===0))return b.last_flush=-1,g}return Y!==v?g:b.wrap<=0?1:(b.wrap===2?(g1(b,255&L.adler),g1(b,L.adler>>8&255),g1(b,L.adler>>16&255),g1(b,L.adler>>24&255),g1(b,255&L.total_in),g1(b,L.total_in>>8&255),g1(b,L.total_in>>16&255),g1(b,L.total_in>>24&255)):(Q(b,L.adler>>>16),Q(b,65535&L.adler)),j(L),0<b.wrap&&(b.wrap=-b.wrap),b.pending!==0?g:1)},c.deflateEnd=function(L){var Y;return L&&L.state?(Y=L.state.status)!==A&&Y!==69&&Y!==73&&Y!==91&&Y!==103&&Y!==G&&Y!==666?X(L,s):(L.state=null,Y===G?X(L,-3):g):s},c.deflateSetDictionary=function(L,Y){var $,b,R,O,J,r1,q,n1,d1=Y.length;if(!L||!L.state||(O=($=L.state).wrap)===2||O===1&&$.status!==A||$.lookahead)return s;for(O===1&&(L.adler=i(L.adler,Y,d1,0)),$.wrap=0,d1>=$.w_size&&(O===0&&(c1($.head),$.strstart=0,$.block_start=0,$.insert=0),n1=new e.Buf8($.w_size),e.arraySet(n1,Y,d1-$.w_size,$.w_size,0),Y=n1,d1=$.w_size),J=L.avail_in,r1=L.next_in,q=L.input,L.avail_in=d1,L.next_in=0,L.input=Y,h1($);$.lookahead>=k;){for(b=$.strstart,R=$.lookahead-(k-1);$.ins_h=($.ins_h<<$.hash_shift^$.window[b+k-1])&$.hash_mask,$.prev[b&$.w_mask]=$.head[$.ins_h],$.head[$.ins_h]=b,b++,--R;);$.strstart=b,$.lookahead=k-1,h1($)}return $.strstart+=$.lookahead,$.block_start=$.strstart,$.insert=$.lookahead,$.lookahead=0,$.match_length=$.prev_length=k-1,$.match_available=0,L.next_in=r1,L.input=q,L.avail_in=J,$.wrap=O,g},c.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,a,c){"use strict";a.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,a,c){"use strict";a.exports=function(r,e){var l,i,o,n,h,v,g,s,d,z,u,M,m,p,f,H,w,y,k,I,U,A,G,C,E;l=r.state,i=r.next_in,C=r.input,o=i+(r.avail_in-5),n=r.next_out,E=r.output,h=n-(e-r.avail_out),v=n+(r.avail_out-257),g=l.dmax,s=l.wsize,d=l.whave,z=l.wnext,u=l.window,M=l.hold,m=l.bits,p=l.lencode,f=l.distcode,H=(1<<l.lenbits)-1,w=(1<<l.distbits)-1;t:do{m<15&&(M+=C[i++]<<m,m+=8,M+=C[i++]<<m,m+=8),y=p[M&H];a:for(;;){if(M>>>=k=y>>>24,m-=k,(k=y>>>16&255)===0)E[n++]=65535&y;else{if(!(16&k)){if(!(64&k)){y=p[(65535&y)+(M&(1<<k)-1)];continue a}if(32&k){l.mode=12;break t}r.msg="invalid literal/length code",l.mode=30;break t}I=65535&y,(k&=15)&&(m<k&&(M+=C[i++]<<m,m+=8),I+=M&(1<<k)-1,M>>>=k,m-=k),m<15&&(M+=C[i++]<<m,m+=8,M+=C[i++]<<m,m+=8),y=f[M&w];c:for(;;){if(M>>>=k=y>>>24,m-=k,!(16&(k=y>>>16&255))){if(!(64&k)){y=f[(65535&y)+(M&(1<<k)-1)];continue c}r.msg="invalid distance code",l.mode=30;break t}if(U=65535&y,m<(k&=15)&&(M+=C[i++]<<m,(m+=8)<k&&(M+=C[i++]<<m,m+=8)),g<(U+=M&(1<<k)-1)){r.msg="invalid distance too far back",l.mode=30;break t}if(M>>>=k,m-=k,(k=n-h)<U){if(d<(k=U-k)&&l.sane){r.msg="invalid distance too far back",l.mode=30;break t}if(G=u,(A=0)===z){if(A+=s-k,k<I){for(I-=k;E[n++]=u[A++],--k;);A=n-U,G=E}}else if(z<k){if(A+=s+z-k,(k-=z)<I){for(I-=k;E[n++]=u[A++],--k;);if(A=0,z<I){for(I-=k=z;E[n++]=u[A++],--k;);A=n-U,G=E}}}else if(A+=z-k,k<I){for(I-=k;E[n++]=u[A++],--k;);A=n-U,G=E}for(;2<I;)E[n++]=G[A++],E[n++]=G[A++],E[n++]=G[A++],I-=3;I&&(E[n++]=G[A++],1<I&&(E[n++]=G[A++]))}else{for(A=n-U;E[n++]=E[A++],E[n++]=E[A++],E[n++]=E[A++],2<(I-=3););I&&(E[n++]=E[A++],1<I&&(E[n++]=E[A++]))}break}}break}}while(i<o&&n<v);i-=I=m>>3,M&=(1<<(m-=I<<3))-1,r.next_in=i,r.next_out=n,r.avail_in=i<o?o-i+5:5-(i-o),r.avail_out=n<v?v-n+257:257-(n-v),l.hold=M,l.bits=m}},{}],49:[function(t,a,c){"use strict";var r=t("../utils/common"),e=t("./adler32"),l=t("./crc32"),i=t("./inffast"),o=t("./inftrees"),n=1,h=2,v=0,g=-2,s=1,d=852,z=592;function u(A){return(A>>>24&255)+(A>>>8&65280)+((65280&A)<<8)+((255&A)<<24)}function M(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function m(A){var G;return A&&A.state?(G=A.state,A.total_in=A.total_out=G.total=0,A.msg="",G.wrap&&(A.adler=1&G.wrap),G.mode=s,G.last=0,G.havedict=0,G.dmax=32768,G.head=null,G.hold=0,G.bits=0,G.lencode=G.lendyn=new r.Buf32(d),G.distcode=G.distdyn=new r.Buf32(z),G.sane=1,G.back=-1,v):g}function p(A){var G;return A&&A.state?((G=A.state).wsize=0,G.whave=0,G.wnext=0,m(A)):g}function f(A,G){var C,E;return A&&A.state?(E=A.state,G<0?(C=0,G=-G):(C=1+(G>>4),G<48&&(G&=15)),G&&(G<8||15<G)?g:(E.window!==null&&E.wbits!==G&&(E.window=null),E.wrap=C,E.wbits=G,p(A))):g}function H(A,G){var C,E;return A?(E=new M,(A.state=E).window=null,(C=f(A,G))!==v&&(A.state=null),C):g}var w,y,k=!0;function I(A){if(k){var G;for(w=new r.Buf32(512),y=new r.Buf32(32),G=0;G<144;)A.lens[G++]=8;for(;G<256;)A.lens[G++]=9;for(;G<280;)A.lens[G++]=7;for(;G<288;)A.lens[G++]=8;for(o(n,A.lens,0,288,w,0,A.work,{bits:9}),G=0;G<32;)A.lens[G++]=5;o(h,A.lens,0,32,y,0,A.work,{bits:5}),k=!1}A.lencode=w,A.lenbits=9,A.distcode=y,A.distbits=5}function U(A,G,C,E){var t1,F=A.state;return F.window===null&&(F.wsize=1<<F.wbits,F.wnext=0,F.whave=0,F.window=new r.Buf8(F.wsize)),E>=F.wsize?(r.arraySet(F.window,G,C-F.wsize,F.wsize,0),F.wnext=0,F.whave=F.wsize):(E<(t1=F.wsize-F.wnext)&&(t1=E),r.arraySet(F.window,G,C-E,t1,F.wnext),(E-=t1)?(r.arraySet(F.window,G,C-E,E,0),F.wnext=E,F.whave=F.wsize):(F.wnext+=t1,F.wnext===F.wsize&&(F.wnext=0),F.whave<F.wsize&&(F.whave+=t1))),0}c.inflateReset=p,c.inflateReset2=f,c.inflateResetKeep=m,c.inflateInit=function(A){return H(A,15)},c.inflateInit2=H,c.inflate=function(A,G){var C,E,t1,F,X,D,c1,j,_,g1,Q,K,h1,C1,N,f1,i1,B1,k1,A1,L,Y,$,b,R=0,O=new r.Buf8(4),J=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!A||!A.state||!A.output||!A.input&&A.avail_in!==0)return g;(C=A.state).mode===12&&(C.mode=13),X=A.next_out,t1=A.output,c1=A.avail_out,F=A.next_in,E=A.input,D=A.avail_in,j=C.hold,_=C.bits,g1=D,Q=c1,Y=v;t:for(;;)switch(C.mode){case s:if(C.wrap===0){C.mode=13;break}for(;_<16;){if(D===0)break t;D--,j+=E[F++]<<_,_+=8}if(2&C.wrap&&j===35615){O[C.check=0]=255&j,O[1]=j>>>8&255,C.check=l(C.check,O,2,0),_=j=0,C.mode=2;break}if(C.flags=0,C.head&&(C.head.done=!1),!(1&C.wrap)||(((255&j)<<8)+(j>>8))%31){A.msg="incorrect header check",C.mode=30;break}if((15&j)!=8){A.msg="unknown compression method",C.mode=30;break}if(_-=4,L=8+(15&(j>>>=4)),C.wbits===0)C.wbits=L;else if(L>C.wbits){A.msg="invalid window size",C.mode=30;break}C.dmax=1<<L,A.adler=C.check=1,C.mode=512&j?10:12,_=j=0;break;case 2:for(;_<16;){if(D===0)break t;D--,j+=E[F++]<<_,_+=8}if(C.flags=j,(255&C.flags)!=8){A.msg="unknown compression method",C.mode=30;break}if(57344&C.flags){A.msg="unknown header flags set",C.mode=30;break}C.head&&(C.head.text=j>>8&1),512&C.flags&&(O[0]=255&j,O[1]=j>>>8&255,C.check=l(C.check,O,2,0)),_=j=0,C.mode=3;case 3:for(;_<32;){if(D===0)break t;D--,j+=E[F++]<<_,_+=8}C.head&&(C.head.time=j),512&C.flags&&(O[0]=255&j,O[1]=j>>>8&255,O[2]=j>>>16&255,O[3]=j>>>24&255,C.check=l(C.check,O,4,0)),_=j=0,C.mode=4;case 4:for(;_<16;){if(D===0)break t;D--,j+=E[F++]<<_,_+=8}C.head&&(C.head.xflags=255&j,C.head.os=j>>8),512&C.flags&&(O[0]=255&j,O[1]=j>>>8&255,C.check=l(C.check,O,2,0)),_=j=0,C.mode=5;case 5:if(1024&C.flags){for(;_<16;){if(D===0)break t;D--,j+=E[F++]<<_,_+=8}C.length=j,C.head&&(C.head.extra_len=j),512&C.flags&&(O[0]=255&j,O[1]=j>>>8&255,C.check=l(C.check,O,2,0)),_=j=0}else C.head&&(C.head.extra=null);C.mode=6;case 6:if(1024&C.flags&&(D<(K=C.length)&&(K=D),K&&(C.head&&(L=C.head.extra_len-C.length,C.head.extra||(C.head.extra=new Array(C.head.extra_len)),r.arraySet(C.head.extra,E,F,K,L)),512&C.flags&&(C.check=l(C.check,E,K,F)),D-=K,F+=K,C.length-=K),C.length))break t;C.length=0,C.mode=7;case 7:if(2048&C.flags){if(D===0)break t;for(K=0;L=E[F+K++],C.head&&L&&C.length<65536&&(C.head.name+=String.fromCharCode(L)),L&&K<D;);if(512&C.flags&&(C.check=l(C.check,E,K,F)),D-=K,F+=K,L)break t}else C.head&&(C.head.name=null);C.length=0,C.mode=8;case 8:if(4096&C.flags){if(D===0)break t;for(K=0;L=E[F+K++],C.head&&L&&C.length<65536&&(C.head.comment+=String.fromCharCode(L)),L&&K<D;);if(512&C.flags&&(C.check=l(C.check,E,K,F)),D-=K,F+=K,L)break t}else C.head&&(C.head.comment=null);C.mode=9;case 9:if(512&C.flags){for(;_<16;){if(D===0)break t;D--,j+=E[F++]<<_,_+=8}if(j!==(65535&C.check)){A.msg="header crc mismatch",C.mode=30;break}_=j=0}C.head&&(C.head.hcrc=C.flags>>9&1,C.head.done=!0),A.adler=C.check=0,C.mode=12;break;case 10:for(;_<32;){if(D===0)break t;D--,j+=E[F++]<<_,_+=8}A.adler=C.check=u(j),_=j=0,C.mode=11;case 11:if(C.havedict===0)return A.next_out=X,A.avail_out=c1,A.next_in=F,A.avail_in=D,C.hold=j,C.bits=_,2;A.adler=C.check=1,C.mode=12;case 12:if(G===5||G===6)break t;case 13:if(C.last){j>>>=7&_,_-=7&_,C.mode=27;break}for(;_<3;){if(D===0)break t;D--,j+=E[F++]<<_,_+=8}switch(C.last=1&j,_-=1,3&(j>>>=1)){case 0:C.mode=14;break;case 1:if(I(C),C.mode=20,G!==6)break;j>>>=2,_-=2;break t;case 2:C.mode=17;break;case 3:A.msg="invalid block type",C.mode=30}j>>>=2,_-=2;break;case 14:for(j>>>=7&_,_-=7&_;_<32;){if(D===0)break t;D--,j+=E[F++]<<_,_+=8}if((65535&j)!=(j>>>16^65535)){A.msg="invalid stored block lengths",C.mode=30;break}if(C.length=65535&j,_=j=0,C.mode=15,G===6)break t;case 15:C.mode=16;case 16:if(K=C.length){if(D<K&&(K=D),c1<K&&(K=c1),K===0)break t;r.arraySet(t1,E,F,K,X),D-=K,F+=K,c1-=K,X+=K,C.length-=K;break}C.mode=12;break;case 17:for(;_<14;){if(D===0)break t;D--,j+=E[F++]<<_,_+=8}if(C.nlen=257+(31&j),j>>>=5,_-=5,C.ndist=1+(31&j),j>>>=5,_-=5,C.ncode=4+(15&j),j>>>=4,_-=4,286<C.nlen||30<C.ndist){A.msg="too many length or distance symbols",C.mode=30;break}C.have=0,C.mode=18;case 18:for(;C.have<C.ncode;){for(;_<3;){if(D===0)break t;D--,j+=E[F++]<<_,_+=8}C.lens[J[C.have++]]=7&j,j>>>=3,_-=3}for(;C.have<19;)C.lens[J[C.have++]]=0;if(C.lencode=C.lendyn,C.lenbits=7,$={bits:C.lenbits},Y=o(0,C.lens,0,19,C.lencode,0,C.work,$),C.lenbits=$.bits,Y){A.msg="invalid code lengths set",C.mode=30;break}C.have=0,C.mode=19;case 19:for(;C.have<C.nlen+C.ndist;){for(;f1=(R=C.lencode[j&(1<<C.lenbits)-1])>>>16&255,i1=65535&R,!((N=R>>>24)<=_);){if(D===0)break t;D--,j+=E[F++]<<_,_+=8}if(i1<16)j>>>=N,_-=N,C.lens[C.have++]=i1;else{if(i1===16){for(b=N+2;_<b;){if(D===0)break t;D--,j+=E[F++]<<_,_+=8}if(j>>>=N,_-=N,C.have===0){A.msg="invalid bit length repeat",C.mode=30;break}L=C.lens[C.have-1],K=3+(3&j),j>>>=2,_-=2}else if(i1===17){for(b=N+3;_<b;){if(D===0)break t;D--,j+=E[F++]<<_,_+=8}_-=N,L=0,K=3+(7&(j>>>=N)),j>>>=3,_-=3}else{for(b=N+7;_<b;){if(D===0)break t;D--,j+=E[F++]<<_,_+=8}_-=N,L=0,K=11+(127&(j>>>=N)),j>>>=7,_-=7}if(C.have+K>C.nlen+C.ndist){A.msg="invalid bit length repeat",C.mode=30;break}for(;K--;)C.lens[C.have++]=L}}if(C.mode===30)break;if(C.lens[256]===0){A.msg="invalid code -- missing end-of-block",C.mode=30;break}if(C.lenbits=9,$={bits:C.lenbits},Y=o(n,C.lens,0,C.nlen,C.lencode,0,C.work,$),C.lenbits=$.bits,Y){A.msg="invalid literal/lengths set",C.mode=30;break}if(C.distbits=6,C.distcode=C.distdyn,$={bits:C.distbits},Y=o(h,C.lens,C.nlen,C.ndist,C.distcode,0,C.work,$),C.distbits=$.bits,Y){A.msg="invalid distances set",C.mode=30;break}if(C.mode=20,G===6)break t;case 20:C.mode=21;case 21:if(6<=D&&258<=c1){A.next_out=X,A.avail_out=c1,A.next_in=F,A.avail_in=D,C.hold=j,C.bits=_,i(A,Q),X=A.next_out,t1=A.output,c1=A.avail_out,F=A.next_in,E=A.input,D=A.avail_in,j=C.hold,_=C.bits,C.mode===12&&(C.back=-1);break}for(C.back=0;f1=(R=C.lencode[j&(1<<C.lenbits)-1])>>>16&255,i1=65535&R,!((N=R>>>24)<=_);){if(D===0)break t;D--,j+=E[F++]<<_,_+=8}if(f1&&!(240&f1)){for(B1=N,k1=f1,A1=i1;f1=(R=C.lencode[A1+((j&(1<<B1+k1)-1)>>B1)])>>>16&255,i1=65535&R,!(B1+(N=R>>>24)<=_);){if(D===0)break t;D--,j+=E[F++]<<_,_+=8}j>>>=B1,_-=B1,C.back+=B1}if(j>>>=N,_-=N,C.back+=N,C.length=i1,f1===0){C.mode=26;break}if(32&f1){C.back=-1,C.mode=12;break}if(64&f1){A.msg="invalid literal/length code",C.mode=30;break}C.extra=15&f1,C.mode=22;case 22:if(C.extra){for(b=C.extra;_<b;){if(D===0)break t;D--,j+=E[F++]<<_,_+=8}C.length+=j&(1<<C.extra)-1,j>>>=C.extra,_-=C.extra,C.back+=C.extra}C.was=C.length,C.mode=23;case 23:for(;f1=(R=C.distcode[j&(1<<C.distbits)-1])>>>16&255,i1=65535&R,!((N=R>>>24)<=_);){if(D===0)break t;D--,j+=E[F++]<<_,_+=8}if(!(240&f1)){for(B1=N,k1=f1,A1=i1;f1=(R=C.distcode[A1+((j&(1<<B1+k1)-1)>>B1)])>>>16&255,i1=65535&R,!(B1+(N=R>>>24)<=_);){if(D===0)break t;D--,j+=E[F++]<<_,_+=8}j>>>=B1,_-=B1,C.back+=B1}if(j>>>=N,_-=N,C.back+=N,64&f1){A.msg="invalid distance code",C.mode=30;break}C.offset=i1,C.extra=15&f1,C.mode=24;case 24:if(C.extra){for(b=C.extra;_<b;){if(D===0)break t;D--,j+=E[F++]<<_,_+=8}C.offset+=j&(1<<C.extra)-1,j>>>=C.extra,_-=C.extra,C.back+=C.extra}if(C.offset>C.dmax){A.msg="invalid distance too far back",C.mode=30;break}C.mode=25;case 25:if(c1===0)break t;if(K=Q-c1,C.offset>K){if((K=C.offset-K)>C.whave&&C.sane){A.msg="invalid distance too far back",C.mode=30;break}h1=K>C.wnext?(K-=C.wnext,C.wsize-K):C.wnext-K,K>C.length&&(K=C.length),C1=C.window}else C1=t1,h1=X-C.offset,K=C.length;for(c1<K&&(K=c1),c1-=K,C.length-=K;t1[X++]=C1[h1++],--K;);C.length===0&&(C.mode=21);break;case 26:if(c1===0)break t;t1[X++]=C.length,c1--,C.mode=21;break;case 27:if(C.wrap){for(;_<32;){if(D===0)break t;D--,j|=E[F++]<<_,_+=8}if(Q-=c1,A.total_out+=Q,C.total+=Q,Q&&(A.adler=C.check=C.flags?l(C.check,t1,Q,X-Q):e(C.check,t1,Q,X-Q)),Q=c1,(C.flags?j:u(j))!==C.check){A.msg="incorrect data check",C.mode=30;break}_=j=0}C.mode=28;case 28:if(C.wrap&&C.flags){for(;_<32;){if(D===0)break t;D--,j+=E[F++]<<_,_+=8}if(j!==(4294967295&C.total)){A.msg="incorrect length check",C.mode=30;break}_=j=0}C.mode=29;case 29:Y=1;break t;case 30:Y=-3;break t;case 31:return-4;case 32:default:return g}return A.next_out=X,A.avail_out=c1,A.next_in=F,A.avail_in=D,C.hold=j,C.bits=_,(C.wsize||Q!==A.avail_out&&C.mode<30&&(C.mode<27||G!==4))&&U(A,A.output,A.next_out,Q-A.avail_out)?(C.mode=31,-4):(g1-=A.avail_in,Q-=A.avail_out,A.total_in+=g1,A.total_out+=Q,C.total+=Q,C.wrap&&Q&&(A.adler=C.check=C.flags?l(C.check,t1,Q,A.next_out-Q):e(C.check,t1,Q,A.next_out-Q)),A.data_type=C.bits+(C.last?64:0)+(C.mode===12?128:0)+(C.mode===20||C.mode===15?256:0),(g1==0&&Q===0||G===4)&&Y===v&&(Y=-5),Y)},c.inflateEnd=function(A){if(!A||!A.state)return g;var G=A.state;return G.window&&(G.window=null),A.state=null,v},c.inflateGetHeader=function(A,G){var C;return A&&A.state&&2&(C=A.state).wrap?((C.head=G).done=!1,v):g},c.inflateSetDictionary=function(A,G){var C,E=G.length;return A&&A.state?(C=A.state).wrap!==0&&C.mode!==11?g:C.mode===11&&e(1,G,E,0)!==C.check?-3:U(A,G,E,E)?(C.mode=31,-4):(C.havedict=1,v):g},c.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,a,c){"use strict";var r=t("../utils/common"),e=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],i=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],o=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];a.exports=function(n,h,v,g,s,d,z,u){var M,m,p,f,H,w,y,k,I,U=u.bits,A=0,G=0,C=0,E=0,t1=0,F=0,X=0,D=0,c1=0,j=0,_=null,g1=0,Q=new r.Buf16(16),K=new r.Buf16(16),h1=null,C1=0;for(A=0;A<=15;A++)Q[A]=0;for(G=0;G<g;G++)Q[h[v+G]]++;for(t1=U,E=15;1<=E&&Q[E]===0;E--);if(E<t1&&(t1=E),E===0)return s[d++]=20971520,s[d++]=20971520,u.bits=1,0;for(C=1;C<E&&Q[C]===0;C++);for(t1<C&&(t1=C),A=D=1;A<=15;A++)if(D<<=1,(D-=Q[A])<0)return-1;if(0<D&&(n===0||E!==1))return-1;for(K[1]=0,A=1;A<15;A++)K[A+1]=K[A]+Q[A];for(G=0;G<g;G++)h[v+G]!==0&&(z[K[h[v+G]]++]=G);if(w=n===0?(_=h1=z,19):n===1?(_=e,g1-=257,h1=l,C1-=257,256):(_=i,h1=o,-1),A=C,H=d,X=G=j=0,p=-1,f=(c1=1<<(F=t1))-1,n===1&&852<c1||n===2&&592<c1)return 1;for(;;){for(y=A-X,I=z[G]<w?(k=0,z[G]):z[G]>w?(k=h1[C1+z[G]],_[g1+z[G]]):(k=96,0),M=1<<A-X,C=m=1<<F;s[H+(j>>X)+(m-=M)]=y<<24|k<<16|I|0,m!==0;);for(M=1<<A-1;j&M;)M>>=1;if(M!==0?(j&=M-1,j+=M):j=0,G++,--Q[A]==0){if(A===E)break;A=h[v+z[G]]}if(t1<A&&(j&f)!==p){for(X===0&&(X=t1),H+=C,D=1<<(F=A-X);F+X<E&&!((D-=Q[F+X])<=0);)F++,D<<=1;if(c1+=1<<F,n===1&&852<c1||n===2&&592<c1)return 1;s[p=j&f]=t1<<24|F<<16|H-d|0}}return j!==0&&(s[H+j]=A-X<<24|64<<16|0),u.bits=t1,0}},{"../utils/common":41}],51:[function(t,a,c){"use strict";a.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,a,c){"use strict";var r=t("../utils/common"),e=0,l=1;function i(R){for(var O=R.length;0<=--O;)R[O]=0}var o=0,n=29,h=256,v=h+1+n,g=30,s=19,d=2*v+1,z=15,u=16,M=7,m=256,p=16,f=17,H=18,w=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],y=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],k=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],I=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],U=new Array(2*(v+2));i(U);var A=new Array(2*g);i(A);var G=new Array(512);i(G);var C=new Array(256);i(C);var E=new Array(n);i(E);var t1,F,X,D=new Array(g);function c1(R,O,J,r1,q){this.static_tree=R,this.extra_bits=O,this.extra_base=J,this.elems=r1,this.max_length=q,this.has_stree=R&&R.length}function j(R,O){this.dyn_tree=R,this.max_code=0,this.stat_desc=O}function _(R){return R<256?G[R]:G[256+(R>>>7)]}function g1(R,O){R.pending_buf[R.pending++]=255&O,R.pending_buf[R.pending++]=O>>>8&255}function Q(R,O,J){R.bi_valid>u-J?(R.bi_buf|=O<<R.bi_valid&65535,g1(R,R.bi_buf),R.bi_buf=O>>u-R.bi_valid,R.bi_valid+=J-u):(R.bi_buf|=O<<R.bi_valid&65535,R.bi_valid+=J)}function K(R,O,J){Q(R,J[2*O],J[2*O+1])}function h1(R,O){for(var J=0;J|=1&R,R>>>=1,J<<=1,0<--O;);return J>>>1}function C1(R,O,J){var r1,q,n1=new Array(z+1),d1=0;for(r1=1;r1<=z;r1++)n1[r1]=d1=d1+J[r1-1]<<1;for(q=0;q<=O;q++){var l1=R[2*q+1];l1!==0&&(R[2*q]=h1(n1[l1]++,l1))}}function N(R){var O;for(O=0;O<v;O++)R.dyn_ltree[2*O]=0;for(O=0;O<g;O++)R.dyn_dtree[2*O]=0;for(O=0;O<s;O++)R.bl_tree[2*O]=0;R.dyn_ltree[2*m]=1,R.opt_len=R.static_len=0,R.last_lit=R.matches=0}function f1(R){8<R.bi_valid?g1(R,R.bi_buf):0<R.bi_valid&&(R.pending_buf[R.pending++]=R.bi_buf),R.bi_buf=0,R.bi_valid=0}function i1(R,O,J,r1){var q=2*O,n1=2*J;return R[q]<R[n1]||R[q]===R[n1]&&r1[O]<=r1[J]}function B1(R,O,J){for(var r1=R.heap[J],q=J<<1;q<=R.heap_len&&(q<R.heap_len&&i1(O,R.heap[q+1],R.heap[q],R.depth)&&q++,!i1(O,r1,R.heap[q],R.depth));)R.heap[J]=R.heap[q],J=q,q<<=1;R.heap[J]=r1}function k1(R,O,J){var r1,q,n1,d1,l1=0;if(R.last_lit!==0)for(;r1=R.pending_buf[R.d_buf+2*l1]<<8|R.pending_buf[R.d_buf+2*l1+1],q=R.pending_buf[R.l_buf+l1],l1++,r1===0?K(R,q,O):(K(R,(n1=C[q])+h+1,O),(d1=w[n1])!==0&&Q(R,q-=E[n1],d1),K(R,n1=_(--r1),J),(d1=y[n1])!==0&&Q(R,r1-=D[n1],d1)),l1<R.last_lit;);K(R,m,O)}function A1(R,O){var J,r1,q,n1=O.dyn_tree,d1=O.stat_desc.static_tree,l1=O.stat_desc.has_stree,e1=O.stat_desc.elems,w1=-1;for(R.heap_len=0,R.heap_max=d,J=0;J<e1;J++)n1[2*J]!==0?(R.heap[++R.heap_len]=w1=J,R.depth[J]=0):n1[2*J+1]=0;for(;R.heap_len<2;)n1[2*(q=R.heap[++R.heap_len]=w1<2?++w1:0)]=1,R.depth[q]=0,R.opt_len--,l1&&(R.static_len-=d1[2*q+1]);for(O.max_code=w1,J=R.heap_len>>1;1<=J;J--)B1(R,n1,J);for(q=e1;J=R.heap[1],R.heap[1]=R.heap[R.heap_len--],B1(R,n1,1),r1=R.heap[1],R.heap[--R.heap_max]=J,R.heap[--R.heap_max]=r1,n1[2*q]=n1[2*J]+n1[2*r1],R.depth[q]=(R.depth[J]>=R.depth[r1]?R.depth[J]:R.depth[r1])+1,n1[2*J+1]=n1[2*r1+1]=q,R.heap[1]=q++,B1(R,n1,1),2<=R.heap_len;);R.heap[--R.heap_max]=R.heap[1],function(R1,a0){var V0,p4,Xt,p2,ne,lv,a5=a0.dyn_tree,uM=a0.max_code,xq=a0.stat_desc.static_tree,Cq=a0.stat_desc.has_stree,Lq=a0.stat_desc.extra_bits,pM=a0.stat_desc.extra_base,Yt=a0.stat_desc.max_length,he=0;for(p2=0;p2<=z;p2++)R1.bl_count[p2]=0;for(a5[2*R1.heap[R1.heap_max]+1]=0,V0=R1.heap_max+1;V0<d;V0++)Yt<(p2=a5[2*a5[2*(p4=R1.heap[V0])+1]+1]+1)&&(p2=Yt,he++),a5[2*p4+1]=p2,uM<p4||(R1.bl_count[p2]++,ne=0,pM<=p4&&(ne=Lq[p4-pM]),lv=a5[2*p4],R1.opt_len+=lv*(p2+ne),Cq&&(R1.static_len+=lv*(xq[2*p4+1]+ne)));if(he!==0){do{for(p2=Yt-1;R1.bl_count[p2]===0;)p2--;R1.bl_count[p2]--,R1.bl_count[p2+1]+=2,R1.bl_count[Yt]--,he-=2}while(0<he);for(p2=Yt;p2!==0;p2--)for(p4=R1.bl_count[p2];p4!==0;)uM<(Xt=R1.heap[--V0])||(a5[2*Xt+1]!==p2&&(R1.opt_len+=(p2-a5[2*Xt+1])*a5[2*Xt],a5[2*Xt+1]=p2),p4--)}}(R,O),C1(n1,w1,R.bl_count)}function L(R,O,J){var r1,q,n1=-1,d1=O[1],l1=0,e1=7,w1=4;for(d1===0&&(e1=138,w1=3),O[2*(J+1)+1]=65535,r1=0;r1<=J;r1++)q=d1,d1=O[2*(r1+1)+1],++l1<e1&&q===d1||(l1<w1?R.bl_tree[2*q]+=l1:q!==0?(q!==n1&&R.bl_tree[2*q]++,R.bl_tree[2*p]++):l1<=10?R.bl_tree[2*f]++:R.bl_tree[2*H]++,n1=q,w1=(l1=0)===d1?(e1=138,3):q===d1?(e1=6,3):(e1=7,4))}function Y(R,O,J){var r1,q,n1=-1,d1=O[1],l1=0,e1=7,w1=4;for(d1===0&&(e1=138,w1=3),r1=0;r1<=J;r1++)if(q=d1,d1=O[2*(r1+1)+1],!(++l1<e1&&q===d1)){if(l1<w1)for(;K(R,q,R.bl_tree),--l1!=0;);else q!==0?(q!==n1&&(K(R,q,R.bl_tree),l1--),K(R,p,R.bl_tree),Q(R,l1-3,2)):l1<=10?(K(R,f,R.bl_tree),Q(R,l1-3,3)):(K(R,H,R.bl_tree),Q(R,l1-11,7));n1=q,w1=(l1=0)===d1?(e1=138,3):q===d1?(e1=6,3):(e1=7,4)}}i(D);var $=!1;function b(R,O,J,r1){Q(R,(o<<1)+(r1?1:0),3),function(q,n1,d1,l1){f1(q),l1&&(g1(q,d1),g1(q,~d1)),r.arraySet(q.pending_buf,q.window,n1,d1,q.pending),q.pending+=d1}(R,O,J,!0)}c._tr_init=function(R){$||(function(){var O,J,r1,q,n1,d1=new Array(z+1);for(q=r1=0;q<n-1;q++)for(E[q]=r1,O=0;O<1<<w[q];O++)C[r1++]=q;for(C[r1-1]=q,q=n1=0;q<16;q++)for(D[q]=n1,O=0;O<1<<y[q];O++)G[n1++]=q;for(n1>>=7;q<g;q++)for(D[q]=n1<<7,O=0;O<1<<y[q]-7;O++)G[256+n1++]=q;for(J=0;J<=z;J++)d1[J]=0;for(O=0;O<=143;)U[2*O+1]=8,O++,d1[8]++;for(;O<=255;)U[2*O+1]=9,O++,d1[9]++;for(;O<=279;)U[2*O+1]=7,O++,d1[7]++;for(;O<=287;)U[2*O+1]=8,O++,d1[8]++;for(C1(U,v+1,d1),O=0;O<g;O++)A[2*O+1]=5,A[2*O]=h1(O,5);t1=new c1(U,w,h+1,v,z),F=new c1(A,y,0,g,z),X=new c1(new Array(0),k,0,s,M)}(),$=!0),R.l_desc=new j(R.dyn_ltree,t1),R.d_desc=new j(R.dyn_dtree,F),R.bl_desc=new j(R.bl_tree,X),R.bi_buf=0,R.bi_valid=0,N(R)},c._tr_stored_block=b,c._tr_flush_block=function(R,O,J,r1){var q,n1,d1=0;0<R.level?(R.strm.data_type===2&&(R.strm.data_type=function(l1){var e1,w1=4093624447;for(e1=0;e1<=31;e1++,w1>>>=1)if(1&w1&&l1.dyn_ltree[2*e1]!==0)return e;if(l1.dyn_ltree[18]!==0||l1.dyn_ltree[20]!==0||l1.dyn_ltree[26]!==0)return l;for(e1=32;e1<h;e1++)if(l1.dyn_ltree[2*e1]!==0)return l;return e}(R)),A1(R,R.l_desc),A1(R,R.d_desc),d1=function(l1){var e1;for(L(l1,l1.dyn_ltree,l1.l_desc.max_code),L(l1,l1.dyn_dtree,l1.d_desc.max_code),A1(l1,l1.bl_desc),e1=s-1;3<=e1&&l1.bl_tree[2*I[e1]+1]===0;e1--);return l1.opt_len+=3*(e1+1)+5+5+4,e1}(R),q=R.opt_len+3+7>>>3,(n1=R.static_len+3+7>>>3)<=q&&(q=n1)):q=n1=J+5,J+4<=q&&O!==-1?b(R,O,J,r1):R.strategy===4||n1===q?(Q(R,2+(r1?1:0),3),k1(R,U,A)):(Q(R,4+(r1?1:0),3),function(l1,e1,w1,R1){var a0;for(Q(l1,e1-257,5),Q(l1,w1-1,5),Q(l1,R1-4,4),a0=0;a0<R1;a0++)Q(l1,l1.bl_tree[2*I[a0]+1],3);Y(l1,l1.dyn_ltree,e1-1),Y(l1,l1.dyn_dtree,w1-1)}(R,R.l_desc.max_code+1,R.d_desc.max_code+1,d1+1),k1(R,R.dyn_ltree,R.dyn_dtree)),N(R),r1&&f1(R)},c._tr_tally=function(R,O,J){return R.pending_buf[R.d_buf+2*R.last_lit]=O>>>8&255,R.pending_buf[R.d_buf+2*R.last_lit+1]=255&O,R.pending_buf[R.l_buf+R.last_lit]=255&J,R.last_lit++,O===0?R.dyn_ltree[2*J]++:(R.matches++,O--,R.dyn_ltree[2*(C[J]+h+1)]++,R.dyn_dtree[2*_(O)]++),R.last_lit===R.lit_bufsize-1},c._tr_align=function(R){Q(R,2,3),K(R,m,U),function(O){O.bi_valid===16?(g1(O,O.bi_buf),O.bi_buf=0,O.bi_valid=0):8<=O.bi_valid&&(O.pending_buf[O.pending++]=255&O.bi_buf,O.bi_buf>>=8,O.bi_valid-=8)}(R)}},{"../utils/common":41}],53:[function(t,a,c){"use strict";a.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,a,c){(function(r){(function(e,l){"use strict";if(!e.setImmediate){var i,o,n,h,v=1,g={},s=!1,d=e.document,z=Object.getPrototypeOf&&Object.getPrototypeOf(e);z=z&&z.setTimeout?z:e,i={}.toString.call(e.process)==="[object process]"?function(p){process.nextTick(function(){M(p)})}:function(){if(e.postMessage&&!e.importScripts){var p=!0,f=e.onmessage;return e.onmessage=function(){p=!1},e.postMessage("","*"),e.onmessage=f,p}}()?(h="setImmediate$"+Math.random()+"$",e.addEventListener?e.addEventListener("message",m,!1):e.attachEvent("onmessage",m),function(p){e.postMessage(h+p,"*")}):e.MessageChannel?((n=new MessageChannel).port1.onmessage=function(p){M(p.data)},function(p){n.port2.postMessage(p)}):d&&"onreadystatechange"in d.createElement("script")?(o=d.documentElement,function(p){var f=d.createElement("script");f.onreadystatechange=function(){M(p),f.onreadystatechange=null,o.removeChild(f),f=null},o.appendChild(f)}):function(p){setTimeout(M,0,p)},z.setImmediate=function(p){typeof p!="function"&&(p=new Function(""+p));for(var f=new Array(arguments.length-1),H=0;H<f.length;H++)f[H]=arguments[H+1];var w={callback:p,args:f};return g[v]=w,i(v),v++},z.clearImmediate=u}function u(p){delete g[p]}function M(p){if(s)setTimeout(M,0,p);else{var f=g[p];if(f){s=!0;try{(function(H){var w=H.callback,y=H.args;switch(y.length){case 0:w();break;case 1:w(y[0]);break;case 2:w(y[0],y[1]);break;case 3:w(y[0],y[1],y[2]);break;default:w.apply(l,y)}})(f)}finally{u(p),s=!1}}}}function m(p){p.source===e&&typeof p.data=="string"&&p.data.indexOf(h)===0&&M(+p.data.slice(h.length))}})(typeof self=="undefined"?r===void 0?this:r:self)}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}]},{},[10])(10)})});var rn,gr,t51,kI,a51,qy1,c51,tn,r51,AI,e51,Su,an,cn,a7,l51,i51,o51,dr,n3,n51,h51,ku,en,RI=x(()=>{rn=P(T(),1),gr=P(T(),1),t51=t=>typeof t=="function",kI=(t,a)=>t51(t)?t(a):t,a51=(()=>{let t=0;return()=>(++t).toString()})(),qy1=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let a=matchMedia("(prefers-reduced-motion: reduce)");t=!a||a.matches}return t}})(),c51=20,tn=new Map,r51=1e3,AI=t=>{if(tn.has(t))return;let a=setTimeout(()=>{tn.delete(t),a7({type:4,toastId:t})},r51);tn.set(t,a)},e51=t=>{let a=tn.get(t);a&&clearTimeout(a)},Su=(t,a)=>{switch(a.type){case 0:return W(S({},t),{toasts:[a.toast,...t.toasts].slice(0,c51)});case 1:return a.toast.id&&e51(a.toast.id),W(S({},t),{toasts:t.toasts.map(l=>l.id===a.toast.id?S(S({},l),a.toast):l)});case 2:let{toast:c}=a;return t.toasts.find(l=>l.id===c.id)?Su(t,{type:1,toast:c}):Su(t,{type:0,toast:c});case 3:let{toastId:r}=a;return r?AI(r):t.toasts.forEach(l=>{AI(l.id)}),W(S({},t),{toasts:t.toasts.map(l=>l.id===r||r===void 0?W(S({},l),{visible:!1}):l)});case 4:return a.toastId===void 0?W(S({},t),{toasts:[]}):W(S({},t),{toasts:t.toasts.filter(l=>l.id!==a.toastId)});case 5:return W(S({},t),{pausedAt:a.time});case 6:let e=a.time-(t.pausedAt||0);return W(S({},t),{pausedAt:void 0,toasts:t.toasts.map(l=>W(S({},l),{pauseDuration:l.pauseDuration+e}))})}},an=[],cn={toasts:[],pausedAt:void 0},a7=t=>{cn=Su(cn,t),an.forEach(a=>{a(cn)})},l51={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},i51=(t={})=>{let[a,c]=(0,rn.useState)(cn);(0,rn.useEffect)(()=>(an.push(c),()=>{let e=an.indexOf(c);e>-1&&an.splice(e,1)}),[a]);let r=a.toasts.map(e=>{var l,i;return W(S(S(S({},t),t[e.type]),e),{duration:e.duration||((l=t[e.type])==null?void 0:l.duration)||(t==null?void 0:t.duration)||l51[e.type],style:S(S(S({},t.style),(i=t[e.type])==null?void 0:i.style),e.style)})});return W(S({},a),{toasts:r})},o51=(t,a="blank",c)=>W(S({createdAt:Date.now(),visible:!0,type:a,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0},c),{id:(c==null?void 0:c.id)||a51()}),dr=t=>(a,c)=>{let r=o51(a,t,c);return a7({type:2,toast:r}),r.id},n3=(t,a)=>dr("blank")(t,a);n3.error=dr("error");n3.success=dr("success");n3.loading=dr("loading");n3.custom=dr("custom");n3.dismiss=t=>{a7({type:3,toastId:t})};n3.remove=t=>a7({type:4,toastId:t});n3.promise=(t,a,c)=>{let r=n3.loading(a.loading,S(S({},c),c==null?void 0:c.loading));return t.then(e=>(n3.success(kI(a.success,e),S(S({id:r},c),c==null?void 0:c.success)),e)).catch(e=>{n3.error(kI(a.error,e),S(S({id:r},c),c==null?void 0:c.error))}),t};n51=(t,a)=>{a7({type:1,toast:{id:t,height:a}})},h51=()=>{a7({type:5,time:Date.now()})},ku=t=>{let{toasts:a,pausedAt:c}=i51(t);(0,gr.useEffect)(()=>{if(c)return;let l=Date.now(),i=a.map(o=>{if(o.duration===1/0)return;let n=(o.duration||0)+o.pauseDuration-(l-o.createdAt);if(n<0){o.visible&&n3.dismiss(o.id);return}return setTimeout(()=>n3.dismiss(o.id),n)});return()=>{i.forEach(o=>o&&clearTimeout(o))}},[a,c]);let r=(0,gr.useCallback)(()=>{c&&a7({type:6,time:Date.now()})},[c]),e=(0,gr.useCallback)((l,i)=>{let{reverseOrder:o=!1,gutter:n=8,defaultPosition:h}=i||{},v=a.filter(d=>(d.position||h)===(l.position||h)&&d.height),g=v.findIndex(d=>d.id===l.id),s=v.filter((d,z)=>z<g&&d.visible).length;return v.filter(d=>d.visible).slice(...o?[s+1]:[0,s]).reduce((d,z)=>d+(z.height||0)+n,0)},[a]);return{toasts:a,handlers:{updateHeight:n51,startPause:h51,endPause:r,calculateOffset:e}}},en=n3});function ZI(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}function v51(t){ht=t}function Z2(t,a){if(a){if(g51.test(t))return t.replace(d51,bI)}else if(s51.test(t))return t.replace(z51,bI);return t}function OI(t){return t.replace(p51,(a,c)=>(c=c.toLowerCase(),c==="colon"?":":c.charAt(0)==="#"?c.charAt(1)==="x"?String.fromCharCode(parseInt(c.substring(2),16)):String.fromCharCode(+c.substring(1)):""))}function U1(t,a){t=typeof t=="string"?t:t.source,a=a||"";let c={replace:(r,e)=>(e=e.source||e,e=e.replace(m51,"$1"),t=t.replace(r,e),c),getRegex:()=>new RegExp(t,a)};return c}function FI(t,a,c){if(t){let r;try{r=decodeURIComponent(OI(c)).replace(M51,"").toLowerCase()}catch(e){return null}if(r.indexOf("javascript:")===0||r.indexOf("vbscript:")===0||r.indexOf("data:")===0)return null}a&&!f51.test(c)&&(c=H51(a,c));try{c=encodeURI(c).replace(/%25/g,"%")}catch(r){return null}return c}function H51(t,a){ln[" "+t]||(x51.test(t)?ln[" "+t]=t+"/":ln[" "+t]=on(t,"/",!0)),t=ln[" "+t];let c=t.indexOf(":")===-1;return a.substring(0,2)==="//"?c?a:t.replace(C51,"$1")+a:a.charAt(0)==="/"?c?a:t.replace(L51,"$1")+a:t+a}function l4(t){let a=1,c,r;for(;a<arguments.length;a++){c=arguments[a];for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r])}return t}function II(t,a){let c=t.replace(/\|/g,(l,i,o)=>{let n=!1,h=i;for(;--h>=0&&o[h]==="\\";)n=!n;return n?"|":" |"}),r=c.split(/ \|/),e=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),r.length>a)r.splice(a);else for(;r.length<a;)r.push("");for(;e<r.length;e++)r[e]=r[e].trim().replace(/\\\|/g,"|");return r}function on(t,a,c){let r=t.length;if(r===0)return"";let e=0;for(;e<r;){let l=t.charAt(r-e-1);if(l===a&&!c)e++;else if(l!==a&&c)e++;else break}return t.slice(0,r-e)}function V51(t,a){if(t.indexOf(a[1])===-1)return-1;let c=t.length,r=0,e=0;for(;e<c;e++)if(t[e]==="\\")e++;else if(t[e]===a[0])r++;else if(t[e]===a[1]&&(r--,r<0))return e;return-1}function EI(t){t&&t.sanitize&&!t.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function PI(t,a){if(a<1)return"";let c="";for(;a>1;)a&1&&(c+=t),a>>=1,t+=t;return c+t}function GI(t,a,c,r){let e=a.href,l=a.title?Z2(a.title):null,i=t[1].replace(/\\([\[\]])/g,"$1");if(t[0].charAt(0)!=="!"){r.state.inLink=!0;let o={type:"link",raw:c,href:e,title:l,text:i,tokens:r.inlineTokens(i)};return r.state.inLink=!1,o}return{type:"image",raw:c,href:e,title:l,text:Z2(i)}}function w51(t,a){let c=t.match(/^(\s+)(?:```)/);if(c===null)return a;let r=c[1];return a.split("\n").map(e=>{let l=e.match(/^\s+/);if(l===null)return e;let[i]=l;return i.length>=r.length?e.slice(r.length):e}).join("\n")}function B51(t){return t.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function TI(t){let a="",c,r,e=t.length;for(c=0;c<e;c++)r=t.charCodeAt(c),Math.random()>.5&&(r="x"+r.toString(16)),a+="&#"+r+";";return a}function V1(t,a,c){if(typeof t=="undefined"||t===null)throw new Error("marked(): input parameter is undefined or null");if(typeof t!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");if(typeof a=="function"&&(c=a,a=null),a=l4({},V1.defaults,a||{}),EI(a),c){let e=a.highlight,l;try{l=Q6.lex(t,a)}catch(n){return c(n)}let i=function(n){let h;if(!n)try{a.walkTokens&&V1.walkTokens(l,a.walkTokens),h=w5.parse(l,a)}catch(v){n=v}return a.highlight=e,n?c(n):c(null,h)};if(!e||e.length<3||(delete a.highlight,!l.length))return i();let o=0;V1.walkTokens(l,function(n){n.type==="code"&&(o++,setTimeout(()=>{e(n.text,n.lang,function(h,v){if(h)return i(h);v!=null&&v!==n.text&&(n.text=v,n.escaped=!0),o--,o===0&&i()})},0))}),o===0&&i();return}function r(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",a.silent)return"<p>An error occurred:</p><pre>"+Z2(e.message+"",!0)+"</pre>";throw e}try{let e=Q6.lex(t,a);if(a.walkTokens){if(a.async)return Promise.all(V1.walkTokens(e,a.walkTokens)).then(()=>w5.parse(e,a)).catch(r);V1.walkTokens(e,a.walkTokens)}return w5.parse(e,a)}catch(e){r(e)}}var ht,g51,d51,s51,z51,u51,bI,p51,m51,M51,f51,ln,x51,C51,L51,nn,sr,H1,p1,Q6,zr,hn,vn,w5,Ky1,$y1,Qy1,Xy1,Yy1,Jy1,tS1,DI=x(()=>{ht=ZI();g51=/[&<>"']/,d51=/[&<>"']/g,s51=/[<>"']|&(?!#?\w+;)/,z51=/[<>"']|&(?!#?\w+;)/g,u51={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},bI=t=>u51[t];p51=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;m51=/(^|[^\[])\^/g;M51=/[^\w:]/g,f51=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;ln={},x51=/^[^:]+:\/*[^/]*$/,C51=/^([^:]+:)[\s\S]*$/,L51=/^([^:]+:\/*[^/]*)[\s\S]*$/;nn={exec:function(){}};sr=class{constructor(a){this.options=a||ht}space(a){let c=this.rules.block.newline.exec(a);if(c&&c[0].length>0)return{type:"space",raw:c[0]}}code(a){let c=this.rules.block.code.exec(a);if(c){let r=c[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:c[0],codeBlockStyle:"indented",text:this.options.pedantic?r:on(r,"\n")}}}fences(a){let c=this.rules.block.fences.exec(a);if(c){let r=c[0],e=w51(r,c[3]||"");return{type:"code",raw:r,lang:c[2]?c[2].trim():c[2],text:e}}}heading(a){let c=this.rules.block.heading.exec(a);if(c){let r=c[2].trim();if(/#$/.test(r)){let e=on(r,"#");(this.options.pedantic||!e||/ $/.test(e))&&(r=e.trim())}return{type:"heading",raw:c[0],depth:c[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(a){let c=this.rules.block.hr.exec(a);if(c)return{type:"hr",raw:c[0]}}blockquote(a){let c=this.rules.block.blockquote.exec(a);if(c){let r=c[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:c[0],tokens:this.lexer.blockTokens(r,[]),text:r}}}list(a){let c=this.rules.block.list.exec(a);if(c){let r,e,l,i,o,n,h,v,g,s,d,z,u=c[1].trim(),M=u.length>1,m={type:"list",raw:"",ordered:M,start:M?+u.slice(0,-1):"",loose:!1,items:[]};u=M?"\\d{1,9}\\".concat(u.slice(-1)):"\\".concat(u),this.options.pedantic&&(u=M?u:"[*+-]");let p=new RegExp("^( {0,3}".concat(u,")((?:[	 ][^\\n]*)?(?:\\n|$))"));for(;a&&(z=!1,!(!(c=p.exec(a))||this.rules.block.hr.test(a)));){if(r=c[0],a=a.substring(r.length),v=c[2].split("\n",1)[0],g=a.split("\n",1)[0],this.options.pedantic?(i=2,d=v.trimLeft()):(i=c[2].search(/[^ ]/),i=i>4?1:i,d=v.slice(i),i+=c[1].length),n=!1,!v&&/^ *$/.test(g)&&(r+=g+"\n",a=a.substring(g.length+1),z=!0),!z){let H=new RegExp("^ {0,".concat(Math.min(3,i-1),"}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))")),w=new RegExp("^ {0,".concat(Math.min(3,i-1),"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)")),y=new RegExp("^ {0,".concat(Math.min(3,i-1),"}(?:```|~~~)")),k=new RegExp("^ {0,".concat(Math.min(3,i-1),"}#"));for(;a&&(s=a.split("\n",1)[0],v=s,this.options.pedantic&&(v=v.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(y.test(v)||k.test(v)||H.test(v)||w.test(a)));){if(v.search(/[^ ]/)>=i||!v.trim())d+="\n"+v.slice(i);else if(!n)d+="\n"+v;else break;!n&&!v.trim()&&(n=!0),r+=s+"\n",a=a.substring(s.length+1)}}m.loose||(h?m.loose=!0:/\n *\n *$/.test(r)&&(h=!0)),this.options.gfm&&(e=/^\[[ xX]\] /.exec(d),e&&(l=e[0]!=="[ ] ",d=d.replace(/^\[[ xX]\] +/,""))),m.items.push({type:"list_item",raw:r,task:!!e,checked:l,loose:!1,text:d}),m.raw+=r}m.items[m.items.length-1].raw=r.trimRight(),m.items[m.items.length-1].text=d.trimRight(),m.raw=m.raw.trimRight();let f=m.items.length;for(o=0;o<f;o++){this.lexer.state.top=!1,m.items[o].tokens=this.lexer.blockTokens(m.items[o].text,[]);let H=m.items[o].tokens.filter(y=>y.type==="space"),w=H.every(y=>{let k=y.raw.split(""),I=0;for(let U of k)if(U==="\n"&&(I+=1),I>1)return!0;return!1});!m.loose&&H.length&&w&&(m.loose=!0,m.items[o].loose=!0)}return m}}html(a){let c=this.rules.block.html.exec(a);if(c){let r={type:"html",raw:c[0],pre:!this.options.sanitizer&&(c[1]==="pre"||c[1]==="script"||c[1]==="style"),text:c[0]};if(this.options.sanitize){let e=this.options.sanitizer?this.options.sanitizer(c[0]):Z2(c[0]);r.type="paragraph",r.text=e,r.tokens=this.lexer.inline(e)}return r}}def(a){let c=this.rules.block.def.exec(a);if(c)return c[3]&&(c[3]=c[3].substring(1,c[3].length-1)),{type:"def",tag:c[1].toLowerCase().replace(/\s+/g," "),raw:c[0],href:c[2],title:c[3]}}table(a){let c=this.rules.block.table.exec(a);if(c){let r={type:"table",header:II(c[1]).map(e=>({text:e})),align:c[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:c[3]&&c[3].trim()?c[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(r.header.length===r.align.length){r.raw=c[0];let e=r.align.length,l,i,o,n;for(l=0;l<e;l++)/^ *-+: *$/.test(r.align[l])?r.align[l]="right":/^ *:-+: *$/.test(r.align[l])?r.align[l]="center":/^ *:-+ *$/.test(r.align[l])?r.align[l]="left":r.align[l]=null;for(e=r.rows.length,l=0;l<e;l++)r.rows[l]=II(r.rows[l],r.header.length).map(h=>({text:h}));for(e=r.header.length,i=0;i<e;i++)r.header[i].tokens=this.lexer.inline(r.header[i].text);for(e=r.rows.length,i=0;i<e;i++)for(n=r.rows[i],o=0;o<n.length;o++)n[o].tokens=this.lexer.inline(n[o].text);return r}}}lheading(a){let c=this.rules.block.lheading.exec(a);if(c)return{type:"heading",raw:c[0],depth:c[2].charAt(0)==="="?1:2,text:c[1],tokens:this.lexer.inline(c[1])}}paragraph(a){let c=this.rules.block.paragraph.exec(a);if(c){let r=c[1].charAt(c[1].length-1)==="\n"?c[1].slice(0,-1):c[1];return{type:"paragraph",raw:c[0],text:r,tokens:this.lexer.inline(r)}}}text(a){let c=this.rules.block.text.exec(a);if(c)return{type:"text",raw:c[0],text:c[0],tokens:this.lexer.inline(c[0])}}escape(a){let c=this.rules.inline.escape.exec(a);if(c)return{type:"escape",raw:c[0],text:Z2(c[1])}}tag(a){let c=this.rules.inline.tag.exec(a);if(c)return!this.lexer.state.inLink&&/^<a /i.test(c[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(c[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(c[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(c[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:c[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(c[0]):Z2(c[0]):c[0]}}link(a){let c=this.rules.inline.link.exec(a);if(c){let r=c[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;let i=on(r.slice(0,-1),"\\");if((r.length-i.length)%2===0)return}else{let i=V51(c[2],"()");if(i>-1){let n=(c[0].indexOf("!")===0?5:4)+c[1].length+i;c[2]=c[2].substring(0,i),c[0]=c[0].substring(0,n).trim(),c[3]=""}}let e=c[2],l="";if(this.options.pedantic){let i=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(e);i&&(e=i[1],l=i[3])}else l=c[3]?c[3].slice(1,-1):"";return e=e.trim(),/^</.test(e)&&(this.options.pedantic&&!/>$/.test(r)?e=e.slice(1):e=e.slice(1,-1)),GI(c,{href:e&&e.replace(this.rules.inline._escapes,"$1"),title:l&&l.replace(this.rules.inline._escapes,"$1")},c[0],this.lexer)}}reflink(a,c){let r;if((r=this.rules.inline.reflink.exec(a))||(r=this.rules.inline.nolink.exec(a))){let e=(r[2]||r[1]).replace(/\s+/g," ");if(e=c[e.toLowerCase()],!e||!e.href){let l=r[0].charAt(0);return{type:"text",raw:l,text:l}}return GI(r,e,r[0],this.lexer)}}emStrong(a,c,r=""){let e=this.rules.inline.emStrong.lDelim.exec(a);if(!e||e[3]&&r.match(/[\p{L}\p{N}]/u))return;let l=e[1]||e[2]||"";if(!l||l&&(r===""||this.rules.inline.punctuation.exec(r))){let i=e[0].length-1,o,n,h=i,v=0,g=e[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(g.lastIndex=0,c=c.slice(-1*a.length+i);(e=g.exec(c))!=null;){if(o=e[1]||e[2]||e[3]||e[4]||e[5]||e[6],!o)continue;if(n=o.length,e[3]||e[4]){h+=n;continue}else if((e[5]||e[6])&&i%3&&!((i+n)%3)){v+=n;continue}if(h-=n,h>0)continue;if(n=Math.min(n,n+h+v),Math.min(i,n)%2){let d=a.slice(1,i+e.index+n);return{type:"em",raw:a.slice(0,i+e.index+n+1),text:d,tokens:this.lexer.inlineTokens(d)}}let s=a.slice(2,i+e.index+n-1);return{type:"strong",raw:a.slice(0,i+e.index+n+1),text:s,tokens:this.lexer.inlineTokens(s)}}}}codespan(a){let c=this.rules.inline.code.exec(a);if(c){let r=c[2].replace(/\n/g," "),e=/[^ ]/.test(r),l=/^ /.test(r)&&/ $/.test(r);return e&&l&&(r=r.substring(1,r.length-1)),r=Z2(r,!0),{type:"codespan",raw:c[0],text:r}}}br(a){let c=this.rules.inline.br.exec(a);if(c)return{type:"br",raw:c[0]}}del(a){let c=this.rules.inline.del.exec(a);if(c)return{type:"del",raw:c[0],text:c[2],tokens:this.lexer.inlineTokens(c[2])}}autolink(a,c){let r=this.rules.inline.autolink.exec(a);if(r){let e,l;return r[2]==="@"?(e=Z2(this.options.mangle?c(r[1]):r[1]),l="mailto:"+e):(e=Z2(r[1]),l=e),{type:"link",raw:r[0],text:e,href:l,tokens:[{type:"text",raw:e,text:e}]}}}url(a,c){let r;if(r=this.rules.inline.url.exec(a)){let e,l;if(r[2]==="@")e=Z2(this.options.mangle?c(r[0]):r[0]),l="mailto:"+e;else{let i;do i=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0];while(i!==r[0]);e=Z2(r[0]),r[1]==="www."?l="http://"+e:l=e}return{type:"link",raw:r[0],text:e,href:l,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(a,c){let r=this.rules.inline.text.exec(a);if(r){let e;return this.lexer.state.inRawBlock?e=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):Z2(r[0]):r[0]:e=Z2(this.options.smartypants?c(r[0]):r[0]),{type:"text",raw:r[0],text:e}}}},H1={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:nn,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};H1._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;H1._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;H1.def=U1(H1.def).replace("label",H1._label).replace("title",H1._title).getRegex();H1.bullet=/(?:[*+-]|\d{1,9}[.)])/;H1.listItemStart=U1(/^( *)(bull) */).replace("bull",H1.bullet).getRegex();H1.list=U1(H1.list).replace(/bull/g,H1.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+H1.def.source+")").getRegex();H1._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";H1._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;H1.html=U1(H1.html,"i").replace("comment",H1._comment).replace("tag",H1._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();H1.paragraph=U1(H1._paragraph).replace("hr",H1.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",H1._tag).getRegex();H1.blockquote=U1(H1.blockquote).replace("paragraph",H1.paragraph).getRegex();H1.normal=l4({},H1);H1.gfm=l4({},H1.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"});H1.gfm.table=U1(H1.gfm.table).replace("hr",H1.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",H1._tag).getRegex();H1.gfm.paragraph=U1(H1._paragraph).replace("hr",H1.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",H1.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",H1._tag).getRegex();H1.pedantic=l4({},H1.normal,{html:U1("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",H1._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:nn,paragraph:U1(H1.normal._paragraph).replace("hr",H1.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",H1.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});p1={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:nn,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:nn,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};p1._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~";p1.punctuation=U1(p1.punctuation).replace(/punctuation/g,p1._punctuation).getRegex();p1.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;p1.escapedEmSt=/\\\*|\\_/g;p1._comment=U1(H1._comment).replace("(?:-->|$)","-->").getRegex();p1.emStrong.lDelim=U1(p1.emStrong.lDelim).replace(/punct/g,p1._punctuation).getRegex();p1.emStrong.rDelimAst=U1(p1.emStrong.rDelimAst,"g").replace(/punct/g,p1._punctuation).getRegex();p1.emStrong.rDelimUnd=U1(p1.emStrong.rDelimUnd,"g").replace(/punct/g,p1._punctuation).getRegex();p1._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;p1._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;p1._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;p1.autolink=U1(p1.autolink).replace("scheme",p1._scheme).replace("email",p1._email).getRegex();p1._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;p1.tag=U1(p1.tag).replace("comment",p1._comment).replace("attribute",p1._attribute).getRegex();p1._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;p1._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;p1._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;p1.link=U1(p1.link).replace("label",p1._label).replace("href",p1._href).replace("title",p1._title).getRegex();p1.reflink=U1(p1.reflink).replace("label",p1._label).replace("ref",H1._label).getRegex();p1.nolink=U1(p1.nolink).replace("ref",H1._label).getRegex();p1.reflinkSearch=U1(p1.reflinkSearch,"g").replace("reflink",p1.reflink).replace("nolink",p1.nolink).getRegex();p1.normal=l4({},p1);p1.pedantic=l4({},p1.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:U1(/^!?\[(label)\]\((.*?)\)/).replace("label",p1._label).getRegex(),reflink:U1(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",p1._label).getRegex()});p1.gfm=l4({},p1.normal,{escape:U1(p1.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/});p1.gfm.url=U1(p1.gfm.url,"i").replace("email",p1.gfm._extended_email).getRegex();p1.breaks=l4({},p1.gfm,{br:U1(p1.br).replace("{2,}","*").getRegex(),text:U1(p1.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});Q6=class t{constructor(a){this.tokens=[],this.tokens.links=Object.create(null),this.options=a||ht,this.options.tokenizer=this.options.tokenizer||new sr,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let c={block:H1.normal,inline:p1.normal};this.options.pedantic?(c.block=H1.pedantic,c.inline=p1.pedantic):this.options.gfm&&(c.block=H1.gfm,this.options.breaks?c.inline=p1.breaks:c.inline=p1.gfm),this.tokenizer.rules=c}static get rules(){return{block:H1,inline:p1}}static lex(a,c){return new t(c).lex(a)}static lexInline(a,c){return new t(c).inlineTokens(a)}lex(a){a=a.replace(/\r\n|\r/g,"\n"),this.blockTokens(a,this.tokens);let c;for(;c=this.inlineQueue.shift();)this.inlineTokens(c.src,c.tokens);return this.tokens}blockTokens(a,c=[]){this.options.pedantic?a=a.replace(/\t/g,"    ").replace(/^ +$/gm,""):a=a.replace(/^( *)(\t+)/gm,(o,n,h)=>n+"    ".repeat(h.length));let r,e,l,i;for(;a;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(o=>(r=o.call({lexer:this},a,c))?(a=a.substring(r.raw.length),c.push(r),!0):!1))){if(r=this.tokenizer.space(a)){a=a.substring(r.raw.length),r.raw.length===1&&c.length>0?c[c.length-1].raw+="\n":c.push(r);continue}if(r=this.tokenizer.code(a)){a=a.substring(r.raw.length),e=c[c.length-1],e&&(e.type==="paragraph"||e.type==="text")?(e.raw+="\n"+r.raw,e.text+="\n"+r.text,this.inlineQueue[this.inlineQueue.length-1].src=e.text):c.push(r);continue}if(r=this.tokenizer.fences(a)){a=a.substring(r.raw.length),c.push(r);continue}if(r=this.tokenizer.heading(a)){a=a.substring(r.raw.length),c.push(r);continue}if(r=this.tokenizer.hr(a)){a=a.substring(r.raw.length),c.push(r);continue}if(r=this.tokenizer.blockquote(a)){a=a.substring(r.raw.length),c.push(r);continue}if(r=this.tokenizer.list(a)){a=a.substring(r.raw.length),c.push(r);continue}if(r=this.tokenizer.html(a)){a=a.substring(r.raw.length),c.push(r);continue}if(r=this.tokenizer.def(a)){a=a.substring(r.raw.length),e=c[c.length-1],e&&(e.type==="paragraph"||e.type==="text")?(e.raw+="\n"+r.raw,e.text+="\n"+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=e.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});continue}if(r=this.tokenizer.table(a)){a=a.substring(r.raw.length),c.push(r);continue}if(r=this.tokenizer.lheading(a)){a=a.substring(r.raw.length),c.push(r);continue}if(l=a,this.options.extensions&&this.options.extensions.startBlock){let o=1/0,n=a.slice(1),h;this.options.extensions.startBlock.forEach(function(v){h=v.call({lexer:this},n),typeof h=="number"&&h>=0&&(o=Math.min(o,h))}),o<1/0&&o>=0&&(l=a.substring(0,o+1))}if(this.state.top&&(r=this.tokenizer.paragraph(l))){e=c[c.length-1],i&&e.type==="paragraph"?(e.raw+="\n"+r.raw,e.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=e.text):c.push(r),i=l.length!==a.length,a=a.substring(r.raw.length);continue}if(r=this.tokenizer.text(a)){a=a.substring(r.raw.length),e=c[c.length-1],e&&e.type==="text"?(e.raw+="\n"+r.raw,e.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=e.text):c.push(r);continue}if(a){let o="Infinite loop on byte: "+a.charCodeAt(0);if(this.options.silent){console.error(o);break}else throw new Error(o)}}return this.state.top=!0,c}inline(a,c=[]){return this.inlineQueue.push({src:a,tokens:c}),c}inlineTokens(a,c=[]){let r,e,l,i=a,o,n,h;if(this.tokens.links){let v=Object.keys(this.tokens.links);if(v.length>0)for(;(o=this.tokenizer.rules.inline.reflinkSearch.exec(i))!=null;)v.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(i=i.slice(0,o.index)+"["+PI("a",o[0].length-2)+"]"+i.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(o=this.tokenizer.rules.inline.blockSkip.exec(i))!=null;)i=i.slice(0,o.index)+"["+PI("a",o[0].length-2)+"]"+i.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(o=this.tokenizer.rules.inline.escapedEmSt.exec(i))!=null;)i=i.slice(0,o.index)+"++"+i.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;a;)if(n||(h=""),n=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(v=>(r=v.call({lexer:this},a,c))?(a=a.substring(r.raw.length),c.push(r),!0):!1))){if(r=this.tokenizer.escape(a)){a=a.substring(r.raw.length),c.push(r);continue}if(r=this.tokenizer.tag(a)){a=a.substring(r.raw.length),e=c[c.length-1],e&&r.type==="text"&&e.type==="text"?(e.raw+=r.raw,e.text+=r.text):c.push(r);continue}if(r=this.tokenizer.link(a)){a=a.substring(r.raw.length),c.push(r);continue}if(r=this.tokenizer.reflink(a,this.tokens.links)){a=a.substring(r.raw.length),e=c[c.length-1],e&&r.type==="text"&&e.type==="text"?(e.raw+=r.raw,e.text+=r.text):c.push(r);continue}if(r=this.tokenizer.emStrong(a,i,h)){a=a.substring(r.raw.length),c.push(r);continue}if(r=this.tokenizer.codespan(a)){a=a.substring(r.raw.length),c.push(r);continue}if(r=this.tokenizer.br(a)){a=a.substring(r.raw.length),c.push(r);continue}if(r=this.tokenizer.del(a)){a=a.substring(r.raw.length),c.push(r);continue}if(r=this.tokenizer.autolink(a,TI)){a=a.substring(r.raw.length),c.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(a,TI))){a=a.substring(r.raw.length),c.push(r);continue}if(l=a,this.options.extensions&&this.options.extensions.startInline){let v=1/0,g=a.slice(1),s;this.options.extensions.startInline.forEach(function(d){s=d.call({lexer:this},g),typeof s=="number"&&s>=0&&(v=Math.min(v,s))}),v<1/0&&v>=0&&(l=a.substring(0,v+1))}if(r=this.tokenizer.inlineText(l,B51)){a=a.substring(r.raw.length),r.raw.slice(-1)!=="_"&&(h=r.raw.slice(-1)),n=!0,e=c[c.length-1],e&&e.type==="text"?(e.raw+=r.raw,e.text+=r.text):c.push(r);continue}if(a){let v="Infinite loop on byte: "+a.charCodeAt(0);if(this.options.silent){console.error(v);break}else throw new Error(v)}}return c}},zr=class{constructor(a){this.options=a||ht}code(a,c,r){let e=(c||"").match(/\S*/)[0];if(this.options.highlight){let l=this.options.highlight(a,e);l!=null&&l!==a&&(r=!0,a=l)}return a=a.replace(/\n$/,"")+"\n",e?'<pre><code class="'+this.options.langPrefix+Z2(e,!0)+'">'+(r?a:Z2(a,!0))+"</code></pre>\n":"<pre><code>"+(r?a:Z2(a,!0))+"</code></pre>\n"}blockquote(a){return"<blockquote>\n".concat(a,"</blockquote>\n")}html(a){return a}heading(a,c,r,e){if(this.options.headerIds){let l=this.options.headerPrefix+e.slug(r);return"<h".concat(c,' id="').concat(l,'">').concat(a,"</h").concat(c,">\n")}return"<h".concat(c,">").concat(a,"</h").concat(c,">\n")}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(a,c,r){let e=c?"ol":"ul",l=c&&r!==1?' start="'+r+'"':"";return"<"+e+l+">\n"+a+"</"+e+">\n"}listitem(a){return"<li>".concat(a,"</li>\n")}checkbox(a){return"<input "+(a?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(a){return"<p>".concat(a,"</p>\n")}table(a,c){return c&&(c="<tbody>".concat(c,"</tbody>")),"<table>\n<thead>\n"+a+"</thead>\n"+c+"</table>\n"}tablerow(a){return"<tr>\n".concat(a,"</tr>\n")}tablecell(a,c){let r=c.header?"th":"td";return(c.align?"<".concat(r,' align="').concat(c.align,'">'):"<".concat(r,">"))+a+"</".concat(r,">\n")}strong(a){return"<strong>".concat(a,"</strong>")}em(a){return"<em>".concat(a,"</em>")}codespan(a){return"<code>".concat(a,"</code>")}br(){return this.options.xhtml?"<br/>":"<br>"}del(a){return"<del>".concat(a,"</del>")}link(a,c,r){if(a=FI(this.options.sanitize,this.options.baseUrl,a),a===null)return r;let e='<a href="'+Z2(a)+'"';return c&&(e+=' title="'+c+'"'),e+=">"+r+"</a>",e}image(a,c,r){if(a=FI(this.options.sanitize,this.options.baseUrl,a),a===null)return r;let e='<img src="'.concat(a,'" alt="').concat(r,'"');return c&&(e+=' title="'.concat(c,'"')),e+=this.options.xhtml?"/>":">",e}text(a){return a}},hn=class{strong(a){return a}em(a){return a}codespan(a){return a}del(a){return a}html(a){return a}text(a){return a}link(a,c,r){return""+r}image(a,c,r){return""+r}br(){return""}},vn=class{constructor(){this.seen={}}serialize(a){return a.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(a,c){let r=a,e=0;if(this.seen.hasOwnProperty(r)){e=this.seen[a];do e++,r=a+"-"+e;while(this.seen.hasOwnProperty(r))}return c||(this.seen[a]=e,this.seen[r]=0),r}slug(a,c={}){let r=this.serialize(a);return this.getNextSafeSlug(r,c.dryrun)}},w5=class t{constructor(a){this.options=a||ht,this.options.renderer=this.options.renderer||new zr,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new hn,this.slugger=new vn}static parse(a,c){return new t(c).parse(a)}static parseInline(a,c){return new t(c).parseInline(a)}parse(a,c=!0){let r="",e,l,i,o,n,h,v,g,s,d,z,u,M,m,p,f,H,w,y,k=a.length;for(e=0;e<k;e++){if(d=a[e],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[d.type]&&(y=this.options.extensions.renderers[d.type].call({parser:this},d),y!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(d.type))){r+=y||"";continue}switch(d.type){case"space":continue;case"hr":{r+=this.renderer.hr();continue}case"heading":{r+=this.renderer.heading(this.parseInline(d.tokens),d.depth,OI(this.parseInline(d.tokens,this.textRenderer)),this.slugger);continue}case"code":{r+=this.renderer.code(d.text,d.lang,d.escaped);continue}case"table":{for(g="",v="",o=d.header.length,l=0;l<o;l++)v+=this.renderer.tablecell(this.parseInline(d.header[l].tokens),{header:!0,align:d.align[l]});for(g+=this.renderer.tablerow(v),s="",o=d.rows.length,l=0;l<o;l++){for(h=d.rows[l],v="",n=h.length,i=0;i<n;i++)v+=this.renderer.tablecell(this.parseInline(h[i].tokens),{header:!1,align:d.align[i]});s+=this.renderer.tablerow(v)}r+=this.renderer.table(g,s);continue}case"blockquote":{s=this.parse(d.tokens),r+=this.renderer.blockquote(s);continue}case"list":{for(z=d.ordered,u=d.start,M=d.loose,o=d.items.length,s="",l=0;l<o;l++)p=d.items[l],f=p.checked,H=p.task,m="",p.task&&(w=this.renderer.checkbox(f),M?p.tokens.length>0&&p.tokens[0].type==="paragraph"?(p.tokens[0].text=w+" "+p.tokens[0].text,p.tokens[0].tokens&&p.tokens[0].tokens.length>0&&p.tokens[0].tokens[0].type==="text"&&(p.tokens[0].tokens[0].text=w+" "+p.tokens[0].tokens[0].text)):p.tokens.unshift({type:"text",text:w}):m+=w),m+=this.parse(p.tokens,M),s+=this.renderer.listitem(m,H,f);r+=this.renderer.list(s,z,u);continue}case"html":{r+=this.renderer.html(d.text);continue}case"paragraph":{r+=this.renderer.paragraph(this.parseInline(d.tokens));continue}case"text":{for(s=d.tokens?this.parseInline(d.tokens):d.text;e+1<k&&a[e+1].type==="text";)d=a[++e],s+="\n"+(d.tokens?this.parseInline(d.tokens):d.text);r+=c?this.renderer.paragraph(s):s;continue}default:{let I='Token with "'+d.type+'" type was not found.';if(this.options.silent){console.error(I);return}else throw new Error(I)}}}return r}parseInline(a,c){c=c||this.renderer;let r="",e,l,i,o=a.length;for(e=0;e<o;e++){if(l=a[e],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[l.type]&&(i=this.options.extensions.renderers[l.type].call({parser:this},l),i!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(l.type))){r+=i||"";continue}switch(l.type){case"escape":{r+=c.text(l.text);break}case"html":{r+=c.html(l.text);break}case"link":{r+=c.link(l.href,l.title,this.parseInline(l.tokens,c));break}case"image":{r+=c.image(l.href,l.title,l.text);break}case"strong":{r+=c.strong(this.parseInline(l.tokens,c));break}case"em":{r+=c.em(this.parseInline(l.tokens,c));break}case"codespan":{r+=c.codespan(l.text);break}case"br":{r+=c.br();break}case"del":{r+=c.del(this.parseInline(l.tokens,c));break}case"text":{r+=c.text(l.text);break}default:{let n='Token with "'+l.type+'" type was not found.';if(this.options.silent){console.error(n);return}else throw new Error(n)}}}return r}};V1.options=V1.setOptions=function(t){return l4(V1.defaults,t),v51(V1.defaults),V1};V1.getDefaults=ZI;V1.defaults=ht;V1.use=function(...t){let a=l4({},...t),c=V1.defaults.extensions||{renderers:{},childTokens:{}},r;t.forEach(e=>{if(e.extensions&&(r=!0,e.extensions.forEach(l=>{if(!l.name)throw new Error("extension name required");if(l.renderer){let i=c.renderers?c.renderers[l.name]:null;i?c.renderers[l.name]=function(...o){let n=l.renderer.apply(this,o);return n===!1&&(n=i.apply(this,o)),n}:c.renderers[l.name]=l.renderer}if(l.tokenizer){if(!l.level||l.level!=="block"&&l.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");c[l.level]?c[l.level].unshift(l.tokenizer):c[l.level]=[l.tokenizer],l.start&&(l.level==="block"?c.startBlock?c.startBlock.push(l.start):c.startBlock=[l.start]:l.level==="inline"&&(c.startInline?c.startInline.push(l.start):c.startInline=[l.start]))}l.childTokens&&(c.childTokens[l.name]=l.childTokens)})),e.renderer){let l=V1.defaults.renderer||new zr;for(let i in e.renderer){let o=l[i];l[i]=(...n)=>{let h=e.renderer[i].apply(l,n);return h===!1&&(h=o.apply(l,n)),h}}a.renderer=l}if(e.tokenizer){let l=V1.defaults.tokenizer||new sr;for(let i in e.tokenizer){let o=l[i];l[i]=(...n)=>{let h=e.tokenizer[i].apply(l,n);return h===!1&&(h=o.apply(l,n)),h}}a.tokenizer=l}if(e.walkTokens){let l=V1.defaults.walkTokens;a.walkTokens=function(i){let o=[];return o.push(e.walkTokens.call(this,i)),l&&(o=o.concat(l.call(this,i))),o}}r&&(a.extensions=c),V1.setOptions(a)})};V1.walkTokens=function(t,a){let c=[];for(let r of t)switch(c=c.concat(a.call(V1,r)),r.type){case"table":{for(let e of r.header)c=c.concat(V1.walkTokens(e.tokens,a));for(let e of r.rows)for(let l of e)c=c.concat(V1.walkTokens(l.tokens,a));break}case"list":{c=c.concat(V1.walkTokens(r.items,a));break}default:V1.defaults.extensions&&V1.defaults.extensions.childTokens&&V1.defaults.extensions.childTokens[r.type]?V1.defaults.extensions.childTokens[r.type].forEach(function(e){c=c.concat(V1.walkTokens(r[e],a))}):r.tokens&&(c=c.concat(V1.walkTokens(r.tokens,a)))}return c};V1.parseInline=function(t,a){if(typeof t=="undefined"||t===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof t!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");a=l4({},V1.defaults,a||{}),EI(a);try{let c=Q6.lexInline(t,a);return a.walkTokens&&V1.walkTokens(c,a.walkTokens),w5.parseInline(c,a)}catch(c){if(c.message+="\nPlease report this to https://github.com/markedjs/marked.",a.silent)return"<p>An error occurred:</p><pre>"+Z2(c.message+"",!0)+"</pre>";throw c}};V1.Parser=w5;V1.parser=w5.parse;V1.Renderer=zr;V1.TextRenderer=hn;V1.Lexer=Q6;V1.lexer=Q6.lex;V1.Tokenizer=sr;V1.Slugger=vn;V1.parse=V1;Ky1=V1.options,$y1=V1.setOptions,Qy1=V1.use,Xy1=V1.walkTokens,Yy1=V1.parseInline,Jy1=w5.parse,tS1=Q6.lex});var WI,y51,gn,Au=x(()=>{"use strict";a1();vr();y51=B(V5)(WI||(WI=V(["\n  padding: 6px;\n"]))),gn=y51});var u2,Ru,sn,bu,jI,S51,qI,aP,NI,k51,UI,_I,KI,A51,R51,$I,b51,dn,c7,QI,F51,XI,I51,YI,P51,JI,G51,tP,T51,cP,rP,Fu,vt=x(()=>{"use strict";u2=P(T());RI();a1();G1();M1();m1();DI();nt();Au();Ru=({title:t,message:a})=>"".concat(t," ").concat(a),sn=(()=>{let t=new Map;return{add:a=>{let c=Ru(a);t.has(c)?t.set(c,t.get(c)+1):t.set(c,1)},delete:a=>{let c=Ru(a);t.has(c)&&t.get(c)>1?t.set(c,t.get(c)-1):t.delete(c)},clear:()=>{t.clear()},check:a=>t.has(Ru(a))}})(),bu=(()=>{let t=new Map;return{add:a=>{t.has(a)?t.set(a,t.get(a)+1):t.set(a,1)},delete:a=>{t.has(a)&&t.get(a)>1?t.set(a,t.get(a)-1):t.delete(a)},clear:()=>{t.clear()},check:a=>t.has(a),get types(){return Array.of(...t.keys())}}})(),S51=B.div(jI||(jI=V(["\n  width: 100%;\n  border-radius: 4px;\n  display: flex;\n  gap: 12px;\n  ",";\n  background-color: rgba(40, 43, 47, 0.8);\n  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.25), 0 2px 6px rgba(0, 0, 0, 0.15);\n  backdrop-filter: blur(14px);\n\n  @supports not (backdrop-filter: blur()) {\n    background: rgba(40, 43, 47, 0.95);\n  }\n"])),x1),aP=B.div(qI||(qI=V(["\n  font-size: 14px;\n  font-weight: bold;\n  color: #fff;\n"]))),k51=B.div(NI||(NI=V(["\n  flex: 1;\n  flex-direction: column;\n  width: 0;\n  display: flex;\n  padding: 16px 0;\n  gap: 12px;\n"]))),_I=B.div(UI||(UI=V(["\n  color: #b4b4b4;\n  font-size: 12px;\n  line-height: 1.4;\n\n  a {\n    color: rgba(255, 255, 255, 0.9);\n  }\n\n  em {\n    font-style: italic;\n  }\n\n  strong {\n    font-weight: bold;\n    color: #d5d5d5;\n  }\n\n  p {\n    margin-bottom: 8px;\n  }\n\n  code {\n    font-family: monospace;\n    background: rgba(0, 0, 0, 0.3);\n    padding: 1px 1px 2px;\n    border-radius: 4px;\n    border: 1px solid rgba(255, 255, 255, 0.08);\n    white-space: pre-wrap;\n  }\n\n  pre > code {\n    white-space: pre;\n    display: block;\n    overflow: auto;\n    padding: 4px;\n  }\n\n  pre {\n    white-space: pre-wrap;\n    margin-bottom: 8px;\n  }\n"]))),A51=B.button(KI||(KI=V(["\n  color: rgba(255, 255, 255, 0.9);\n  font-weight: 500;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: none;\n  border: none;\n  padding-left: 12px;\n  padding-right: 12px;\n  border-left: 1px solid rgba(255, 255, 255, 0.05);\n\n  &:hover {\n    background: rgba(255, 255, 255, 0.05);\n  }\n"]))),R51={info:"#3b82f6",success:"#10b981",warning:"#f59e0b",error:"#ef4444"},b51=B.div($I||($I=V(["\n  display: flex;\n  justify-content: center;\n  margin-left: 12px;\n  padding-top: 21px;\n\n  ::before {\n    content: '';\n    width: 8px;\n    height: 8px;\n    border-radius: 999999px;\n    background-color: ",";\n  }\n"])),({type:t})=>R51[t]),dn=t=>(a,c,r=[],e=!1)=>{(e||!sn.check({title:a,message:c}))&&(sn.add({title:a,message:c}),bu.add(t),en.custom(l=>u2.default.createElement(S51,null,u2.default.createElement(b51,{type:t}),u2.default.createElement(k51,null,u2.default.createElement(aP,null,a),u2.default.createElement(_I,{dangerouslySetInnerHTML:{__html:V1.parse(c)}}),r.length>0&&u2.default.createElement(_I,null,u2.default.createElement("span",null,"Docs:"," ",r.map((i,o)=>u2.default.createElement(u2.Fragment,{key:o},o>0&&", ",u2.default.createElement("a",{target:"_blank",href:i.url},i.title)))))),u2.default.createElement(A51,{onClick:()=>{en.remove(l.id),sn.delete({title:a,message:c}),bu.delete(t)}},"Close")),{duration:1/0}))},c7={warning:dn("warning"),success:dn("success"),info:dn("info"),error:dn("error")},F51=B.div(QI||(QI=V(["\n  display: flex;\n  justify-content: ",";\n  gap: 12px;\n"])),({align:t})=>t==="center"?"center":"flex-end"),I51=B.button(XI||(XI=V(["\n  position: relative;\n  border-radius: 4px;\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  ",";\n  background-color: rgba(40, 43, 47, 0.8);\n  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.25), 0 2px 6px rgba(0, 0, 0, 0.15);\n  backdrop-filter: blur(14px);\n  border: none;\n  padding: 12px;\n  color: #fff;\n  overflow: hidden;\n\n  ::before {\n    content: '';\n    position: absolute;\n    inset: 0;\n  }\n\n  :hover::before {\n    background: ",";\n  }\n\n  @supports not (backdrop-filter: blur()) {\n    background: rgba(40, 43, 47, 0.95);\n  }\n"])),x1,({danger:t})=>t?"rgba(255, 0, 0, 0.1)":"rgba(255, 255, 255, 0.1)"),P51=B.div(YI||(YI=V(["\n  z-index: 10;\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  position: fixed;\n  right: 92px;\n  top: 50px;\n  width: 500px;\n  height: 85vh;\n  min-height: 400px;\n"]))),G51=B.div(JI||(JI=V(["\n  overflow: hidden;\n  pointer-events: auto;\n  border-radius: 4px;\n\n  & > div {\n    display: flex;\n    flex-direction: column-reverse;\n    gap: 8px;\n    overflow: scroll;\n    height: 100%;\n  }\n"]))),T51=B.div(tP||(tP=V(["\n  width: fit-content;\n  padding: 8px;\n  border-radius: 4px;\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n  color: #b4b4b4;\n  font-size: 12px;\n  line-height: 1.4;\n"]))),cP=()=>{let{hasNotifications:t}=Fu();return R3({enabled:!t},()=>u2.default.createElement(gn,null,u2.default.createElement(T51,null,u2.default.createElement(aP,null,"No notifications"),"Notifications will appear here when you get them.")))},rP=()=>{var l;let{toasts:t,handlers:a}=ku(),{startPause:c,endPause:r}=a,e=(l=s1(Z().atomP.ahistoric.pinNotifications))!=null?l:!1;return u2.default.createElement(P51,null,e?t.length>0&&u2.default.createElement(G51,{onMouseEnter:c,onMouseLeave:r},u2.default.createElement("div",null,t.map(i=>u2.default.createElement("div",{key:i.id},i.message(i))))):null,u2.default.createElement(F51,{align:"side"},e&&t.length>0&&u2.default.createElement(I51,{onClick:()=>{bu.clear(),sn.clear(),en.remove()},danger:!0},"Clear")))},Fu=()=>{let{toasts:t}=ku();return{hasNotifications:t.length>0}}});function ur(t,a){var o;let c=Object.values((o=(0,eP.val)(t.pointers.historic.sheetsById))!=null?o:{}),r=c.flatMap(n=>{var h;return Object.values((h=n==null?void 0:n.staticOverrides.byObject)!=null?h:{})}).flatMap(n=>Object.values(n!=null?n:{})),l=[...c.flatMap(n=>{var h,v;return Object.values((v=(h=n==null?void 0:n.sequence)==null?void 0:h.tracksByObject)!=null?v:{})}).flatMap(n=>{var h;return Object.values((h=n==null?void 0:n.trackData)!=null?h:{})}).flatMap(n=>n==null?void 0:n.keyframes).map(n=>n==null?void 0:n.value)];return r.forEach(n=>{j5(n,h=>{l.push(h)},[])}),l.filter(n=>(n==null?void 0:n.type)&&(a?(n==null?void 0:n.type)==a:typeof(n==null?void 0:n.type)=="string")).map(n=>n.id).filter((n,h,v)=>n!==null&&n!==""&&v.indexOf(n)===h)}var eP,Iu=x(()=>{"use strict";eP=require("@theatre/dataverse");ge()});function lP(t,a){let c=new File([t],a),r=URL.createObjectURL(c),e=Object.assign(document.createElement("a"),{href:r,target:"_blank",rel:"noopener"});e.setAttribute("download",a),e.click(),setTimeout(()=>{URL.revokeObjectURL(r)},4e4)}var L0,hP,iP,Z51,oP,O51,nP,E51,D51,vP,gP=x(()=>{"use strict";m1();e4();c4();L0=P(T());a1();Vu();BI();hP=P(SI());vt();Iu();Z51=B.div(iP||(iP=V([""]))),O51=B.div(oP||(oP=V(["\n  padding: 8px 10px;\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n"]))),E51=B(T2)(nP||(nP=V(["\n  display flex;\n  flex-direction: column;\n  gap: 1em;\n  width: 280px;\n  padding: 1em;\n"])));D51=({projects:t})=>{let a=t[0],c=a.address.projectId,r=c.replace(/[^\w\d'_\-]+/g," ").trim(),e="".concat(r,".theatre-project-state.json"),[l,i]=(0,L0.useState)(!1),o=(0,L0.useCallback)(()=>e2(void 0,null,function*(){var s,d;let h=ur(a),v=new Map;try{yield Promise.all(h.map(z=>e2(void 0,null,function*(){let u=a.assetStorage.getAssetUrl(z),M=yield fetch(u);M.ok&&v.set(z,yield M.blob())})))}catch(z){c7.error("Failed to access assets","Export aborted. Failed to access assets at ".concat((d=(s=a.config.assets)==null?void 0:s.baseUrl)!=null?d:"/",". This is likely due to a CORS issue."));return}if(v.size>0){let z=new hP.default;for(let[M,m]of v)z.file(M,m);let u=yield z.generateAsync({type:"blob"});lP(u,"".concat(r,".assets.zip"))}let g=JSON.stringify(Z().createContentOfSaveFile(a.address.projectId),null,2);lP(g,e),i(!0),setTimeout(()=>{i(!1)},2e3)}),[a,e]),n=x2({debugName:"ProjectDetails",pointerDistanceThreshold:50},()=>L0.default.createElement(E51,null,L0.default.createElement("p",null,"This will create a JSON file with the state of your project. You can commit this file to your git repo and include it in your production bundle."),L0.default.createElement("p",null,"If your project uses assets, this will also create a zip file with all the assets that you can unpack in your public folder."),L0.default.createElement("a",{href:"https://www.theatrejs.com/docs/latest/manual/projects#state",target:"_blank"},"Here is a quick guide on how to export to production.")));return L0.default.createElement(L0.default.Fragment,null,n.node,L0.default.createElement(Z51,null,L0.default.createElement(wI,{projectId:c}),L0.default.createElement(O51,null,L0.default.createElement(hr,{onMouseEnter:h=>n.open(h,h.target),onClick:l?void 0:o,disabled:l},l?"(Exported)":"Export ".concat(c," to JSON")))))},vP=D51});var X6,dP,W51,sP,_51,zP,j51,uP,q51,N51,pP,mP=x(()=>{"use strict";X6=P(T());a1();b9();W51=B.div(dP||(dP=V(["\n  padding: 16px;\n  display: flex;\n  flex-direction: column;\n  gap: 24px;\n"]))),_51=B.div(sP||(sP=V(["\n  display: flex;\n  flex-direction: column;\n  gap: 11px;\n  color: rgba(255, 255, 255, 0.9);\n"]))),j51=B.div(zP||(zP=V(["\n  color: rgba(145, 145, 145, 0.8);\n"]))),q51=B.a(uP||(uP=V(["\n  color: #919191;\n  font-size: 10px;\n  text-decoration-color: #40434a;\n  text-underline-offset: 3px;\n"]))),N51=()=>X6.default.createElement(W51,null,X6.default.createElement(_51,null,X6.default.createElement(j51,null,X6.default.createElement(Pc,null)),X6.default.createElement("div",null,"Please select an object from the ",X6.default.createElement("u",null,"Outline Menu")," to see its properties.")),X6.default.createElement(q51,{href:"https://www.theatrejs.com/docs/latest/manual/objects",target:"_blank"},"Learn more about Objects")),pP=N51});function pr(){let[t,a]=(0,zn.useState)(!1),c=(0,zn.useMemo)(()=>{let r=new Set;return()=>{let e=()=>{r.delete(e),a(r.size>0)};return r.add(e),a(!0),e}},[]);return[t,c]}var zn,Pu=x(()=>{"use strict";zn=P(T())});var O1,Y6,U51,CP,Gu,LP,MP,HP,fP,VP,xP,N9,K51,wP,Tu,gt,NS1,Fo=x(()=>{"use strict";x5();M1();O1=P(T());a1();N5();b4();G1();hI();gP();m1();Az();Y6=require("@theatre/dataverse");mP();Pu();K6();U51="32px",Gu=B.div(CP||(CP=V(["\n  ",";\n  background-color: rgba(40, 43, 47, 0.8);\n  position: fixed;\n  right: 8px;\n  top: 50px;\n  // Temporary, see comment about CSS grid in SingleRowPropEditor.\n  width: 280px;\n  height: fit-content;\n  z-index: ",";\n\n  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.25), 0 2px 6px rgba(0, 0, 0, 0.15);\n  backdrop-filter: blur(14px);\n  border-radius: 2px;\n\n  display: ",";\n\n  &:hover {\n    display: block;\n  }\n\n  @supports not (backdrop-filter: blur()) {\n    background: rgba(40, 43, 47, 0.95);\n  }\n"])),x1,M5.propsPanel,({pin:t})=>t?"block":"none"),MP=B.div(LP||(LP=V(["\n  margin: 0 10px;\n  color: #919191;\n  font-weight: 500;\n  font-size: 10px;\n  user-select: none;\n  ",";\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"])),x1),fP=B.div(HP||(HP=V(["\n  height: ",";\n  display: flex;\n  align-items: center;\n"])),U51),xP=B.div(VP||(VP=V(["\n  ",";\n  max-height: calc(100vh - 100px);\n  overflow-y: scroll;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n\n  scrollbar-width: none;\n  padding: 0;\n  user-select: none;\n\n  /* Set the font-size for input values in the detail panel */\n  font-size: 12px;\n"])),x1),N9=(0,O1.createContext)([!1,()=>()=>{}]),K51=t=>{let a=s1(Z().atomP.ahistoric.pinDetails)!==!1,c=Ec("right");(0,O1.useLayoutEffect)(()=>{Tu.set(c)},[c]),(0,O1.useEffect)(()=>()=>{gt.set(!1),Tu.set(!1)},[]);let[r]=(0,O1.useContext)(N9),e=a||c||r,[l,i]=(0,O1.useState)(null);return Wo(l),v1(()=>{let o=c3(),n=o.find(c0);if(n)return O1.default.createElement(Gu,{"data-testid":"DetailPanel-Object",pin:e,ref:i,onMouseEnter:()=>{gt.set(!0)},onMouseLeave:()=>{gt.set(!1)}},O1.default.createElement(fP,null,O1.default.createElement(MP,{title:"".concat(n.sheet.address.sheetId,": ").concat(n.sheet.address.sheetInstanceId," > ").concat(n.address.objectKey)},O1.default.createElement(f5,null,n.sheet.address.sheetId," "),O1.default.createElement(R9,null,":","\xA0"),O1.default.createElement(f5,null,n.sheet.address.sheetInstanceId," "),O1.default.createElement(R9,null,"\xA0\u2192\xA0"),O1.default.createElement(f5,null,n.address.objectKey))),O1.default.createElement(xP,null,O1.default.createElement(nI,{objects:[n]})));let h=o.find(de);return h?O1.default.createElement(Gu,{pin:e},O1.default.createElement(fP,null,O1.default.createElement(MP,{title:"".concat(h.address.projectId)},O1.default.createElement(f5,null,h.address.projectId," "))),O1.default.createElement(xP,null,O1.default.createElement(vP,{projects:[h]}))):O1.default.createElement(Gu,{pin:e,onMouseEnter:()=>{gt.set(!0)},onMouseLeave:()=>{gt.set(!1)}},O1.default.createElement(pP,null))},[e])},wP=()=>{let t=pr();return O1.default.createElement(N9.Provider,{value:t},O1.default.createElement(K51,null))},Tu=new Y6.Atom(!1),gt=new Y6.Atom(!1),NS1=(0,Y6.prism)(()=>{let t=(0,Y6.val)(gt.prism),a=(0,Y6.val)(Tu.prism);return t||a})});var un,mr,dt,BP,D4,$51,pn,r7=x(()=>{"use strict";un=require("@theatre/dataverse");M1();m1();Pu();mr=P(T());ko();dt=(t,a)=>{let c=t.left/a.width,r=(t.left+t.width)/a.width,e=t.top/a.height,l=(t.height+t.top)/a.height;return{edges:{left:c<=.5?{from:"screenLeft",distance:c}:{from:"screenRight",distance:1-c},right:r<=.5?{from:"screenLeft",distance:r}:{from:"screenRight",distance:1-r},top:e<=.5?{from:"screenTop",distance:e}:{from:"screenBottom",distance:1-e},bottom:l<=.5?{from:"screenTop",distance:l}:{from:"screenBottom",distance:1-l}}}},BP=mr.default.createContext(null),D4=()=>(0,mr.useContext)(BP),$51=({panelId:t,children:a,defaultPosition:c,minDims:r})=>{let e=_9(800,200),[l,i]=pr(),{stuff:o}=v1(()=>{var m;let{edges:n}=(m=(0,un.val)(Z().atomP.historic.panelPositions[t]))!=null?m:c,h=Math.floor(e.width*(n.left.from==="screenLeft"?n.left.distance:1-n.left.distance)),v=Math.floor(e.width*(n.right.from==="screenLeft"?n.right.distance:1-n.right.distance)),g=Math.floor(e.height*(n.top.from==="screenTop"?n.top.distance:1-n.top.distance)),s=Math.floor(e.height*(n.bottom.from==="screenTop"?n.bottom.distance:1-n.bottom.distance)),d=Math.max(v-h,r.width),z=Math.max(s-g,r.height);return{stuff:{dims:un.prism.memo("dims",()=>({width:d,left:h,top:g,height:z}),[d,h,g,z]),panelId:t,minDims:r,boundsHighlighted:l,addBoundsHighlightLock:i}}},[t,e,l,i]);return mr.default.createElement(BP.Provider,{value:o},a)},pn=$51});var e7,yP,Q51,X51,mn,Zu=x(()=>{"use strict";P1();m1();f2();e7=P(T());a1();r7();I0();H2();b4();Q51=B.div(yP||(yP=V(["\n  cursor: move;\n"]))),X51=t=>{let a=D4(),c=(0,e7.useRef)(a);c.current=a;let[r,e]=z1(null),l=(0,e7.useMemo)(()=>({debugName:"PanelDragZone",lockCursorTo:"move",onDragStart(){let h=c.current,v,g=a.addBoundsHighlightLock();return{onDrag(s,d){let z=W(S({},h.dims),{top:F1(h.dims.top+d,0,window.innerHeight-S3),left:F1(h.dims.left+s,-h.dims.width+S3,window.innerWidth-S3)}),u=dt(z,{width:window.innerWidth,height:window.innerHeight});v==null||v.discard(),v=Z().tempTransaction(({stateEditors:M})=>{M.studio.historic.panelPositions.setPanelPosition({position:u,panelId:h.panelId})})},onDragEnd(s){g(),s?v==null||v.commit():v==null||v.discard()}}}}),[]),[i]=S1(e,l);s2(i,"dragging","move");let[o,n]=(0,e7.useMemo)(()=>{let h;return[function(){if(h){let g=h;h=void 0,g()}h=a.addBoundsHighlightLock()},function(){if(h){let g=h;h=void 0,g()}}]},[]);return e7.default.createElement(Q51,W(S({},t),{ref:r,onMouseEnter:o,onMouseLeave:n}))},mn=X51});var st,kP,WP,AP,_P,RP,jP,bP,Y51,FP,J51,IP,qP,PP,t61,GP,a61,TP,Mn,ZP,c61,OP,r61,EP,e61,DP,l61,i61,SP,o61,B5,NP=x(()=>{"use strict";P1();m1();f2();R0();st=P(T());a1();r7();G1();H2();b4();WP=B.div(kP||(kP=V(["\n  position: absolute;\n  ",";\n  &:after {\n    position: absolute;\n    inset: -5px;\n    display: block;\n    content: ' ';\n  }\n\n  opacity: 0;\n  background-color: #478698;\n\n  &.isHighlighted {\n    opacity: 0.7;\n  }\n\n  &.isDragging {\n    opacity: 1;\n    /* background-color: ","; */\n  }\n\n  &:hover {\n    opacity: 1;\n  }\n"])),x1,R6(.2,"#478698")),_P=B(WP)(AP||(AP=V(["\n  /**\n  The horizintal/vertical resize handles have z-index:-1 and are offset 1px outside of the panel\n  to make sure they don't occlude any element that pops out of the panel (like the Playhead in SequenceEditorPanel).\n\n  This means that panels will always need an extra 1px margin for their resize handles to be visible, but that's not a problem\n  that we have to deal with right now (if it is at all a problem).\n  \n   */\n  z-index: -1;\n"]))),jP=B(_P)(RP||(RP=V(["\n  left: 0px;\n  right: 0px;\n  height: 1px;\n"]))),Y51=B(jP)(bP||(bP=V(["\n  top: -1px;\n"]))),J51=B(jP)(FP||(FP=V(["\n  bottom: -1px;\n"]))),qP=B(_P)(IP||(IP=V(["\n  z-index: -1;\n  top: -1px;\n  bottom: -1px;\n  width: 1px;\n"]))),t61=B(qP)(PP||(PP=V(["\n  left: -1px;\n"]))),a61=B(qP)(GP||(GP=V(["\n  right: -1px;\n"]))),Mn=B(WP)(TP||(TP=V(["\n  // The angles have z-index: 10 to make sure they _do_ occlude other elements in the panel.\n  z-index: 10;\n  width: 8px;\n  height: 8px;\n"]))),c61=B(Mn)(ZP||(ZP=V(["\n  top: 0;\n  left: 0;\n"]))),r61=B(Mn)(OP||(OP=V(["\n  top: 0;\n  right: 0;\n"]))),e61=B(Mn)(EP||(EP=V(["\n  bottom: 0;\n  left: 0;\n"]))),l61=B(Mn)(DP||(DP=V(["\n  bottom: 0;\n  right: 0;\n"]))),i61={Top:Y51,TopLeft:c61,TopRight:r61,Bottom:J51,BottomLeft:e61,BottomRight:l61,Left:t61,Right:a61},SP={Top:"ns-resize",Bottom:"ns-resize",Left:"ew-resize",Right:"ew-resize",TopLeft:"nw-resize",TopRight:"ne-resize",BottomLeft:"sw-resize",BottomRight:"se-resize"},o61=({which:t})=>{let a=D4(),c=(0,st.useRef)(a);c.current=a;let[r,e]=z1(null),l=(0,st.useMemo)(()=>({debugName:"PanelResizeHandle",lockCursorTo:SP[t],onDragStart(){let h,v=c.current,g=a.addBoundsHighlightLock();return{onDrag(s,d){let z=S({},v.dims);if(t.startsWith("Bottom"))z.height=Math.max(z.height+d,v.minDims.height);else if(t.startsWith("Top")){let M=z.top+z.height,m=F1(z.top+d,0,Math.min(M-v.minDims.height,window.innerHeight-S3)),p=M-m;z.height=p,z.top=m}if(t.endsWith("Left")){let M=z.left+z.width,m=Math.min(z.left+s,Math.min(M-v.minDims.width,window.innerWidth-S3)),p=M-m;z.width=p,z.left=m}else t.endsWith("Right")&&(z.width=Math.max(z.width+s,Math.max(v.minDims.width,S3-v.dims.left)));let u=dt(z,{width:window.innerWidth,height:window.innerHeight});h==null||h.discard(),h=Z().tempTransaction(({stateEditors:M})=>{M.studio.historic.panelPositions.setPanelPosition({position:u,panelId:v.panelId})})},onDragEnd(s){g(),s?h==null||h.commit():h==null||h.discard()}}}}),[t]),[i]=S1(e,l),o=i61[t],n=t.length<=6;return st.default.createElement(o,{ref:r,className:[i?"isDragging":"",a.boundsHighlighted&&n?"isHighlighted":""].join(" "),style:{cursor:SP[t]}})},B5=o61});var i4,n61,UP,KP=x(()=>{"use strict";i4=P(T());NP();n61=t=>i4.default.createElement(i4.default.Fragment,null,i4.default.createElement(B5,{which:"Bottom"}),i4.default.createElement(B5,{which:"Top"}),i4.default.createElement(B5,{which:"Left"}),i4.default.createElement(B5,{which:"Right"}),i4.default.createElement(B5,{which:"TopLeft"}),i4.default.createElement(B5,{which:"TopRight"}),i4.default.createElement(B5,{which:"BottomLeft"}),i4.default.createElement(B5,{which:"BottomRight"})),UP=n61});var fn,$P,h61,v61,xn,Ou=x(()=>{"use strict";G1();fn=P(T());a1();r7();KP();h61=B.div($P||($P=V(["\n  position: absolute;\n  user-select: none;\n  box-sizing: border-box;\n  ",";\n  /* box-shadow: 1px 2px 10px -5px black; */\n\n  z-index: 1000;\n"])),x1),v61=fn.default.forwardRef((t,a)=>{let c=D4(),i=t,{style:r,children:e}=i,l=m4(i,["style","children"]);return fn.default.createElement(h61,W(S({ref:a},l),{style:S({width:c.dims.width+"px",height:c.dims.height+"px",top:c.dims.top+"px",left:c.dims.left+"px"},r!=null?r:{})}),fn.default.createElement(UP,null),e)}),xn=v61});var XP=L1((Cn,QP)=>{(function(t,a){typeof Cn=="object"&&typeof QP!="undefined"?a(Cn,T()):typeof define=="function"&&define.amd?define(["exports","react"],a):(t=typeof globalThis!="undefined"?globalThis:t||self,a(t.ReactErrorBoundary={},t.React))})(Cn,function(t,a){"use strict";function c(g){if(g&&g.__esModule)return g;var s=Object.create(null);return g&&Object.keys(g).forEach(function(d){if(d!=="default"){var z=Object.getOwnPropertyDescriptor(g,d);Object.defineProperty(s,d,z.get?z:{enumerable:!0,get:function(){return g[d]}})}}),s.default=g,Object.freeze(s)}var r=c(a);function e(g,s){return e=Object.setPrototypeOf||function(z,u){return z.__proto__=u,z},e(g,s)}function l(g,s){g.prototype=Object.create(s.prototype),g.prototype.constructor=g,e(g,s)}var i=function(s,d){return s===void 0&&(s=[]),d===void 0&&(d=[]),s.length!==d.length||s.some(function(z,u){return!Object.is(z,d[u])})},o={error:null},n=function(g){l(s,g);function s(){for(var z,u=arguments.length,M=new Array(u),m=0;m<u;m++)M[m]=arguments[m];return z=g.call.apply(g,[this].concat(M))||this,z.state=o,z.updatedWithError=!1,z.resetErrorBoundary=function(){for(var p,f=arguments.length,H=new Array(f),w=0;w<f;w++)H[w]=arguments[w];z.props.onReset==null||(p=z.props).onReset.apply(p,H),z.reset()},z}s.getDerivedStateFromError=function(u){return{error:u}};var d=s.prototype;return d.reset=function(){this.updatedWithError=!1,this.setState(o)},d.componentDidCatch=function(u,M){var m,p;(m=(p=this.props).onError)==null||m.call(p,u,M)},d.componentDidMount=function(){var u=this.state.error;u!==null&&(this.updatedWithError=!0)},d.componentDidUpdate=function(u){var M=this.state.error,m=this.props.resetKeys;if(M!==null&&!this.updatedWithError){this.updatedWithError=!0;return}if(M!==null&&i(u.resetKeys,m)){var p,f;(p=(f=this.props).onResetKeysChange)==null||p.call(f,u.resetKeys,m),this.reset()}},d.render=function(){var u=this.state.error,M=this.props,m=M.fallbackRender,p=M.FallbackComponent,f=M.fallback;if(u!==null){var H={error:u,resetErrorBoundary:this.resetErrorBoundary};if(r.isValidElement(f))return f;if(typeof m=="function")return m(H);if(p)return r.createElement(p,H);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},s}(r.Component);function h(g,s){var d=function(M){return r.createElement(n,s,r.createElement(g,M))},z=g.displayName||g.name||"Unknown";return d.displayName="withErrorBoundary("+z+")",d}function v(g){var s=r.useState(null),d=s[0],z=s[1];if(g!=null)throw g;if(d!=null)throw d;return z}t.ErrorBoundary=n,t.useErrorHandler=v,t.withErrorBoundary=h,Object.defineProperty(t,"__esModule",{value:!0})})});var B2,eG,g61,d61,s61,YP,z61,JP,u61,tG,p61,aG,m61,cG,M61,rG,f61,x61,C61,lG,iG=x(()=>{"use strict";B2=P(T());a1();b4();r7();Zu();Ou();eG=P(XP());K8();m1();b4();g61={edges:{left:{from:"screenLeft",distance:.3},right:{from:"screenRight",distance:.3},top:{from:"screenTop",distance:.3},bottom:{from:"screenBottom",distance:.3}}},d61={width:300,height:300},s61=({paneInstance:t})=>B2.default.createElement(pn,{panelId:"pane-".concat(t.instanceId),defaultPosition:g61,minDims:d61},B2.default.createElement(C61,{paneInstance:t})),z61=B(xn)(YP||(YP=V(["\n  display: flex;\n  flex-direction: column;\n\n  box-shadow: 0px 5px 12px -4px rgb(0 0 0 / 22%);\n  z-index: ",";\n"])),M5.pluginPanes),u61=B.div(JP||(JP=V(["\n  width: 100%;\n"]))),p61=B.div(tG||(tG=V(["\n  display: flex;\n  align-items: center;\n  opacity: 1;\n  position: absolute;\n  right: 4px;\n  top: 0;\n  bottom: 0;\n"]))),m61=B.button(aG||(aG=V(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 2px;\n  font-size: 11px;\n  height: 10px;\n  width: 18px;\n  color: #adadadb3;\n  background: transparent;\n  border: none;\n  cursor: pointer;\n  &:hover {\n    color: white;\n  }\n"]))),M61=B(QS)(cG||(cG=V(["\n  position: relative;\n  overflow: hidden;\n\n  &:after {\n    z-index: 10;\n    position: absolute;\n    inset: 0;\n    display: block;\n    content: ' ';\n    pointer-events: none;\n\n    #pointer-root:not(.normal) & {\n      pointer-events: auto;\n    }\n  }\n"]))),f61=B.div(rG||(rG=V(["\n  padding: 12px;\n\n  & > pre {\n    border: 1px solid #ff62624f;\n    background-color: rgb(255 0 0 / 5%);\n    margin: 8px 0;\n    padding: 8px;\n    font-family: monospace;\n    overflow: scroll;\n    color: #ff9896;\n  }\n"]))),x61=t=>B2.default.createElement(f61,null,"An Error occurred rendering this pane. Open the console for more info.",B2.default.createElement("pre",null,JSON.stringify({message:t.error.message,stack:t.error.stack},null,2))),C61=({paneInstance:t})=>{let[a,c]=(0,B2.useState)(null),r=t.definition.mount;(0,B2.useLayoutEffect)(()=>{if(!a)return;let l=r({paneId:t.instanceId,node:a});if(typeof l=="function")return l},[a,r,t.instanceId]);let e=(0,B2.useCallback)(()=>{Z().paneManager.destroyPane(t.instanceId)},[t]);return B2.default.createElement(z61,{"data-testid":"theatre-pane-wrapper-".concat(t.instanceId)},B2.default.createElement(mn,null,B2.default.createElement(io,null,B2.default.createElement(p61,null,B2.default.createElement(m61,{onClick:e,title:"Close Pane"},B2.default.createElement(SA,null))),B2.default.createElement(u61,null,t.instanceId))),B2.default.createElement(eG.ErrorBoundary,{FallbackComponent:x61},B2.default.createElement(M61,{"data-testid":"theatre-pane-content-".concat(t.instanceId),ref:c})))},lG=s61});var Ln,Hn,Eu=x(()=>{"use strict";Ln=require("@theatre/dataverse"),Hn=(t,a)=>{let c=Ln.prism.memo(t,()=>new Ln.Atom(a),[]);return c.set(a),c}});function Vn(t,a){(0,oG.useLayoutEffect)(()=>{if(!t||a.type!=="propWithChildren"&&a.type!=="primitiveProp"&&a.type!=="sheetObject")return;let c=null,r=W(S({},a.sheetObject.address),{pathToProp:a.type==="sheetObject"?[]:a.pathToProp});function e(){c=tt.replaceLock(r,()=>{})}function l(){c==null||c()}return t.addEventListener("mouseenter",e),t.addEventListener("mouseleave",l),()=>{c==null||c(),t.removeEventListener("mouseenter",e),t.removeEventListener("mouseleave",l)}},[t])}var oG,Du=x(()=>{"use strict";oG=P(T());$o()});var y5,nG,Wu,hG,_u,vG,zG,gG,L61,dG,H61,sG,V61,w61,zt,Mr=x(()=>{"use strict";G1();y5=P(T());K8();a1();N6();Du();Wu=B.li(nG||(nG=V(["\n  --depth: ",";\n  margin: 0;\n  padding: 0;\n  list-style: none;\n"])),t=>t.depth),_u=B.div(hG||(hG=V(["\n  border-bottom: 1px solid #7695b705;\n"]))),zG=B(_u)(vG||(vG=V(["\n  padding-left: calc(8px + var(--depth) * 20px);\n\n  display: flex;\n  align-items: stretch;\n  color: ",";\n\n  box-sizing: border-box;\n\n  ",";\n"])),Z6.panel.body.compoudThing.label.color,t=>t.isSelected&&"background: blue"),L61=B.span(gG||(gG=V(["\n  ",";\n  overflow-x: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  padding-right: 4px;\n  line-height: 26px;\n  flex-wrap: nowrap;\n\n  ",":hover & {\n    color: #ccc;\n  }\n"])),T0,zG),H61=B.span(dG||(dG=V(["\n  width: 12px;\n  padding: 8px;\n  font-size: 9px;\n  display: flex;\n  align-items: center;\n\n  transition: transform 0.05s ease-out, color 0.1s ease-out;\n  transform: rotateZ(","deg);\n  color: #66686a;\n\n  &:hover {\n    transform: rotateZ(","deg);\n    color: #c0c4c9;\n  }\n"])),t=>t.isCollapsed?0:90,t=>t.isCollapsed?15:75),V61=B.ul(sG||(sG=V(["\n  margin: 0;\n  padding: 0;\n  list-style: none;\n"]))),w61=({leaf:t,label:a,children:c,isSelectable:r,isSelected:e,toggleSelect:l,toggleCollapsed:i,isCollapsed:o})=>{let n=Array.isArray(c)&&c.length>0,h=(0,y5.useRef)(null);return Vn(h.current,t),t.shouldRender?y5.default.createElement(Wu,{depth:t.depth},y5.default.createElement(zG,{ref:h,style:{height:t.nodeHeight+"px"},isSelectable:r===!0,isSelected:e===!0,onClick:l,isEven:t.n%2===0},y5.default.createElement(H61,{isCollapsed:o,onClick:i},y5.default.createElement(xo,null)),y5.default.createElement(L61,null,a)),n&&y5.default.createElement(V61,null,c)):null},zt=w61});function uG(t,a){return a.every((c,r)=>c===t[r])}function pG(t,a){if(t.length!==a.length)return!1;for(let c=0;c<t.length;c++)if(t[c]!==a[c])return!1;return!0}function J6(t){var c;let a=[];for(;;){let r=a.length,e=(c=t[0])==null?void 0:c[r];if(e===void 0)return a;for(let l of t)if(e!==l[r])return a;a.push(e)}}var h3,ut,o4=x(()=>{"use strict";Jc();h3=T4(t=>JSON.stringify(t)),ut=t=>JSON.parse(t)});function ju(t,a){let c=(0,wn.useRef)({combo:t,listener:a});c.current={combo:t,listener:a},(0,wn.useEffect)(()=>{function r(i){i.key===c.current.combo&&c.current.listener({down:!0,event:i})}function e(i){i.key===c.current.combo&&c.current.listener({down:!1,event:i})}function l(i){c.current.listener({down:!1,event:void 0})}return document.addEventListener("keydown",r),document.addEventListener("keyup",e),window.addEventListener("blur",l),()=>{document.removeEventListener("keydown",r),document.removeEventListener("keyup",e),window.removeEventListener("blur",l)}},[])}var wn,mG=x(()=>{"use strict";wn=P(T())});function fr(t){let[a,c]=(0,MG.useState)(!1);return ju(t,({down:r})=>{c(r)}),a}var MG,qu=x(()=>{"use strict";MG=P(T());mG()});function Nu(t){let a=(0,Bn.useMemo)(()=>new fG.Atom(t),[]);return(0,Bn.useLayoutEffect)(()=>{a.set(t)},[t]),a}var fG,Bn,xG=x(()=>{"use strict";fG=require("@theatre/dataverse"),Bn=P(T())});function Sn(t,a,c){let r=(0,yn.pointer)({root:{},path:[]}),e=a(r);i6(t,(0,yn.getPointerParts)(e).path,c)}var yn,CG=x(()=>{"use strict";yn=require("@theatre/dataverse");Qe()});var Uu,B61,r2,b3=x(()=>{"use strict";Uu="data-pos",B61={checkIfMouseEventSnapToPos(t,a){let c=t.composedPath().find(r=>r instanceof Element&&r!==(a==null?void 0:a.ignore)&&r.hasAttribute(Uu));if(c){let r=parseFloat(c.getAttribute(Uu));if(isFinite(r))return r}return null},includePositionSnapAttrs(t){return{[Uu]:t}}},r2=B61});function t8(t){let a=t.type==="sheet"?S61(t):Ku(t);return{byPosition:y61(a),tracks:a}}function y61(t){let a=new Map;for(let c of t)for(let r of c.data.keyframes){let e=a.get(r.position);e||(e=[],a.set(r.position,e)),e.push({kf:r,track:c,itemKey:c2.forTrackKeyframe(c.sheetObject,c.id,r.id)})}return a}function S61(t){return t.children.flatMap(Ku)}function Ku(t){return t.children.flatMap(a=>a.type==="propWithChildren"?Ku(a):k61(a))}function k61(t){let a=t.sheetObject,c=a.address.projectId,r=Z().atomP.historic.coreByProject[c].sheetsById[a.address.sheetId].sequence.tracksByObject[a.address.objectKey],e=(0,kn.val)(r.trackIdByPropPath[h3(t.pathToProp)]);if(!e)return[];let l=(0,kn.val)(r.trackData[e]);return l?[{id:e,data:l,sheetObject:a}]:[]}function LG(t,a){return x3(t.children.flatMap(c=>An(c,a)))}function An(t,a){return x3(t.children.flatMap(c=>c.type==="propWithChildren"?An(c,a):A61(c,a)))}function A61(t,a){var i,o;let c=t.sheetObject,r=c.address.projectId,e=Z().atomP.historic.coreByProject[r].sheetsById[c.address.sheetId].sequence.tracksByObject[c.address.objectKey],l=(0,kn.val)(e.trackIdByPropPath[h3(t.pathToProp)]);return l?(o=(i=a[c.address.objectKey])==null?void 0:i[l])!=null?o:[]:[]}var kn,l7=x(()=>{"use strict";m1();kn=require("@theatre/dataverse");O4();o4();H2()});function F61(t,a){let[c,r]=z1(null),e=C0("useCaptureSelection");return S1(a,(0,a8.useMemo)(()=>({debugName:"DopeSheetSelectionView/useCaptureSelection",dontBlockMouseDown:!0,lockCSSCursorTo:"cell",onDragStart(l){if(!l.shiftKey||l.target instanceof HTMLInputElement)return!1;let i=a.getBoundingClientRect(),o=l.clientX-i.left-(0,F3.val)(t.scaledSpace.leftPadding),n=(0,F3.val)(t.scaledSpace.toUnitSpace)(o);return c.current={h:[n,n],v:[l.clientY-i.top,l.clientY-i.top]},(0,F3.val)(t.selectionAtom).set({current:void 0}),{onDrag(h,v,g){let s=a.getBoundingClientRect(),d=g.clientX-s.left-(0,F3.val)(t.scaledSpace.leftPadding),z=(0,F3.val)(t.scaledSpace.toUnitSpace)(d);c.current={h:[c.current.h[0],z],v:[c.current.v[0],g.clientY-s.top]};let u=$u.boundsToSelection(e,(0,F3.val)(t),c.current);(0,F3.val)(t.selectionAtom).set({current:u})},onDragEnd(h){c.current=null}}}}),[t,a,c])),r}var F3,a8,i7,HG,R61,b61,$u,VG,I61,wG,P61,BG,yG=x(()=>{"use strict";m1();f2();qu();xG();CG();P1();M1();F3=require("@theatre/dataverse"),a8=P(T());a1();b3();l7();C5();i7=5,R61=B.div(HG||(HG=V(["\n  cursor: ",";\n"])),t=>t.isShiftDown?"cell":"default"),b61=({layoutP:t,children:a,height:c})=>{let[r,e]=z1(null),l=fr("Shift"),i=F61(t,e),o=(0,a8.useRef)(i);return o.current=i,a8.default.createElement(R61,{style:{height:c+"px"},ref:r,isShiftDown:l,className:"selectionview"},i&&a8.default.createElement(P61,{state:i,layoutP:t}),a)};(l=>{let t=(i,o,n,h,v)=>{let g=t8(n);if(n.top+n.nodeHeight/2+i7>h.v[0]&&n.top+n.nodeHeight/2-i7<h.v[1])for(let[s,d]of g.byPosition){let z=o.scaledSpace.toUnitSpace(i7);if(!(s+z<=h.h[0]||s-z>=h.h[1]))for(let M of d)Sn(v,m=>m[M.track.sheetObject.address.objectKey].byTrackId[M.track.id].byKeyframeId[M.kf.id],!0)}c(i,o,n,h,v)},a={sheet(i,o,n,h,v){t(i,o,n,h,v)},propWithChildren(i,o,n,h,v){t(i,o,n,h,v)},sheetObject(i,o,n,h,v){t(i,o,n,h,v)},primitiveProp(i,o,n,h,v){let{sheetObject:g,trackId:s}=n,d=(0,F3.val)(Z().atomP.historic.coreByProject[g.address.projectId].sheetsById[g.address.sheetId].sequence.tracksByObject[g.address.objectKey].trackData[s]);if(!(h.v[0]>n.top+n.heightIncludingChildren/2+i7||n.top+n.heightIncludingChildren/2-i7>h.v[1])){for(let z of d.keyframes)if(!(z.position+o.scaledSpace.toUnitSpace(i7)<=h.h[0])){if(z.position-o.scaledSpace.toUnitSpace(i7)>=h.h[1])break;Sn(v,u=>u[g.address.objectKey].byTrackId[s].byKeyframeId[z.id],!0)}}}},c=(i,o,n,h,v)=>{if("children"in n)for(let g of n.children)r(i,o,g,h,v)};function r(i,o,n,h,v){if(!n.shouldRender||h.v[0]>n.top+n.heightIncludingChildren||n.top>h.v[1])return;let g=a[n.type];g?g(i,o,n,h,v):c(i,o,n,h,v)}function e(i,o,n){let h={};n=wG(n);let v=o.tree;r(i.utilFor.internal(),o,v,n,h);let g=o.tree.sheet;return{type:"DopeSheetSelection",byObjectKey:h,getDragHandlers(s){return{debugName:"DopeSheetSelectionView/boundsToSelection",onDragStart(){let d,z=o.scaledSpace.toUnitSpace;return{onDrag(u,M,m){d&&(d.discard(),d=void 0);let p=r2.checkIfMouseEventSnapToPos(m,{ignore:s.domNode}),f=p!=null?p-s.positionAtStartOfDrag:z(u);d=Z().tempTransaction(({stateEditors:H})=>{let w=H.coreByProject.historic.sheetsById.sequence.transformKeyframes;for(let y of Object.keys(h)){let{byTrackId:k}=h[y];for(let I of Object.keys(k)){let{byKeyframeId:U}=k[I];w({trackId:I,keyframeIds:Object.keys(U),translate:f,scale:1,origin:0,snappingFunction:g.getSequence().closestGridPosition,objectKey:y,projectId:s.projectId,sheetId:s.sheetId})}}})},onDragEnd(u){u?d==null||d.commit():d==null||d.discard()}}}}},delete(){Z().transaction(({stateEditors:s})=>{let d=s.coreByProject.historic.sheetsById.sequence.deleteKeyframes;for(let z of Object.keys(h)){let{byTrackId:u}=h[z];for(let M of Object.keys(u)){let{byKeyframeId:m}=u[M];d(W(S({},g.address),{objectKey:z,trackId:M,keyframeIds:Object.keys(m)}))}}})}}}l.boundsToSelection=e})($u||($u={}));I61=B.div(VG||(VG=V(["\n  position: absolute;\n  background: rgba(255, 255, 255, 0.1);\n  border: 1px dashed rgba(255, 255, 255, 0.4);\n  box-sizing: border-box;\n"]))),wG=t=>({h:[...t.h].sort((a,c)=>a-c),v:[...t.v].sort((a,c)=>a-c)}),P61=({state:t,layoutP:a})=>{let c=Nu(t);return v1(()=>{let r=(0,F3.val)(c.pointer),e=wG(r),l=(0,F3.val)(a.scaledSpace.fromUnitSpace),i=(0,F3.val)(a.scaledSpace.leftPadding),o=e.h.map(l).map(s=>s+i),n=e.v[0],h=e.v[1]-e.v[0],v=o[0],g=o[1]-o[0];return a8.default.createElement(I61,{style:{top:n+"px",height:h+"px",left:v+"px",width:g+"px"}})},[a,c])},BG=b61});var n4,SG,G61,kG,AG,T61,RG,Qu=x(()=>{"use strict";W8();n4=P(T());a1();W4();G61=B.div(SG||(SG=V(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  overflow-x: hidden;\n  overflow-y: scroll;\n  z-index: ",";\n\n  &::-webkit-scrollbar {\n    display: none;\n  }\n\n  scrollbar-width: none;\n"])),()=>K2.scrollableArea),kG=(0,n4.createContext)(h0),AG=()=>(0,n4.useContext)(kG),T61=t=>{let a=(0,n4.useRef)(null),c=(0,n4.useCallback)(r=>{a.current.scrollBy(0,r.deltaY)},[]);return n4.default.createElement(kG.Provider,{value:c},n4.default.createElement(G61,{ref:a},t.children))},RG=T61});var FG,bG=x(()=>{FG='data:image/svg+xml,<svg width="34" height="34" viewBox="0 0 34 34" fill="none" xmlns="http://www.w3.org/2000/svg">%0A  <path d="M1 7V1H7" stroke="%2374FFDE" stroke-width="0.25" />%0A  <path d="M7 33H1L1 27" stroke="%2374FFDE" stroke-width="0.25" />%0A  <path d="M33 27V33H27" stroke="%2374FFDE" stroke-width="0.25" />%0A  <path d="M27 1L33 1V7" stroke="%2374FFDE" stroke-width="0.25" />%0A</svg>'});var H0,xr=x(()=>{"use strict";H0=(t,a=t)=>"\n  left: ".concat(t*-.5,"px;\n  top: ").concat(a*-.5,"px;\n  width: ").concat(t,"px;\n  height: ").concat(a,"px;\n")});var Rn,O61,IG,PG=x(()=>{"use strict";Rn=require("@theatre/dataverse"),O61=(0,Rn.prism)(()=>{let[t,a]=Rn.prism.state("pos",null);return Rn.prism.effect("setupListeners",()=>{let c=r=>{a(r)};return document.addEventListener("mousemove",c),()=>{document.removeEventListener("mousemove",c)}},[]),t}),IG=O61});var h4,C2,bn,E61,D61,GG,TG,g0,O2,Xu,W61,ZG,E2=x(()=>{"use strict";h4=require("@theatre/dataverse");PG();H2();C2=P(T()),bn=(0,C2.createContext)(null),E61=0,D61=({children:t,layoutP:a})=>{let c=(0,C2.useMemo)(()=>new h4.Atom([]),[]),r=(0,C2.useMemo)(()=>(0,h4.prism)(()=>{let i=h4.prism.memo("p",()=>W61(a),[a]).getValue(),o=(0,h4.val)(c.pointer);return o.length>0?f3(o).position:i}),[a]),e=(0,C2.useCallback)(()=>{let i=E61++;return c.reduce(h=>[...h,{id:i,position:[-1,0]}]),{set:h=>{c.reduce(v=>{let g=v.findIndex(d=>d.id===i);if(g===-1)return console.warn("Lock is already freed. This is a bug."),v;let s=[...v];return s.splice(g,1,{id:i,position:[h,h===-1?0:1]}),s})},unlock:()=>{c.reduce(h=>h.filter(v=>v.id!==i))}}},[]),l={currentD:r,getLock:e};return C2.default.createElement(bn.Provider,{value:l},t)},GG=()=>(0,C2.useContext)(bn).currentD,TG=()=>{let{getLock:t}=(0,C2.useContext)(bn),a=(0,C2.useRef)();return(0,C2.useLayoutEffect)(()=>()=>{var c;(c=a.current)==null||c.unlock()},[]),(0,C2.useMemo)(()=>{let c;return(r,e)=>{var l,i;(c==null?void 0:c.shouldLock)!==r&&(r?a.current=t():(l=a.current)==null||l.unlock()),(c==null?void 0:c.pos)!==e&&r&&((i=a.current)==null||i.set(e)),c={shouldLock:r,pos:e}}},[t])},g0=(t,a)=>{let{getLock:c}=(0,C2.useContext)(bn),r=(0,C2.useRef)();(0,C2.useLayoutEffect)(()=>{if(t)return r.current=c(),()=>{r.current.unlock()}},[t,c]),(0,C2.useLayoutEffect)(()=>{t&&r.current.set(a)},[a,t])},O2=t=>({[Xu]:t==="hide"?t:t.toFixed(3)}),Xu="data-theatre-lock-framestamp-to",W61=t=>(0,h4.prism)(()=>{let a=(0,h4.val)(t.rightDims),c=(0,h4.val)(t.clippedSpace.toUnitSpace),r=(0,h4.val)(IG);if(!r)return[-1,0];for(let v of r.composedPath()){if(!(v instanceof HTMLElement||v instanceof SVGElement))break;if(v.hasAttribute(Xu)){let g=v.getAttribute(Xu);if(typeof g!="string")continue;if(g==="hide")return[-1,0];let s=parseFloat(g);if(isFinite(s)&&s>=0)return[s,2]}}let{clientX:e,clientY:l}=r,{screenX:i,screenY:o,width:n,height:h}=a;if($e(e,i,i+n)&&$e(l,o+16,o+h)){let v=e-i;return[c(v),3]}else return[-1,0]}),ZG=D61});var _61,Fn,OG,EG,DG,v4,Yu=x(()=>{"use strict";G1();I0();a1();bG();xr();b3();E2();_61=12,Fn=34,OG="beingDragged",v4={BEING_DRAGGED_CLASS:OG,CSS:M2(EG||(EG=V(["\n    position: absolute;\n    ",";\n    ",";\n\n    &."," {\n      pointer-events: none !important;\n    }\n  "])),H0(_61),x1,OG),CSS_WHEN_SOMETHING_DRAGGING:M2(DG||(DG=V(["\n    pointer-events: auto;\n    cursor: var(",");\n\n    // \u2E22\u2E24\u2E23\u2E25 thing\n    // This box extends the hitzone so the user does not\n    // accidentally leave the hitzone\n    &:hover:after {\n      position: absolute;\n      top: calc(50% - ","px);\n      left: calc(50% - ","px);\n      width: ","px;\n      height: ","px;\n      display: block;\n      content: ' ';\n      background: url(",") no-repeat 100% 100%;\n      // This icon might also fit: GiConvergenceTarget\n    }\n  "])),F0,Fn/2,Fn/2,Fn,Fn,FG),reactProps(t){return W(S(S({},O2(t.position)),r2.includePositionSnapAttrs(t.position)),{className:t.isDragging?v4.BEING_DRAGGED_CLASS:""})}}});function mt(){In.set({mode:"snapToAll"})}function I3(){In.set({mode:"snapToNone"})}function Gn(t){In.set({mode:"snapToSome",positions:t})}function Tn(t,a){return Object.fromEntries(Object.entries(t).map(([c,r])=>[c,Object.fromEntries(Object.entries(r.trackData).map(([e,l])=>[e,l.keyframes.filter(i=>a(i,{trackId:e,trackData:l,objectKey:c})).map(i=>i.position)]))]))}var jG,qG,Ju,WG,j61,_G,q61,N61,pt,In,Pn,c8=x(()=>{"use strict";jG=require("@theatre/dataverse"),qG=require("@theatre/dataverse"),Ju=P(T());a1();Yu();j61=B.div(WG||(WG=V(["\n  z-index: 1;\n  cursor: ew-resize;\n\n  ","\n\n  #pointer-root.draggingPositionInSequenceEditor & {\n    ","\n  }\n"])),v4.CSS,v4.CSS_WHEN_SOMETHING_DRAGGING),q61=B.div(_G||(_G=V(["\n  position: absolute;\n"]))),N61=t=>Ju.default.createElement(q61,{style:{top:"".concat(t.leaf.nodeHeight/2,"px"),left:"calc(".concat((0,qG.val)(t.layoutP.scaledSpace.leftPadding),"px + calc(var(--unitSpaceToScaledSpaceMultiplier) * ").concat(t.position,"px))")}},Ju.default.createElement(j61,S({},v4.reactProps({isDragging:!1,position:t.position})))),pt=N61,In=new jG.Atom({mode:"snapToNone"}),Pn=In.prism});function $61(t,a){let c=(0,S5.useMemo)(()=>({debugName:"HorizontallyScrollableArea",onDragStart(e){if(e.target instanceof HTMLInputElement||e.shiftKey||e.altKey||e.ctrlKey||e.metaKey||e.composedPath().some(g=>g instanceof HTMLElement&&g.draggable===!0))return!1;let l=e.clientX-a.getBoundingClientRect().left,i=F1((0,i2.val)(t.clippedSpace.toUnitSpace)(l),0,1/0),o=(0,i2.val)(t.seeker.setIsSeeking),n=(0,i2.val)(t.sheet).getSequence();n.position=i;let h=i,v=(0,i2.val)(t.scaledSpace.toUnitSpace);return o(!0),mt(),{onDrag(g,s,d){let z=v(g),M=F1(h+z,0,n.length),m=r2.checkIfMouseEventSnapToPos(d,{});m!=null&&(M=m),n.position=M},onDragEnd(){o(!1),I3()}}}}),[t,a]),[r]=S1(a,c);s2(r,"draggingPositionInSequenceEditor","ew-resize")}function Q61(t,a){let c=AG();(0,S5.useLayoutEffect)(()=>{if(!a)return;let r=l=>{if(l.ctrlKey){l.preventDefault(),l.stopPropagation();let i=l.clientX-a.getBoundingClientRect().left,o=(0,i2.val)(t.clippedSpace.toUnitSpace)(i),n=(0,i2.val)(t.clippedSpace.range),v=1+tp(l.deltaY,[-50,50])*.03,g=e5(n,z=>(z-o)*v+o),s=(0,i2.val)(t.sheet).getSequence().length,d=s+s*.25;(0,i2.val)(t.clippedSpace.setRange)(X61(g,[0,d]));return}else if(l.shiftKey){l.preventDefault(),l.stopPropagation();let i=(0,i2.val)(t.sheet).getSequence().length,o=(0,i2.val)(t.clippedSpace.range),h=(o.end-o.start)/i,g=tp(l.deltaY||l.deltaX,[-50,50])*.05*h,s=e5(o,d=>d+g);(0,i2.val)(t.clippedSpace.setRange)(s);return}else{c(l),l.preventDefault(),l.stopPropagation();let o=(0,i2.val)(t.scaledSpace.toUnitSpace)(l.deltaX*1),n=(0,i2.val)(t.clippedSpace.range),h=e5(n,g=>g+o);(0,i2.val)(t.clippedSpace.setRange)(h);return}},e={capture:!0,passive:!1};return a.addEventListener("wheel",r,e),()=>{a.removeEventListener("wheel",r,e)}},[a,t]),S1(a,(0,S5.useMemo)(()=>({onDragStart(r){let e=(0,i2.val)(t.clippedSpace.range),l=(0,i2.val)(t.clippedSpace.setRange),i=(0,i2.val)(t.scaledSpace.toUnitSpace);return r.preventDefault(),r.stopPropagation(),{onDrag(o,n,h,v,g){c({deltaY:-g});let s=-i(o),d=e5(e,z=>z+s);l(d)}}},debugName:"HorizontallyScrollableArea Middle Button Drag",buttons:[1],lockCSSCursorTo:"grabbing"}),[t]))}function tp(t,[a,c]){return Math.max(Math.min(t,c),a)}function X61(t,a){return e5(t,c=>tp(c,a))}function Y61(t,a){(0,S5.useLayoutEffect)(()=>{if(!a)return;let c=(0,i2.prism)(()=>{let i=(0,i2.val)(t.clippedSpace.range);return(0,i2.val)(t.scaledSpace.fromUnitSpace)(i.start)}),r=()=>{let i=c.getValue();a.scrollLeft=i},e=c.onStale(r);r();let l=setTimeout(r,100);return()=>{clearTimeout(l),e()}},[t,a])}var i2,S5,NG,U61,K61,Zn,ap=x(()=>{"use strict";f2();P1();M1();i2=require("@theatre/dataverse");H2();S5=P(T());a1();Qu();G1();I0();b3();c8();U61=B.div(NG||(NG=V(["\n  position: absolute;\n\n  right: 0;\n  overflow-x: scroll;\n  overflow-y: hidden;\n  ",";\n\n  // hide the scrollbar on Gecko\n  scrollbar-width: none;\n\n  // hide the scrollbar on Webkit/Blink\n  &::-webkit-scrollbar {\n    display: none;\n  }\n"])),x1),K61=S5.default.memo(({layoutP:t,children:a,height:c})=>{let{width:r,unitSpaceToScaledSpaceMultiplier:e}=v1(()=>({width:(0,i2.val)(t.rightDims.width),unitSpaceToScaledSpaceMultiplier:(0,i2.val)(t.scaledSpace.fromUnitSpace)(1)}),[t]),[l,i]=z1(null);return Q61(t,i),$61(t,i),Y61(t,i),S5.default.createElement(U61,{ref:l,style:{width:r+"px",height:c+"px","--unitSpaceToScaledSpaceMultiplier":e}},a)}),Zn=K61});var On,UG,J61,KG,t81,$G,a81,c81,k5,Cr=x(()=>{"use strict";On=P(T());a1();J61=B.li(UG||(UG=V(["\n  margin: 0;\n  padding: 0;\n  list-style: none;\n  box-sizing: border-box;\n  position: relative;\n"]))),t81=B.div(KG||(KG=V(["\n  box-sizing: border-box;\n  width: 100%;\n  position: relative;\n\n  &:before {\n    position: absolute;\n    display: block;\n    content: ' ';\n    left: -40px;\n    top: 0;\n    bottom: 0;\n    right: 0;\n    box-sizing: border-box;\n    border-bottom: 1px solid #252b3869;\n    background: ",";\n  }\n"])),t=>t.isEven?"transparent":"#6b8fb505"),a81=B.ul($G||($G=V(["\n  margin: 0;\n  padding: 0;\n  list-style: none;\n"]))),c81=({leaf:t,children:a,node:c,isCollapsed:r})=>{let e=Array.isArray(a)&&a.length>0;return t.shouldRender?On.default.createElement(J61,null,On.default.createElement(t81,{style:{height:t.nodeHeight+"px"},isEven:t.n%2===0},c),e&&On.default.createElement(a81,null,a)):null},k5=c81});var YG=L1((QG,XG)=>{(function(){var t=this,a={};typeof QG!="undefined"?XG.exports=a:t.fuzzy=a,a.simpleFilter=function(c,r){return r.filter(function(e){return a.test(c,e)})},a.test=function(c,r){return a.match(c,r)!==null},a.match=function(c,r,e){e=e||{};var l=0,i=[],o=r.length,n=0,h=0,v=e.pre||"",g=e.post||"",s=e.caseSensitive&&r||r.toLowerCase(),d;c=e.caseSensitive&&c||c.toLowerCase();for(var z=0;z<o;z++)d=r[z],s[z]===c[l]?(d=v+d+g,l+=1,h+=1+h):h=0,n+=h,i[i.length]=d;return l===c.length?(n=s===c?1/0:n,{rendered:i.join(""),score:n}):null},a.filter=function(c,r,e){return!r||r.length===0?[]:typeof c!="string"?r:(e=e||{},r.reduce(function(l,i,o,n){var h=i;e.extract&&(h=e.extract(i));var v=a.match(c,h,e);return v!=null&&(l[l.length]={string:v.rendered,score:v.score,index:o,original:i}),l},[]).sort(function(l,i){var o=i.score-l.score;return o||l.index-i.index}))}})()});function JG(t,a){let[c,r]=(0,Mt.useState)(!1),e=(0,Mt.useRef)(a);return c||(e.current=a),(0,Mt.useMemo)(()=>t(r),e.current)}var Mt,tT=x(()=>{"use strict";Mt=P(T())});var En,_4,Lr=x(()=>{"use strict";En="rgba(26, 28, 30, 0.97);",_4="#272B2F"});function rT(t,a,c,r){let e=JG(l=>({debugName:"CurveSegmentEditor/useKeyframeDrag",lockCSSCursorTo:"move",onDragStart(){return l(!0),{onDrag(i,o){t&&c.onCurveChange(r(i,o))},onDragEnd(i){l(!1),c.onCancelCurveChange()}}}}),[t,c.onCurveChange,c.onCancelCurveChange]);S1(a,e)}var I1,rp,Dn,Vr,r81,Wn,e81,cp,l81,i81,o81,Hr,n81,ft,h81,v81,aT,eT,ep,lT,cT,g81,iT,oT=x(()=>{"use strict";I1=P(T());f2();P1();ua();a1();G1();tT();Lr();rp=.12,Dn=1+rp*2,Vr=.01,r81=8,Wn=(1-Vr)/(r81-1),e81="#3EAAA4",cp="#3EAAA4",l81="#3EAAA4",i81="#3EAAA4",o81="#3EAAA4",Hr="#3EAAA4",n81="#3EAAA4",ft="#B3B3B3",h81="#3eaaa4",v81="#67dfd8",aT=["goldenrod","cornflowerblue","dodgerblue","lawngreen"],ep=B.circle(eT||(eT=V(["\n  stroke-width: 0.1px;\n  vector-effect: non-scaling-stroke;\n  r: 0.04px;\n  pointer-events: none;\n  transition: r 0.15s;\n  fill: ",";\n"])),h81),cT=B.circle(lT||(lT=V(["\n  stroke-width: 0.1px;\n  vector-effect: non-scaling-stroke;\n  r: 0.09px;\n  cursor: move;\n  ",";\n  &:hover {\n    opacity: 0.4;\n  }\n  &:hover + "," {\n    fill: ",";\n  }\n"])),x1,ep,v81),g81=t=>{let{curveConnection:{left:a,right:c},backgroundConnections:r}=t,e=Math.min(0,1-c.handles[1],1-a.handles[3]),l=Math.max(1,1-c.handles[1],1-a.handles[3]),i=Math.max(1,l-e),o=p=>(p-e)/i,[n,h]=z1(null),v=Dn/((h==null?void 0:h.clientWidth)||1),g=Dn/((h==null?void 0:h.clientHeight)||1),[s,d]=z1(null);rT(h,d,t,(p,f)=>{let H=F1(a.handles[2]+p*v,0,1),w=a.handles[3]-f*g;return[H,w,c.handles[0],c.handles[1]]});let[z,u]=z1(null);rT(h,u,t,(p,f)=>{let H=F1(c.handles[0]+p*v,0,1),w=c.handles[1]-f*g;return[a.handles[2],a.handles[3],H,w]});let M=p=>"M0 ".concat(o(1)," C").concat(p.left.handles[2]," ").concat(o(1-p.left.handles[3])," ").concat(p.right.handles[0]," ").concat(o(1-p.right.handles[1])," 1 ").concat(o(0)),m="0,100 100,100 100,0";return I1.default.createElement("svg",{height:"100%",width:"100%",ref:n,viewBox:"".concat(-rp," ").concat(-rp," ").concat(Dn," ").concat(Dn),xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",fill:"none"},I1.default.createElement("linearGradient",{id:"myGradient",gradientTransform:"rotate(90)"},I1.default.createElement("stop",{offset:o(-1),stopColor:n81}),I1.default.createElement("stop",{offset:o(0),stopColor:Hr}),I1.default.createElement("stop",{offset:o(.3),stopColor:o81}),I1.default.createElement("stop",{offset:o(.5),stopColor:i81}),I1.default.createElement("stop",{offset:o(.7),stopColor:l81}),I1.default.createElement("stop",{offset:o(1),stopColor:cp}),I1.default.createElement("stop",{offset:o(2),stopColor:e81})),I1.default.createElement("pattern",{id:"dot-background-pattern-1",width:Wn,height:Wn/i,y:-e/i},I1.default.createElement("rect",{width:Vr,height:Vr,fill:ft,opacity:.3})),I1.default.createElement("rect",{x:0,y:0,width:"1",height:1,fill:"url(#dot-background-pattern-1)"}),I1.default.createElement("pattern",{id:"dot-background-pattern-2",width:Wn,height:Wn},I1.default.createElement("rect",{width:Vr,height:Vr,fill:ft})),I1.default.createElement("rect",{x:0,y:o(0),width:"1",height:o(1)-o(0),fill:"url(#dot-background-pattern-2)"}),!a.type||a.type==="bezier"?I1.default.createElement(I1.default.Fragment,null,I1.default.createElement("line",{x1:0,y1:o(1),x2:a.handles[2],y2:o(1-a.handles[3]),stroke:ft,strokeWidth:"0.01"}),I1.default.createElement("line",{x1:1,y1:o(0),x2:c.handles[0],y2:o(1-c.handles[1]),stroke:ft,strokeWidth:"0.01"}),I1.default.createElement("path",{d:M(t.curveConnection),stroke:"none",fill:"url('#myGradient')",opacity:"0.1"}),r.map((p,f)=>I1.default.createElement("path",{key:p.objectKey+"/"+p.left.id,d:M(p),stroke:aT[f%aT.length],opacity:.6,strokeWidth:"0.01"})),I1.default.createElement("path",{d:M(t.curveConnection),stroke:"url('#myGradient')",strokeWidth:"0.02"}),I1.default.createElement("circle",{cx:0,cy:o(1),r:"0.025",stroke:cp,strokeWidth:"0.02",fill:_4}),I1.default.createElement("circle",{cx:1,cy:o(0),r:"0.025",stroke:Hr,strokeWidth:"0.02",fill:_4}),I1.default.createElement(cT,{ref:s,cx:a.handles[2],cy:o(1-a.handles[3]),fill:cp,opacity:.2}),I1.default.createElement(ep,{cx:a.handles[2],cy:o(1-a.handles[3])}),I1.default.createElement(cT,{ref:z,cx:c.handles[0],cy:o(1-c.handles[1]),fill:Hr,opacity:.2}),I1.default.createElement(ep,{cx:c.handles[0],cy:o(1-c.handles[1])})):I1.default.createElement(I1.default.Fragment,null,I1.default.createElement("line",{x1:0,y1:o(1),x2:1,y2:o(1),stroke:ft,strokeWidth:"0.01"}),I1.default.createElement("line",{x1:1,y1:o(1),x2:1,y2:0,stroke:ft,strokeWidth:"0.01"}),I1.default.createElement("circle",{cx:0,cy:1,r:"0.025",stroke:Hr,strokeWidth:"0.02",fill:_4}),I1.default.createElement("circle",{cx:1,cy:0,r:"0.025",stroke:Hr,strokeWidth:"0.02",fill:_4})))},iT=g81});function wr(t){return t.map(a=>a.toFixed(3)).join(", ")}function xt(t){if(!t||(t==null?void 0:t.length)>d81)return null;let a=t.split(",");if(a.length!==4)return null;let c=a.map(r=>Number(r.trim()));return!c.every(r=>isFinite(r))||c[0]<0||c[0]>1||c[2]<0||c[2]>1?null:c}function nT(t,a,c={threshold:.02}){if(!t||!a)return!1;let r=0;for(let e=0;e<4;e++)r+=Math.abs(t[e]-a[e]);return r<c.threshold}var d81,_n,lp=x(()=>{"use strict";d81=128;_n=[{label:"Quad Out",value:"0.250, 0.460, 0.450, 0.940"},{label:"Quad In Out",value:"0.455, 0.030, 0.515, 0.955"},{label:"Quad In",value:"0.550, 0.085, 0.680, 0.530"},{label:"Cubic Out",value:"0.215, 0.610, 0.355, 1.000"},{label:"Cubic In Out",value:"0.645, 0.045, 0.355, 1.000"},{label:"Cubic In",value:"0.550, 0.055, 0.675, 0.190"},{label:"Quart Out",value:"0.165, 0.840, 0.440, 1.000"},{label:"Quart In Out",value:"0.770, 0.000, 0.175, 1.000"},{label:"Quart In",value:"0.895, 0.030, 0.685, 0.220"},{label:"Quint Out",value:"0.230, 1.000, 0.320, 1.000"},{label:"Quint In Out",value:"0.860, 0.000, 0.070, 1.000"},{label:"Quint In",value:"0.755, 0.050, 0.855, 0.060"},{label:"Sine Out",value:"0.390, 0.575, 0.565, 1.000"},{label:"Sine In Out",value:"0.445, 0.050, 0.550, 0.950"},{label:"Sine In",value:"0.470, 0.000, 0.745, 0.715"},{label:"Expo Out",value:"0.190, 1.000, 0.220, 1.000"},{label:"Expo In Out",value:"1.000, 0.000, 0.000, 1.000"},{label:"Expo In",value:"0.780, 0.000, 0.810, 0.00"},{label:"Circ Out",value:"0.075, 0.820, 0.165, 1.000"},{label:"Circ In Out",value:"0.785, 0.135, 0.150, 0.860"},{label:"Circ In",value:"0.600, 0.040, 0.980, 0.335"},{label:"Back Out",value:"0.175, 0.885, 0.320, 1.275"},{label:"Back In Out",value:"0.680, -0.550, 0.265, 1.550"},{label:"Back In",value:"0.600, -0.280, 0.735, 0.045"},{label:"linear",value:"0.5, 0.5, 0.5, 0.5"},{label:"In Out",value:"0.42,0,0.58,1"},{label:"Hold",value:"0, 0, Infinity, Infinity"}]});var d0,ip,Ct,hT,s81,z81,jn,vT,gT,u81,dT,sT=x(()=>{"use strict";d0=P(T()),ip=.75,Ct=.1,hT=1+ip*2,s81="#F5F5F5",z81="#888888",jn="#4f4f4f",vT="rgba(255, 255, 255, 0.1)",gT=t=>1-t,u81=t=>{let{easing:a,isSelected:c}=t,r=c?s81:z81,e="".concat(-ip," ").concat(-ip," ").concat(hT," ").concat(hT);if(a){let l=[a[0],gT(a[1])],i=[a[2],gT(a[3])];return d0.default.createElement("svg",{height:"100%",width:"100%",viewBox:e,fill:"none",xmlns:"http://www.w3.org/2000/svg"},d0.default.createElement("line",{x1:"0",y1:"1",x2:l[0],y2:l[1],stroke:jn,strokeWidth:"0.1"}),d0.default.createElement("line",{x1:"1",y1:"0",x2:i[0],y2:i[1],stroke:jn,strokeWidth:"0.1"}),d0.default.createElement("circle",{cx:l[0],cy:l[1],r:.1,fill:vT}),d0.default.createElement("circle",{cx:i[0],cy:i[1],r:.1,fill:vT}),d0.default.createElement("circle",{cx:l[0],cy:l[1],r:Ct,fill:jn}),d0.default.createElement("circle",{cx:i[0],cy:i[1],r:Ct,fill:jn}),d0.default.createElement("path",{d:"M0 1 C".concat(l[0]," ").concat(l[1]," ").concat(i[0]," \n        ").concat(i[1]," 1 0"),stroke:r,strokeWidth:"0.08"}),d0.default.createElement("circle",{cx:0,cy:1,r:Ct,fill:r}),d0.default.createElement("circle",{cx:1,cy:0,r:Ct,fill:r}))}return d0.default.createElement("svg",{height:"100%",width:"100%",viewBox:e,fill:"none",xmlns:"http://www.w3.org/2000/svg"},d0.default.createElement("line",{x1:"0",y1:"1",x2:1,y2:1,stroke:r,strokeWidth:"0.08"}),d0.default.createElement("line",{x1:"1",y1:"0",x2:1,y2:1,stroke:r,strokeWidth:"0.08"}),d0.default.createElement("circle",{cx:0,cy:1,r:Ct,fill:r}),d0.default.createElement("circle",{cx:1,cy:0,r:Ct,fill:r}))},dT=u81});var Br,zT,uT,p81,pT,m81,M81,mT,MT=x(()=>{"use strict";nt();Br=P(T());a1();lp();sT();Dc();Lr();e4();p81=B.div(uT||(uT=V(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  overflow: hidden;\n  aspect-ratio: 1;\n\n  transition: background-color 0.15s;\n  background-color: ",";\n  border-radius: 2px;\n  cursor: pointer;\n  outline: none;\n\n  ","\n\n  &:hover {\n    background-color: #31353a;\n  }\n\n  &:focus {\n    background-color: #383d42;\n  }\n"])),_4,({isSelected:t})=>t&&M2(zT||(zT=V(["\n      background-color: #383d42;\n    "])))),m81=B(T2)(pT||(pT=V(["\n  padding: 0.5em;\n  color: white;\n  max-width: 240px;\n  pointer-events: none !important;\n  --popover-bg: black;\n  --popover-outer-stroke: transparent;\n  --popover-inner-stroke: transparent;\n  box-shadow: none;\n"]))),M81=Br.default.forwardRef((t,a)=>{let[c,r]=R3({enabled:!0,verticalPlacement:t.tooltipPlacement,verticalGap:0},()=>Br.default.createElement(m81,{showPopoverEdgeTriangle:!1},t.easing.label));return Br.default.createElement(p81,S({ref:D6([r,a])},t),c,Br.default.createElement(dT,{easing:xt(t.easing.value),isSelected:t.isSelected}))}),mT=M81});function xT(t){var i;let[a,c]=(0,fT.useState)(null),r=o=>{if(a===null){t.items.length>0&&c(0);return}let n=a+o*t.uiColumns,h=n<0,v=n>t.items.length-1;if(h||v){if(t.canVerticleExit&&t.canVerticleExit(h?"top":"bottom")){c(null);return}return}c(n)},e=o=>{a===null?c(LT(o,t.items.length)):a+o<0?c(null):c(Math.min(a+o,t.items.length-1))};return{focusFirstItem(){c(0)},onParentEltKeyDown:o=>{if(o.key==="ArrowRight")e(1);else if(o.key==="ArrowLeft")e(-1);else if(o.key==="ArrowUp")r(-1);else if(o.key==="ArrowDown")r(1);else return 0;return 1},gridItems:t.items.map((o,n)=>t.renderItem({isSelected:n===a,item:o,select(h){c(n),t.onSelectItem(o)===1&&(h==null||h.preventDefault(),h==null||h.stopPropagation())}})),currentSelection:(i=t.items[a!=null?a:-1])!=null?i:null}}var fT,CT=x(()=>{"use strict";fT=P(T());yr()});function HT(t,a,c){var e;(e=t.current)==null||e.discard(),t.current=null;let r=xt(c);r===null?t.current=y81(a):t.current=B81(a,r)}function VT(t){var a;(a=t.current)==null||a.discard(),t.current=null}function B81(t,a){return Z().tempTransaction(({stateEditors:c})=>{let{setHandlesForKeyframe:r,setKeyframeType:e}=c.coreByProject.historic.sheetsById.sequence;for(let{projectId:l,sheetId:i,objectKey:o,trackId:n,left:h,right:v}of t)r({projectId:l,sheetId:i,objectKey:o,trackId:n,keyframeId:h.id,start:[a[0],a[1]]}),r({projectId:l,sheetId:i,objectKey:o,trackId:n,keyframeId:v.id,end:[a[2],a[3]]}),e({projectId:l,sheetId:i,objectKey:o,trackId:n,keyframeId:h.id,keyframeType:"bezier"})})}function y81(t){return Z().tempTransaction(({stateEditors:a})=>{let{setKeyframeType:c}=a.coreByProject.historic.sheetsById.sequence;for(let{projectId:r,sheetId:e,objectKey:l,trackId:i,left:o}of t)c({projectId:r,sheetId:e,objectKey:l,trackId:i,keyframeId:o.id,keyframeType:"hold"})})}function LT(t,a){return(t%a+a)%a}function S81(t,a){return()=>setTimeout(t,a)}function k81({left:t,right:a}){return({left:c,right:r})=>t.handles[2]!==c.handles[2]||t.handles[3]!==c.handles[3]||a.handles[0]!==r.handles[0]||a.handles[1]!==r.handles[1]}var Sr,D1,AT,RT,bT,f81,wT,x81,BT,C81,yT,L81,ST,H81,kT,V81,w81,qn,DR1,Nn,A81,yr=x(()=>{"use strict";Sr=require("@theatre/dataverse"),D1=P(T());a1();AT=P(YG());m1();oT();MT();lp();Lr();P1();CT();RT=3,bT=53,f81=25,x81=B.div(wT||(wT=V(["\n  background: ",";\n  display: grid;\n  grid-template-areas:\n    'search  tween'\n    'presets tween';\n  grid-template-rows: 32px 1fr;\n  grid-template-columns: ","px 120px;\n  gap: 1px;\n  height: 120px;\n"])),En,RT*bT),C81=B.div(BT||(BT=V(["\n  overflow: auto;\n  grid-area: presets;\n\n  display: grid;\n  grid-template-columns: repeat(",", 1fr);\n  grid-auto-rows: min-content;\n  gap: 1px;\n\n  overflow-y: scroll;\n  scrollbar-width: none; /* Firefox */\n  -ms-overflow-style: none; /* Internet Explorer 10+ */\n  &::-webkit-scrollbar {\n    /* WebKit */\n    width: 0;\n    height: 0;\n  }\n"])),RT),L81=B.input.attrs({type:"text"})(yT||(yT=V(["\n  background-color: ",";\n  border: none;\n  border-radius: 2px;\n  color: rgba(255, 255, 255, 0.8);\n  padding: 6px;\n  font-size: 12px;\n  outline: none;\n  cursor: text;\n  text-align: left;\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n\n  grid-area: search;\n\n  &:hover {\n    background-color: #212121;\n  }\n\n  &:focus {\n    background-color: rgba(16, 16, 16, 0.26);\n    outline: 1px solid rgba(0, 0, 0, 0.35);\n  }\n"])),_4),H81=B.div(ST||(ST=V(["\n  grid-area: tween;\n  background: ",";\n"])),_4),V81=B.div(kT||(kT=V(["\n  grid-column: 1 / 4;\n  padding: 6px;\n  color: #888888;\n"]))),w81=t=>{let a=(0,D1.useMemo)(()=>[t.curveConnection,...t.additionalConnections],[t.curveConnection,...t.additionalConnections]),c=(0,D1.useRef)(null);(0,D1.useEffect)(()=>{let C=A81(a);return()=>{var E;C(),(E=c.current)==null||E.commit()}},[c]);let r=[t.curveConnection.left.handles[2],t.curveConnection.left.handles[3],t.curveConnection.right.handles[0],t.curveConnection.right.handles[1]],e=(0,D1.useRef)(null);(0,D1.useLayoutEffect)(()=>{var C,E;(C=e.current)==null||C.select(),(E=e.current)==null||E.focus()},[e.current]);let[l,i]=(0,D1.useState)(wr(r)),o=C=>{if(C===void 0)return;v(1),i(C.target.value),xt(C.target.value)&&s(C.target.value)},n=C=>{var E,t1;v(1),(C.key==="ArrowDown"||C.key==="ArrowUp")&&C.preventDefault(),C.key==="ArrowDown"?(G.focusFirstItem(),(t1=(E=y.current[m[0].label])==null?void 0:E.current)==null||t1.focus()):C.key==="Escape"?(VT(c),t.onRequestClose("key Escape")):C.key==="Enter"&&t.onRequestClose("key Enter")},[h,v]=(0,D1.useState)(0);(0,D1.useEffect)(()=>{h===2?i(wr(r)):h===3&&l!==""&&i("")},a);let[g,s]=(0,D1.useState)(wr(r)),[d,z]=(0,D1.useState)(null);(0,D1.useEffect)(()=>{var C;h!==0&&h!==3&&HT(c,a,(C=d!=null?d:g)!=null?C:"")},[d,g,h]),a.some(k81(t.curveConnection))&&h===0&&v(3);let u=C=>{var t1,F;v(2);let E=wr(C);i(E),s(E),(t1=e.current)==null||t1.select(),(F=e.current)==null||F.focus()},M=()=>{},m=(0,D1.useMemo)(()=>/^[A-Za-z]/.test(l)?AT.default.filter(l,_n,{extract:E=>E.label}).map(E=>E.original):_n,[l]);(0,D1.useEffect)(()=>{h===1&&m[0]&&s(m[0].value)},[m]);let p=C=>{C.key==="Escape"?(VT(c),t.onRequestClose("key Escape"),C.stopPropagation()):C.key==="Enter"&&(t.onRequestClose("key Enter"),C.stopPropagation())},f=C=>{h===0&&v(2),z(C.value)},H=()=>z(null),w=C=>(HT(c,a,C.value),t.onRequestClose("selected easing option"),1),y=(0,D1.useRef)(_n.reduce((C,E)=>(C[E.label]={current:null},C),{})),[k,I]=z1(null),[U,A]=(0,D1.useState)(0);(0,D1.useEffect)(()=>{let C=()=>{var E;A((E=I==null?void 0:I.scrollTop)!=null?E:0)};return I==null||I.addEventListener("scroll",C),()=>I==null?void 0:I.removeEventListener("scroll",C)},[I]);let G=xT({items:m,uiColumns:3,onSelectItem:w,canVerticleExit(C){var E,t1;return C==="top"?((E=e.current)==null||E.select(),(t1=e.current)==null||t1.focus(),1):0},renderItem:({item:C,select:E})=>{var t1,F;return D1.default.createElement(mT,{key:C.label,easing:C,tabIndex:0,onKeyDown:p,ref:y.current[C.label],onMouseOver:()=>f(C),onMouseOut:H,onClick:E,tooltipPlacement:((F=(t1=y.current[C.label].current)==null?void 0:t1.offsetTop)!=null?F:0)-(U!=null?U:0)<bT+f81?"bottom":"top",isSelected:nT(r,xt(C.value))})}});return(0,D1.useLayoutEffect)(()=>{var C,E;if(G.currentSelection!==null&&document.activeElement!==e.current){let t1=(E=(C=y.current)==null?void 0:C[G.currentSelection.label])==null?void 0:E.current;t1==null||t1.focus(),s(G.currentSelection.value),/^[A-Za-z]/.test(l)||i(G.currentSelection.value)}},[G.currentSelection]),D1.default.createElement(x81,null,D1.default.createElement(L81,{value:l,placeholder:h===3?"Multiple easings selected":"Search presets...",onPaste:S81(o),onChange:o,ref:e,onKeyDown:n}),D1.default.createElement(C81,{ref:k,onKeyDown:C=>G.onParentEltKeyDown(C)},G.gridItems,G.gridItems.length===0?D1.default.createElement(V81,null,"No results found"):void 0),D1.default.createElement(H81,{onClick:()=>{var C;return(C=e.current)==null?void 0:C.focus()}},D1.default.createElement(iT,{curveConnection:t.curveConnection,backgroundConnections:t.additionalConnections,onCurveChange:u,onCancelCurveChange:M})))},qn=w81;({isCurveEditorOpenD:DR1,isConnectionEditingInCurvePopover:Nn,getLock:A81}=(()=>{let t=new Sr.Atom([]);return{getLock(a){return t.set(a),function(){t.set([])}},isCurveEditorOpenD:(0,Sr.prism)(()=>t.prism.getValue().length>0),isConnectionEditingInCurvePopover(a){return Sr.prism.ensurePrism(),t.prism.getValue().some(({left:c,right:r})=>a.left.id===c.id&&a.right.id===r.id)}}})())});function R81(t,a){for(let{keyframeId:c}of I81(a))if(t.left.id===c)return!0;return!1}function Un(t,a,c){return(0,kr.prism)(()=>{if(c===void 0)return[];let r=[];for(let{objectKey:e,trackId:l}of FT(c)){let i=(0,kr.val)(Z().atomP.historic.coreByProject[t].sheetsById[a].sequence.tracksByObject[e].trackData[l]);i&&(r=r.concat(F81(i.keyframes).filter(o=>R81(o,c)).map(({left:o,right:n})=>({left:o,right:n,trackId:l,objectKey:e,sheetId:a,projectId:t}))))}return r})}function r8(t,a,c){var i;if(c===void 0)return[];let r=[];for(let{objectKey:o,trackId:n,keyframeIds:h}of FT(c))r=r.concat((i=Ar({projectId:t,sheetId:a,objectKey:o,trackId:n,keyframeIds:h}))!=null?i:[]);let e=J6(r.map(o=>o.pathToProp));return r.map(({keyframe:o,pathToProp:n})=>({keyframe:o,pathToProp:n.slice(e.length)}))}function Ar({projectId:t,sheetId:a,objectKey:c,trackId:r,keyframeIds:e}){let l=(0,kr.val)(Z().atomP.historic.coreByProject[t].sheetsById[a].sequence.tracksByObject[c]),i=l==null?void 0:l.trackData[r];if(!i)return null;let n=b81((l==null?void 0:l.trackIdByPropPath)||{})[r];if(!n)return null;let h=[c,...ut(n)];return e.map(v=>({keyframe:i.keyframes.find(g=>g.id===v),pathToProp:h})).filter(({keyframe:v})=>v!==void 0)}function b81(t){let a={};for(let[c,r]of Object.entries(t))a[r]=c;return a}function F81(t){return t.map((a,c)=>({left:a,right:t[c+1]})).slice(0,-1)}function I81(t){var c,r,e;let a=[];for(let[l,i]of Object.entries((c=t==null?void 0:t.byObjectKey)!=null?c:{}))for(let[o,n]of Object.entries((r=i==null?void 0:i.byTrackId)!=null?r:{}))for(let h of Object.keys((e=n==null?void 0:n.byKeyframeId)!=null?e:{}))a.push({objectKey:l,trackId:o,keyframeId:h});return a}function FT(t){var c,r,e;let a=[];for(let[l,i]of Object.entries((c=t==null?void 0:t.byObjectKey)!=null?c:{}))for(let[o,n]of Object.entries((r=i==null?void 0:i.byTrackId)!=null?r:{}))a.push({objectKey:l,trackId:o,keyframeIds:Object.keys((e=n==null?void 0:n.byKeyframeId)!=null?e:{})});return a}var kr,o7=x(()=>{"use strict";kr=require("@theatre/dataverse");m1();o4()});function PT(t,a){return(0,IT.useMemo)(()=>P81(t,a),[])}function P81(t,a){let c=null,r=i=>Z().tempTransaction(o=>t(o,i));function e(){c==null||c.discard(),c=null}let l={createAsset:a.sheet.project.assetStorage.createAsset,getAssetUrl:i=>i.id?a.sheet.project.assetStorage.getAssetUrl(i.id):void 0};return S({temporarilySetValue(i){e(),c=r(i)},discardTemporaryValue:e,permanentlySetValue(i){e(),r(i).commit()}},l)}var IT,GT=x(()=>{"use strict";m1();IT=P(T())});function Kn(t){var a;if(t.type==="sheetObject")return $2.default.createElement($2.default.Fragment,null,$2.default.createElement(op,{style:{paddingLeft:"".concat(t.indent*np,"px")}},t.sheetObject.address.objectKey),t.children.map((c,r)=>$2.default.createElement(Kn,W(S({key:r},c),{autoFocusInput:t.autoFocusInput&&r===0,indent:t.indent+1}))));if(t.type==="propWithChildren"){let c=(a=t.propConfig.label)!=null?a:f3(t.pathToProp);return $2.default.createElement($2.default.Fragment,null,$2.default.createElement(op,{style:{paddingLeft:"".concat(t.indent*np,"px")}},c),t.children.map((r,e)=>$2.default.createElement(Kn,W(S({key:e},r),{autoFocusInput:t.autoFocusInput&&e===0,indent:t.indent+1}))))}else return $2.default.createElement(Z81,W(S({},t),{autoFocusInput:t.autoFocusInput,indent:t.indent}))}function Z81(t){var r;let a=(r=t.propConfig.label)!=null?r:f3(t.pathToProp),c=O81(t);if(t.propConfig.type==="enum")return $2.default.createElement($2.default.Fragment,null);{let e=Po[t.propConfig.type];return $2.default.createElement(G81,null,$2.default.createElement(op,null,$2.default.createElement("span",{style:{paddingLeft:"".concat(t.indent*np,"px")}},a)),$2.default.createElement(T81,null,$2.default.createElement(e,{editingTools:c,propConfig:t.propConfig,value:X8(t.keyframe.value,t.propConfig),autoFocus:t.autoFocusInput})))}}function O81(t){let a=t.sheetObject;return PT(({stateEditors:c},r)=>{let e=W(S({},t.keyframe),{value:r});c.coreByProject.historic.sheetsById.sequence.replaceKeyframes(W(S({},a.address),{trackId:t.trackId,keyframes:[e],snappingFunction:a.sheet.getSequence().closestGridPosition}))},a)}var $2,TT,G81,ZT,op,np,OT,T81,ET=x(()=>{"use strict";$2=P(T());a1();Jz();ma();GT();L5();G81=B.div(TT||(TT=V(["\n  display: flex;\n  align-items: stretch;\n  min-width: 200px;\n\n  select {\n    min-width: 100px;\n  }\n"]))),op=B.div(ZT||(ZT=V(["\n  font-style: normal;\n  font-weight: 400;\n  font-size: 11px;\n  line-height: 13px;\n  letter-spacing: 0.01em;\n  padding: 6px 6px 6px 0;\n\n  width: 40%;\n\n  color: #919191;\n\n  overflow: hidden;\n"]))),np=10;T81=B.div(OT||(OT=V(["\n  display: flex;\n  align-items: center;\n  width: 60%;\n"])))});function e8(t){return x2({debugName:"useKeyframeInlineEditorPopover"},()=>$n.default.createElement(T2,{showPopoverEdgeTriangle:!0},$n.default.createElement("div",{style:{margin:"1px 2px 1px 10px"}},Array.isArray(t)?t.map((a,c)=>$n.default.createElement(Kn,W(S({key:c},a),{autoFocusInput:c===0,indent:0}))):void 0)))}var $n,Rr=x(()=>{"use strict";$n=P(T());c4();e4();ET()});function _81(t,a,c){return Z1(t,{displayName:"Keyframe",menuItems:()=>{let r=r8(c.leaf.sheetObject.address.projectId,c.leaf.sheetObject.address.sheetId,c.selection);return[{label:r.length>0?"Copy (selection)":"Copy",callback:()=>{r.length>0?Z().transaction(e=>{e.stateEditors.studio.ahistoric.setClipboardKeyframes(r)}):Z().transaction(e=>{e.stateEditors.studio.ahistoric.setClipboardKeyframes([{keyframe:c.keyframe,pathToProp:c.leaf.pathToProp}])})}},{label:c.selection!==void 0?"Delete (selection)":"Delete",callback:()=>{c.selection?c.selection.delete():Z().transaction(({stateEditors:e})=>{e.coreByProject.historic.sheetsById.sequence.deleteKeyframes(W(S({},c.leaf.sheetObject.address),{keyframeIds:[c.keyframe.id],trackId:c.leaf.trackId}))})}}]},onOpen(){a._debug("Show keyframe",c)}})}function j81(t,a,c){let r=(0,j4.useRef)(a);r.current=a;let{onClickFromDrag:e}=c,l=(0,j4.useMemo)(()=>({debugName:"KeyframeDot/useDragKeyframe",onDragStart(o){let n=r.current,h=(0,Xn.val)(Z().atomP.historic.coreByProject[n.leaf.sheetObject.address.projectId].sheetsById[n.leaf.sheetObject.address.sheetId].sequence.tracksByObject),v=Tn(h,function(u,{trackId:M,objectKey:m}){var p,f;return u.id!==n.keyframe.id&&!(n.selection&&((f=(p=n.selection.byObjectKey[m])==null?void 0:p.byTrackId[M])!=null&&f.byKeyframeId[u.id]))});if(Gn(v),n.selection){let{selection:z,leaf:u}=n,{sheetObject:M}=u,m=z.getDragHandlers(W(S({},M.address),{domNode:t,positionAtStartOfDrag:n.track.data.keyframes[n.index].position})).onDragStart(o);return m&&W(S({},m),{onClick:e,onDragEnd:(...p)=>{var f;(f=m.onDragEnd)==null||f.call(m,...p),I3()}})}let g=n,s=(0,Xn.val)(g.layoutP.scaledSpace.toUnitSpace),d;return{onDrag(z,u,M){var f;let m=g.track.data.keyframes[g.index],p=Math.max((f=r2.checkIfMouseEventSnapToPos(M,{ignore:t}))!=null?f:m.position+s(z),0);d==null||d.discard(),d=void 0,d=Z().tempTransaction(({stateEditors:H})=>{H.coreByProject.historic.sheetsById.sequence.replaceKeyframes(W(S({},g.leaf.sheetObject.address),{trackId:g.leaf.trackId,keyframes:[W(S({},m),{position:p})],snappingFunction:(0,Xn.val)(g.layoutP.sheet).getSequence().closestGridPosition}))})},onDragEnd(z){z?d==null||d.commit():d==null||d.discard(),I3()},onClick(z){e(z)}}}}),[e]),[i]=S1(t,l);return g0(i,a.keyframe.position),s2(i,"draggingPositionInSequenceEditor","ew-resize"),[i]}var j4,Xn,br,DT,Qn,qT,WT,hp,_T,E81,jT,D81,W81,NT,gp=x(()=>{"use strict";j4=P(T());a1();m1();v0();f2();P1();Xn=require("@theatre/dataverse");E2();I0();b3();xr();C5();o7();G1();c8();Rr();K6();br=6,DT=br+2,Qn={normalColor:"#40AAA4",selectedColor:"#F2C95C",inlineEditorOpenColor:"#FCF3DC",selectedAndInlineEditorOpenColor:"#CBEBEA"},qT=({isSelected:t,isInlineEditorPopoverOpen:a})=>t&&a?Qn.inlineEditorOpenColor:t?Qn.selectedColor:a?Qn.selectedAndInlineEditorOpenColor:Qn.normalColor,hp=B.div(WT||(WT=V(["\n  position: absolute;\n  ","\n\n  background: ",";\n  transform: rotateZ(45deg);\n\n  ",";\n\n  z-index: 1;\n  pointer-events: none;\n"])),H0(br),t=>qT(t),t=>t.flag===2?"outline: 2px solid white;":""),E81=B.div(_T||(_T=V(["\n  position: absolute;\n  ","\n\n  background: ",";\n\n  ",";\n\n  z-index: 1;\n  pointer-events: none;\n"])),H0(br*1.5),t=>qT(t),t=>t.flag===2?"outline: 2px solid white;":""),D81=B.div(jT||(jT=V(["\n  z-index: 1;\n  cursor: ew-resize;\n\n  position: absolute;\n  ",";\n  ",";\n\n  & + "," {\n    ","\n  }\n\n  &:hover + "," {\n    ","\n  }\n"])),H0(12),x1,hp,t=>t.isInlineEditorPopoverOpen?H0(DT):"",hp,H0(DT)),W81=t=>{let a=C0("SingleKeyframeDot",t.keyframe.id),c=i3(t.itemKey),[r,e]=z1(null),[l]=_81(e,a,t),{node:i,toggle:o,isOpen:n}=e8([{type:"primitiveProp",keyframe:t.keyframe,pathToProp:t.leaf.pathToProp,propConfig:t.leaf.propConf,sheetObject:t.leaf.sheetObject,trackId:t.leaf.trackId}]),[h]=j81(e,t,{onClickFromDrag(g){o(g,r.current)}}),v=!t.keyframe.type||t.keyframe.type==="bezier";return j4.default.createElement(j4.default.Fragment,null,j4.default.createElement(D81,S({ref:r,isInlineEditorPopoverOpen:n},c.attrs)),v?j4.default.createElement(hp,{isSelected:!!t.selection,isInlineEditorPopoverOpen:n,flag:c.flag}):j4.default.createElement(E81,{isSelected:!!t.selection,isInlineEditorPopoverOpen:n,flag:c.flag}),i,l)},NT=W81});var dp,UT,$T,Lt,KT,q81,Yn,sp=x(()=>{"use strict";R0();dp=P(T());a1();gp();UT=br/2+1,$T=1e3,Lt={normalColor:"#365b59",selectedColor:"#8A7842",barColor:t=>{let a=t.isSelected?Lt.selectedColor:Lt.normalColor;return t.isPopoverOpen?Wi(.2,R6(.2,a)):a},hoverColor:t=>{let a=t.isSelected?Lt.selectedColor:Lt.normalColor;return t.isPopoverOpen?Wi(.2,R6(.2,a)):Wi(.1,R6(.1,a))}},q81=B.div(KT||(KT=V(["\n  position: absolute;\n  background: ",";\n  height: ","px;\n  width: ","px;\n\n  left: 0;\n  top: -","px;\n  transform-origin: top left;\n  z-index: 0;\n  cursor: ew-resize;\n\n  &:after {\n    display: block;\n    position: absolute;\n    content: ' ';\n    top: -4px;\n    bottom: -4px;\n    left: 0;\n    right: 0;\n  }\n\n  &:hover {\n    background: ",";\n  }\n"])),Lt.barColor,UT,$T,UT/2,Lt.hoverColor),Yn=dp.default.forwardRef((t,a)=>{let c={isPopoverOpen:t.isPopoverOpen,isSelected:t.isSelected};return dp.default.createElement(q81,W(S({},c),{ref:a,style:{transform:"scaleX(calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(t.connectorLengthInUnitSpace/$T,"))")},onClick:r=>{var e;(e=t.openPopover)==null||e.call(t,r)}}),t.children)})});function $81(t,a){let c=(0,th.useRef)(a);c.current=a;let r=(0,th.useMemo)(()=>({debugName:"useDragKeyframe",lockCSSCursorTo:"ew-resize",onDragStart(e){let l=c.current,i;if(l.selection){let{selection:v,leaf:g}=l,{sheetObject:s}=g;return v.getDragHandlers(W(S({},s.address),{domNode:t,positionAtStartOfDrag:l.track.data.keyframes[l.index].position})).onDragStart(e)}let o=l,n=(0,Jn.val)(o.layoutP.sheet).getSequence(),h=(0,Jn.val)(o.layoutP.scaledSpace.toUnitSpace);return{onDrag(v,g,s){let d=h(v);i&&(i.discard(),i=void 0),i=Z().tempTransaction(({stateEditors:z})=>{z.coreByProject.historic.sheetsById.sequence.transformKeyframes(W(S({},o.leaf.sheetObject.address),{trackId:o.leaf.trackId,keyframeIds:[o.keyframe.id,o.track.data.keyframes[o.index+1].id],translate:d,scale:1,origin:0,snappingFunction:n.closestGridPosition}))})},onDragEnd(v){v?i&&i.commit():i&&i.discard()}}}}),[]);S1(t,r)}function Q81(t,a,c,r){return Z1(a,{displayName:"Tween",menuItems:()=>{let e=r8(t.leaf.sheetObject.address.projectId,t.leaf.sheetObject.address.sheetId,t.selection);return[{label:e.length>0?"Copy (selection)":"Copy",callback:()=>{e.length>0?Z().transaction(l=>{l.stateEditors.studio.ahistoric.setClipboardKeyframes(e)}):Z().transaction(l=>{l.stateEditors.studio.ahistoric.setClipboardKeyframes([{keyframe:c,pathToProp:t.leaf.pathToProp},{keyframe:r,pathToProp:t.leaf.pathToProp}])})}},{label:t.selection?"Delete (selection)":"Delete",callback:()=>{t.selection?t.selection.delete():Z().transaction(({stateEditors:l})=>{l.coreByProject.historic.sheetsById.sequence.deleteKeyframes(W(S({},t.leaf.sheetObject.address),{keyframeIds:[c.id,r.id],trackId:t.leaf.trackId}))})}}]}})}var Jn,l8,th,QT,XT,N81,U81,YT,K81,JT=x(()=>{"use strict";m1();v0();f2();P1();Jn=require("@theatre/dataverse"),l8=P(T()),th=P(T());c4();e4();yr();sp();Lr();M1();o7();o7();a1();QT=5,N81=B(T2)(XT||(XT=V(["\n  --popover-outer-stroke: transparent;\n  --popover-inner-stroke: ",";\n"])),En),U81=t=>{let{index:a,track:c}=t,r=c.data.keyframes[a],e=c.data.keyframes[a+1],[l,i]=z1(null),{node:o,toggle:n,close:h}=x2(()=>{let z=(0,Jn.val)(t.layoutP.rightDims);return{debugName:"Connector",constraints:{minX:z.screenX+QT,maxX:z.screenX+z.width-QT}}},()=>l8.default.createElement(K81,W(S({},t),{closePopover:h}))),[v]=Q81(t,i,r,e);$81(i,t);let g=e.position-r.position,d={isPopoverOpen:v1(()=>Nn(W(S({},t.leaf.sheetObject.address),{trackId:t.leaf.trackId,left:r,right:e})),[t.leaf.sheetObject.address,t.leaf.trackId,r,e]),isSelected:t.selection!==void 0};return l8.default.createElement(l8.default.Fragment,null,l8.default.createElement(Yn,W(S({ref:l,connectorLengthInUnitSpace:g},d),{openPopover:z=>{i&&n(z,i)}}),o),v)},YT=U81,K81=l8.default.forwardRef((t,a)=>{let{index:c,track:{data:r},selection:e}=t,l=r.keyframes[c],i=r.keyframes[c+1],o=t.leaf.trackId,n=t.leaf.sheetObject.address,h=v1(()=>Un(n.projectId,n.sheetId,e).getValue(),[n,e]),v=S({left:l,right:i,trackId:o},n);return l8.default.createElement(N81,{showPopoverEdgeTriangle:!1,ref:a},l8.default.createElement(qn,{curveConnection:v,additionalConnections:h,onRequestClose:t.closePopover}))})});var aZ,n7,tZ,X81,Y81,J81,cZ,rZ=x(()=>{"use strict";aZ=require("@theatre/dataverse"),n7=P(T());a1();JT();gp();X81=B.div(tZ||(tZ=V(["\n  position: absolute;\n"]))),Y81=n7.default.createElement(n7.default.Fragment,null),J81=n7.default.memo(t=>{let{index:a,track:{data:c}}=t,r=c.keyframes[a],e=c.keyframes[a+1],l=r.connectedRight&&!!e;return n7.default.createElement(X81,{style:{top:"".concat(t.leaf.nodeHeight/2,"px"),left:"calc(".concat((0,aZ.val)(t.layoutP.scaledSpace.leftPadding),"px + calc(var(--unitSpaceToScaledSpaceMultiplier) * ").concat(r.position,"px))")}},n7.default.createElement(NT,W(S({},t),{itemKey:t.itemKey})),l?n7.default.createElement(YT,S({},t)):Y81)}),cZ=J81});function a71(t,a){return Z1(t,{displayName:"Keyframe Track",menuItems:()=>{var r;let c=(r=(0,Ht.val)(Z().atomP.ahistoric.clipboard.keyframesWithRelativePaths))!=null?r:[];return[c71(a,c)]}})}function c71(t,a){return{label:"Paste Keyframes",enabled:a.length>0,callback:()=>{var i;let r=(0,Ht.val)(t.layoutP.sheet).getSequence(),e=(i=a[0])==null?void 0:i.pathToProp,l=a.filter(({keyframe:o,pathToProp:n})=>pG(e,n)).map(({keyframe:o,pathToProp:n})=>o);Z().transaction(({stateEditors:o})=>{var h;r.position=r.closestGridPosition(r.position);let n=(h=r71(l))==null?void 0:h.position;for(let v of l)o.coreByProject.historic.sheetsById.sequence.setKeyframeAtPosition(W(S({},t.leaf.sheetObject.address),{trackId:t.leaf.trackId,position:r.position+v.position-n,handles:v.handles,value:v.value,snappingFunction:r.closestGridPosition,type:v.type}))})}}}function r71(t){let a=null;for(let c of t)(a===null||c.position<a.position)&&(a=c);return a}var Ht,q4,eZ,t71,lZ,iZ,oZ=x(()=>{"use strict";M1();Ht=require("@theatre/dataverse"),q4=P(T());a1();rZ();v0();P1();m1();o4();c8();O4();t71=B.div(eZ||(eZ=V(["\n  position: relative;\n  height: 100%;\n  width: 100%;\n"]))),lZ=q4.default.memo(t=>{var p;let{layoutP:a,trackData:c,leaf:r}=t,[e,l]=z1(null),{selectedKeyframeIds:i,selection:o}=v1(()=>{let f=(0,Ht.val)(a.selectionAtom),H=(0,Ht.val)(f.pointer.current.byObjectKey[r.sheetObject.address.objectKey].byTrackId[r.trackId].byKeyframeId);return H?{selectedKeyframeIds:H,selection:(0,Ht.val)(f.pointer.current)}:{selectedKeyframeIds:{},selection:void 0}},[a,r.trackId]),[n,h,v]=a71(l,t),g=s1(Pn),s=g.mode==="snapToSome"?(p=g.positions[r.sheetObject.address.objectKey])==null?void 0:p[r.trackId]:[],d=g.mode==="snapToAll",z=(0,q4.useMemo)(()=>({data:c,id:r.trackId,sheetObject:t.leaf.sheetObject}),[c,r.trackId]),u=c.keyframes.map((f,H)=>q4.default.createElement(cZ,{key:"keyframe-"+f.id,itemKey:c2.forTrackKeyframe(r.sheetObject,r.trackId,f.id),keyframe:f,index:H,track:z,layoutP:a,leaf:r,selection:i[f.id]===!0?o:void 0})),M=s.map(f=>q4.default.createElement(pt,{key:"snap-target-"+f,layoutP:a,leaf:r,position:f})),m=d?c.keyframes.map(f=>q4.default.createElement(pt,{key:"additionalSnapTarget-".concat(f.id),layoutP:a,leaf:r,position:f.position})):null;return q4.default.createElement(t71,{ref:e,style:{background:v?"#444850 ":"unset"}},u,M,q4.default.createElement(q4.default.Fragment,null,m),n)});lZ.displayName="BasicKeyframedTrack";iZ=lZ});var nZ,Fr,e71,hZ,vZ=x(()=>{"use strict";m1();M1();nZ=require("@theatre/dataverse"),Fr=P(T());Cr();oZ();C5();e71=({leaf:t,layoutP:a})=>{let c=C0("PrimitivePropRow",t.pathToProp.join());return v1(()=>{let{sheetObject:r}=t,{trackId:e}=t,l=(0,nZ.val)(Z().atomP.historic.coreByProject[r.address.projectId].sheetsById[r.address.sheetId].sequence.tracksByObject[r.address.objectKey].trackData[e]);return(l==null?void 0:l.type)!=="BasicKeyframedTrack"?(c.errorDev("trackData type ".concat(l==null?void 0:l.type," is not yet supported on the sequence editor")),Fr.default.createElement(k5,{leaf:t,isCollapsed:!1,node:Fr.default.createElement("div",null)})):Fr.default.createElement(k5,{leaf:t,isCollapsed:!1,node:Fr.default.createElement(iZ,{layoutP:a,trackData:l,leaf:t})})},[t,a])},hZ=e71});function gZ(t){return t()}var dZ=x(()=>{"use strict"});function ah(t){let{index:a,aggregateKeyframes:c,selection:r}=t;return v1(up(t),[a,c,r,t.viewModel])}function up(t){let{index:a,aggregateKeyframes:c,selection:r}=t,{projectId:e,sheetId:l}=t.viewModel.type==="sheet"?t.viewModel.sheet.address:t.viewModel.sheetObject.address;return()=>{let i=c[a],o=c[a+1],h=o&&i.keyframes.length===o.keyframes.length&&i.keyframes.every(({track:z},u)=>o.keyframes[u].track===z)?{length:o.position-i.position,selected:i.selected===0&&o.selected===0}:null,v=h?i.keyframes.map(({kf:z,track:u},M)=>W(S({},u.sheetObject.address),{trackId:u.id,left:z,right:o.keyframes[M].kf})):[],g=gZ(()=>{let z=zp.prism.memo("selectedConnections",()=>Un(e,l,r),[e,l,r]).getValue();return[...v,...z]}),s=v.every(z=>Nn(z));return{itemKey:zp.prism.memo("itemKey",()=>t.viewModel.type==="sheet"?c2.forSheetAggregateKeyframe(t.viewModel.sheet,i.position):t.viewModel.type==="sheetObject"?c2.forSheetObjectAggregateKeyframe(t.viewModel.sheetObject,i.position):c2.forCompoundPropAggregateKeyframe(t.viewModel.sheetObject,t.viewModel.pathToProp,i.position),[t.viewModel,i.position]),cur:i,connected:h,isAggregateEditingInCurvePopover:s,allConnections:g}}}var zp,ch=x(()=>{"use strict";zp=require("@theatre/dataverse");O4();yr();M1();o7();dZ()});function o71(t,a){let c=(0,E0.useRef)(a);c.current=a;let r=(0,E0.useMemo)(()=>({debugName:"useDragKeyframe",lockCSSCursorTo:"ew-resize",onDragStart(e){let l=c.current,i,o=l.aggregateKeyframes[l.index].keyframes,{selection:n,viewModel:h}=l,v=h.type==="sheet"?h.sheet.address:h.sheetObject.address;if(n&&l.aggregateKeyframes[l.index].selected===0)return n.getDragHandlers(W(S({},v),{domNode:t,positionAtStartOfDrag:l.aggregateKeyframes[l.index].position})).onDragStart(e);let g=l,s=(0,rh.val)(g.layoutP.sheet).getSequence(),d=(0,rh.val)(g.layoutP.scaledSpace.toUnitSpace);return{onDrag(z,u,M){let m=d(z);i&&(i.discard(),i=void 0),i=Z().tempTransaction(({stateEditors:p})=>{for(let f of o)p.coreByProject.historic.sheetsById.sequence.transformKeyframes(W(S({},f.track.sheetObject.address),{trackId:f.track.id,keyframeIds:[f.kf.id,f.track.data.keyframes[f.track.data.keyframes.indexOf(f.kf)+1].id],translate:m,scale:1,origin:0,snappingFunction:s.closestGridPosition}))})},onDragEnd(z){z?i&&i.commit():i&&i.discard()}}}}),[]);return S1(t,r)}function n71(t,a){return Z1(a,{displayName:"Aggregate Tween",menuItems:()=>{let c=t.utils.allConnections.reduce((o,n)=>{var h;return o.concat((h=Ar(W(S({},n),{keyframeIds:[n.left.id,n.right.id]})))!=null?h:[])},[]),r=J6(c.map(o=>o.pathToProp)),e=c.map(({keyframe:o,pathToProp:n})=>({keyframe:o,pathToProp:n.slice(r.length)})),l=t.editorProps.viewModel,i=l.type==="sheet"?l.sheet.address:l.sheetObject.address;return[{label:"Copy",callback:()=>{if(t.editorProps.selection){let o=r8(i.projectId,i.sheetId,t.editorProps.selection);Z().transaction(n=>{n.stateEditors.studio.ahistoric.setClipboardKeyframes(o)})}else Z().transaction(o=>{o.stateEditors.studio.ahistoric.setClipboardKeyframes(e)})}},{label:"Delete",callback:()=>{t.editorProps.selection?t.editorProps.selection.delete():Z().transaction(({stateEditors:o})=>{for(let n of t.utils.allConnections)o.coreByProject.historic.sheetsById.sequence.deleteKeyframes(W(S({},i),{objectKey:n.objectKey,keyframeIds:[n.left.id,n.right.id],trackId:n.trackId}))})}}]}})}var rh,E0,sZ,zZ,l71,i71,uZ,pZ=x(()=>{"use strict";rh=require("@theatre/dataverse"),E0=P(T());sp();c4();P1();m1();f2();yr();ch();a1();e4();o7();v0();o4();sZ=5,l71=B(T2)(zZ||(zZ=V(["\n  --popover-outer-stroke: transparent;\n  --popover-inner-stroke: rgba(26, 28, 30, 0.97);\n"]))),i71=E0.default.forwardRef((t,a)=>{let{allConnections:c}=ah(t);return E0.default.createElement(l71,{showPopoverEdgeTriangle:!1,ref:a},E0.default.createElement(qn,{curveConnection:c[0],additionalConnections:c,onRequestClose:t.closePopover}))}),uZ=t=>{let[a,c]=z1(null),{editorProps:r}=t,[e]=n71(t,c),[l]=o71(c,t.editorProps),{node:i,toggle:o,close:n}=x2(()=>{let g=(0,rh.val)(r.layoutP.rightDims);return{debugName:"Connector",constraints:{minX:g.screenX+sZ,maxX:g.screenX+g.width-sZ}}},()=>E0.default.createElement(i71,W(S({},r),{closePopover:n}))),{connected:h,isAggregateEditingInCurvePopover:v}=t.utils;return h||l?E0.default.createElement(E0.default.Fragment,null,E0.default.createElement(Yn,{ref:a,connectorLengthInUnitSpace:h?h.length:0,isSelected:h?h.selected:!1,isPopoverOpen:v,openPopover:g=>{c&&o(g,c)}}),i,e):E0.default.createElement(E0.default.Fragment,null)}});function CZ(t){let a={isSelected:t.isSelected,flag:t.flag};return A5.default.createElement(pp,null,t.isAllHere?A5.default.createElement(g71,S({},a)):A5.default.createElement(d71,S({},a)))}var A5,fZ,h71,mZ,pp,MZ,xZ,LZ,HZ,VZ,wZ,v71,g71,d71,BZ=x(()=>{"use strict";A5=P(T());a1();xr();G1();fZ=16,h71=fZ+2,pp=B.div(mZ||(mZ=V(["\n  position: absolute;\n  ","\n  z-index: 1;\n"])),H0(fZ)),xZ=B.div(MZ||(MZ=V(["\n  z-index: 2;\n  cursor: ew-resize;\n\n  position: absolute;\n  ",";\n  ",";\n\n  &:hover\n    + ",",\n    #pointer-root.draggingPositionInSequenceEditor\n    &:hover\n    + "," {\n    ","\n  }\n"])),H0(12),x1,pp,pp,H0(h71));LZ="#F2C95C",HZ="#40AAA4",VZ="#45747C",wZ=t=>t.isSelected===0?LZ:t.isSelected===1?HZ:VZ,v71=t=>t.isSelected===0?LZ:t.isSelected===1?HZ:VZ,g71=t=>A5.default.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},A5.default.createElement("rect",{x:"4.46443",y:"10.0078",width:"5",height:"5",transform:"rotate(-45 4.46443 10.0078)",fill:"#212327",stroke:v71(t)}),A5.default.createElement("rect",{x:"3.75732",y:"6.01953",width:"6",height:"6",transform:"rotate(-45 3.75732 6.01953)",fill:wZ(t),stroke:t.flag===2?"white":void 0,strokeWidth:t.flag===2?"2px":void 0})),d71=t=>A5.default.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},A5.default.createElement("rect",{x:"4.46443",y:"8",width:"5",height:"5",transform:"rotate(-45 4.46443 8)",fill:"#23262B",stroke:t.flag===2?"white":wZ(t),strokeWidth:t.flag===2?"2px":void 0}))});function s71(t,a){let c=t.children.map(r=>r.type==="propWithChildren"?mp(r,a):SZ(r,a)).filter(yZ);return c.length===0?null:{type:"sheetObject",sheetObject:t.sheetObject,children:c}}function mp(t,a){let c=t.children.map(r=>r.type==="propWithChildren"?mp(r,a):SZ(r,a)).filter(yZ);return c.length===0?null:{type:"propWithChildren",pathToProp:t.pathToProp,propConfig:t.propConf,children:c}}function SZ(t,a){let c=a.find(r=>r.track.id===t.trackId);return c?{type:"primitiveProp",keyframe:c.kf,pathToProp:t.pathToProp,propConfig:t.propConf,sheetObject:t.sheetObject,trackId:t.trackId}:null}function kZ(t){var o,n,h,v;let{cur:a}=t.utils,c=e8(t.editorProps.viewModel.type==="sheet"?null:t.editorProps.viewModel.type==="sheetObject"?(n=(o=s71(t.editorProps.viewModel,a.keyframes))==null?void 0:o.children)!=null?n:null:(v=(h=mp(t.editorProps.viewModel,a.keyframes))==null?void 0:h.children)!=null?v:null),r=i3(t.utils.itemKey);r.useRelations(()=>a.keyframes.map(g=>({affects:g.itemKey,flag:2})),[a.keyframes.map(g=>g.track.id).join("-")]);let[e,l]=z1(null),[i]=z71(t,l);return Ir.default.createElement(Ir.default.Fragment,null,Ir.default.createElement(xZ,W(S(S({ref:e},r.attrs),r2.includePositionSnapAttrs(a.position)),{onClick:g=>t.editorProps.viewModel.type!=="sheet"?c.open(g,e.current):null})),Ir.default.createElement(CZ,{flag:r.flag,isAllHere:a.allHere,isSelected:a.selected}),i,c.node)}function z71(t,a){return Z1(a,{displayName:"Aggregate Keyframe",menuItems:()=>{let c=t.editorProps.viewModel,r=t.editorProps.selection;return[{label:r?"Copy (selection)":"Copy",callback:()=>{if(r){let{projectId:e,sheetId:l}=c.type==="sheet"?c.sheet.address:c.sheetObject.address,i=r8(e,l,r);Z().transaction(o=>{o.stateEditors.studio.ahistoric.setClipboardKeyframes(i)})}else{let e=t.utils.cur.keyframes.flatMap(n=>{var h;return(h=Ar(W(S({},n.track.sheetObject.address),{trackId:n.track.id,keyframeIds:[n.kf.id]})))!=null?h:[]}),l=c.type==="sheet"?[]:c.type==="sheetObject"?[c.sheetObject.address.objectKey]:c.type==="propWithChildren"?[c.sheetObject.address.objectKey,...c.pathToProp]:[],i=J6([l,...e.map(n=>n.pathToProp)]),o=e.map(({keyframe:n,pathToProp:h})=>({keyframe:n,pathToProp:h.slice(i.length)}));Z().transaction(n=>{n.stateEditors.studio.ahistoric.setClipboardKeyframes(o)})}}},{label:r?"Delete (selection)":"Delete",callback:()=>{r?r.delete():Z().transaction(({stateEditors:e})=>{for(let l of t.utils.cur.keyframes)e.coreByProject.historic.sheetsById.sequence.deleteKeyframes(W(S({},l.track.sheetObject.address),{keyframeIds:[l.kf.id],trackId:l.track.id}))})}}]}})}var Ir,yZ,AZ=x(()=>{"use strict";Ir=P(T());P1();K6();v0();BZ();m1();o7();o4();b3();Rr();yZ=t=>t!==null});var bZ,Pr,RZ,u71,p71,FZ,IZ=x(()=>{"use strict";bZ=require("@theatre/dataverse"),Pr=P(T());a1();pZ();ch();AZ();u71=B.div(RZ||(RZ=V(["\n  position: absolute;\n"]))),p71=Pr.default.memo(t=>{let a=ah(t);return Pr.default.createElement(u71,{style:{top:"".concat(t.viewModel.nodeHeight/2,"px"),left:"calc(".concat((0,bZ.val)(t.layoutP.scaledSpace.leftPadding),"px + calc(var(--unitSpaceToScaledSpaceMultiplier) * ").concat(a.cur.position,"px))")}},Pr.default.createElement(kZ,{editorProps:t,utils:a}),Pr.default.createElement(uZ,{editorProps:t,utils:a}))}),FZ=p71});function f71(t){let{layoutP:a,aggregatedKeyframes:c,viewModel:r}=t,e=C0("AggregatedKeyframeTrack"),[l,i]=z1(null),{selectedPositions:o,selection:n}=C71(a,c),[h,v,g]=V71(i,t,()=>e._debug("see aggregatedKeyframes",t.aggregatedKeyframes)),s=(0,D0.useMemo)(()=>[...c.byPosition.entries()].sort((w,y)=>w[0]-y[0]).map(([w,y])=>({position:w,keyframes:y,selected:o.get(w),allHere:y.length===c.tracks.length})),[c,o]),d=s1(Pn),z=d.mode==="snapToAll",u=d.mode==="snapToSome"?d.positions:Ko,m=(0,D0.useMemo)(()=>r.type==="sheet"?LG(r,u):An(r,u),[u]).map(w=>D0.default.createElement(pt,{key:"snap-target-"+w,layoutP:a,leaf:r,position:w})),p=(0,D0.useMemo)(()=>s.map(({position:w,keyframes:y},k)=>({position:w,editorProps:{index:k,layoutP:a,viewModel:r,aggregateKeyframes:s,selection:o.has(w)?n:void 0}})),[s,r,o]),[f]=S71(i,w=>{var y;return(y=p.find(k=>k.position===w))==null?void 0:y.editorProps},{onClickFromDrag(w){}}),H=p.map((w,y)=>D0.default.createElement(D0.Fragment,{key:"agg-"+s[y].keyframes[0].kf.id},z&&D0.default.createElement(pt,{layoutP:a,leaf:r,position:w.position}),D0.default.createElement(FZ,S({},w.editorProps))));return D0.default.createElement(m71,{ref:l,style:{background:g?"#444850 ":"unset"}},H,m,h)}function C71(t,a){return v1(()=>(0,Q2.val)(L71(t,a)),[t,a])}function L71(t,a){return(0,Q2.prism)(()=>{let c=(0,Q2.val)(t.selectionAtom),r=(0,Q2.val)(c.pointer.current);if(!r)return M71;let e=new Map;for(let[l,i]of a.byPosition){let o=H71(i,r);o!==void 0&&o!==Mp&&e.set(l,o)}return{selectedPositions:e,selection:(0,Q2.val)(c.pointer.current)}})}function H71(t,a){var r,e,l;let c;for(let{track:i,kf:o}of t){let n=((l=(e=(r=a.byObjectKey[i.sheetObject.address.objectKey])==null?void 0:r.byTrackId[i.id])==null?void 0:e.byKeyframeId)==null?void 0:l[o.id])===!0;c===void 0?n?c=PZ:c=Mp:n?c===Mp&&(c=GZ):c===PZ&&(c=GZ)}return c}function V71(t,a,c){return Z1(t,{onOpen:c,displayName:"Aggregate Keyframe Track",menuItems:()=>{var e;let r=(e=(0,Q2.pointerToPrism)(Z().atomP.ahistoric.clipboard.keyframesWithRelativePaths).getValue())!=null?e:[];return[w71(a,r)]}})}function w71(t,a){return{label:"Paste Keyframes",enabled:a.length>0,callback:()=>{let r=(0,Q2.val)(t.layoutP.sheet).getSequence();t.viewModel.type==="sheet"?B71(t.viewModel,a,r):y71(t.viewModel,a,r)}}}function B71(t,a,c){var o;let{projectId:r,sheetId:e,sheetInstanceId:l}=t.sheet.address;if(a.every(({pathToProp:n})=>n.length===0))for(let n of t.children.map(h=>h.sheetObject)){let h=(0,Q2.pointerToPrism)(Z().atomP.historic.coreByProject[r].sheetsById[e].sequence.tracksByObject[n.address.objectKey]).getValue(),v=Object.keys((o=h==null?void 0:h.trackData)!=null?o:{});fp(n.address,v,a,c)}else{let n=(0,Q2.pointerToPrism)(Z().atomP.historic.coreByProject[r].sheetsById[e].sequence.tracksByObject).getValue(),h=a.map(({keyframe:v,pathToProp:g})=>{var m,p;let s=g[0],d=g.slice(1),z=h3([...d]),M=((p=(m=n==null?void 0:n[s])==null?void 0:m.trackIdByPropPath)!=null?p:{})[z];return M?{keyframe:v,trackId:M,address:{objectKey:s,projectId:r,sheetId:e,sheetInstanceId:l}}:null}).filter(v=>v!==null);OZ(h,c)}}function y71(t,a,c){var n;let{projectId:r,sheetId:e,objectKey:l}=t.sheetObject.address,i=(0,Q2.pointerToPrism)(Z().atomP.historic.coreByProject[r].sheetsById[e].sequence.tracksByObject[l]).getValue();if(a.every(({pathToProp:h})=>h.length===0)){let h=Object.keys((n=i==null?void 0:i.trackData)!=null?n:{});if(t.type==="sheetObject")fp(t.sheetObject.address,h,a,c);else{let v=(i==null?void 0:i.trackIdByPropPath)||{},g=Object.entries(v).filter(([s,d])=>d!==void 0&&uG(ut(s),t.pathToProp)).map(([s,d])=>d);fp(t.sheetObject.address,g,a,c)}}else{let h=(i==null?void 0:i.trackIdByPropPath)||{},v=t.type==="propWithChildren"?t.pathToProp:[],g=a.map(({keyframe:s,pathToProp:d})=>{let z=h3([...v,...d]),u=h[z];return u?{keyframe:s,trackId:u,address:t.sheetObject.address}:null}).filter(s=>s!==null);OZ(g,c)}}function fp(t,a,c,r){var l;r.position=r.closestGridPosition(r.position);let e=(l=EZ(c.map(({keyframe:i})=>i)))==null?void 0:l.position;Z().transaction(({stateEditors:i})=>{for(let o of a)for(let{keyframe:n}of c)i.coreByProject.historic.sheetsById.sequence.setKeyframeAtPosition(W(S({},t),{trackId:o,position:r.position+n.position-e,handles:n.handles,value:n.value,snappingFunction:r.closestGridPosition,type:n.type}))})}function OZ(t,a){var r;a.position=a.closestGridPosition(a.position);let c=(r=EZ(t.map(({keyframe:e})=>e)))==null?void 0:r.position;Z().transaction(({stateEditors:e})=>{for(let{keyframe:l,trackId:i,address:o}of t)e.coreByProject.historic.sheetsById.sequence.setKeyframeAtPosition(W(S({},o),{trackId:i,position:a.position+l.position-c,handles:l.handles,value:l.value,snappingFunction:a.closestGridPosition,type:l.type}))})}function EZ(t){let a=null;for(let c of t)(a===null||c.position<a.position)&&(a=c);return a}function S71(t,a,c){let r=C0("useDragForAggregateKeyframeDot"),e=TG(),l=(0,D0.useMemo)(()=>({debugName:"AggregateKeyframeDot/useDragKeyframe",onDragStart(o){r._debug("onDragStart",{target:o.target});let n=Number(o.target.dataset.pos),h=a(n);if(!h)return r._debug("no props found for ",{positionToFind:n}),!1;e(!0,n);let v=(0,Q2.prism)(up(h)).getValue().cur.keyframes,g=h.viewModel.type==="sheet"?h.viewModel.sheet.address:h.viewModel.sheetObject.address,s=(0,Q2.val)(Z().atomP.historic.coreByProject[g.projectId].sheetsById[g.sheetId].sequence.tracksByObject),d=Tn(s,function(p,{trackId:f,objectKey:H}){var w,y;return v.every(k=>p.id!==k.kf.id)&&!(h.selection&&((y=(w=h.selection.byObjectKey[H])==null?void 0:w.byTrackId[f])!=null&&y.byKeyframeId[p.id]))});if(Gn(d),h.selection&&h.aggregateKeyframes[h.index].selected===0){let{selection:m,viewModel:p}=h,f=m.getDragHandlers(W(S({},g),{domNode:t,positionAtStartOfDrag:v[0].kf.position})).onDragStart(o);return f&&W(S({},f),{onClick:c.onClickFromDrag,onDragEnd:(...H)=>{var w;(w=f.onDragEnd)==null||w.call(f,...H),I3()}})}let z=h,u=(0,Q2.val)(z.layoutP.scaledSpace.toUnitSpace),M;return{onDrag(m,p,f){var w;let H=Math.max((w=r2.checkIfMouseEventSnapToPos(f,{}))!=null?w:v[0].kf.position+u(m),0);e(!0,H),M==null||M.discard(),M=void 0,M=Z().tempTransaction(({stateEditors:y})=>{for(let k of v){let I=k.kf;y.coreByProject.historic.sheetsById.sequence.replaceKeyframes(W(S({},k.track.sheetObject.address),{trackId:k.track.id,keyframes:[W(S({},I),{position:H})],snappingFunction:(0,Q2.val)(z.layoutP.sheet).getSequence().closestGridPosition}))}})},onDragEnd(m){e(!1,-1),m?M==null||M.commit():(M==null||M.discard(),c.onClickFromDrag(o)),I3()},onClick(m){c.onClickFromDrag(m)}}}}),[a,c.onClickFromDrag]),[i]=S1(t,l);return s2(i,"draggingPositionInSequenceEditor","ew-resize"),[i]}var Q2,D0,TZ,m71,M71,x71,Vt,ZZ,PZ,GZ,Mp,eh=x(()=>{"use strict";M1();Q2=require("@theatre/dataverse"),D0=P(T());a1();v0();P1();IZ();l7();C5();ch();b3();f2();E2();I0();m1();o4();c8();zu();c8();l7();m71=B.div(TZ||(TZ=V(["\n  position: relative;\n  height: 100%;\n  width: 100%;\n"]))),M71=Object.freeze({selectedPositions:new Map,selection:void 0});x71=D0.default.memo(f71),Vt=x71,ZZ=(r=>(r[r.AllSelected=0]="AllSelected",r[r.AtLeastOneUnselected=1]="AtLeastOneUnselected",r[r.NoneSelected=2]="NoneSelected",r))(ZZ||{}),{AllSelected:PZ,AtLeastOneUnselected:GZ,NoneSelected:Mp}=ZZ});var wt,xp,k71,DZ=x(()=>{"use strict";M1();wt=P(T());vZ();Cr();eh();l7();C5();xp=(t,a)=>t.type==="propWithChildren"?wt.default.createElement(k71,{layoutP:a,viewModel:t,key:"prop"+t.pathToProp[t.pathToProp.length-1]}):wt.default.createElement(hZ,{layoutP:a,leaf:t,key:"prop"+t.pathToProp[t.pathToProp.length-1]}),k71=({viewModel:t,layoutP:a})=>{let c=C0("RightPropWithChildrenRow",t.pathToProp.join());return v1(()=>{let r=t8(t);return wt.default.createElement(zo,{logger:c},wt.default.createElement(k5,{leaf:t,node:wt.default.createElement(Vt,{layoutP:a,aggregatedKeyframes:r,viewModel:t}),isCollapsed:t.isCollapsed},t.children.map(l=>xp(l,a))))},[t,a])}});var Cp,A71,WZ,_Z=x(()=>{"use strict";M1();Cp=P(T());DZ();Cr();l7();eh();A71=({leaf:t,layoutP:a})=>v1(()=>{let c=t8(t);return Cp.default.createElement(k5,{leaf:t,node:Cp.default.createElement(Vt,{layoutP:a,aggregatedKeyframes:c,viewModel:t}),isCollapsed:t.isCollapsed},t.children.map(e=>xp(e,a)))},[t,a]),WZ=A71});var lh,R71,jZ,qZ=x(()=>{"use strict";M1();lh=P(T());_Z();Cr();l7();eh();R71=({leaf:t,layoutP:a})=>v1(()=>{let c=t8(t);return lh.default.createElement(k5,{leaf:t,node:lh.default.createElement(Vt,{layoutP:a,aggregatedKeyframes:c,viewModel:t}),isCollapsed:t.isCollapsed},t.children.map(e=>lh.default.createElement(WZ,{layoutP:a,key:"sheetObject-"+e.sheetObject.address.objectKey,leaf:e})))},[t,a]),jZ=R71});var Gr,h7,ih,NZ,b71,F71,UZ,Lp=x(()=>{"use strict";M1();Gr=require("@theatre/dataverse"),h7=P(T());a1();yG();ap();qZ();ih=1e6,b71=B.ul(NZ||(NZ=V(["\n  margin: 0;\n  padding: 0;\n  list-style: none;\n  position: absolute;\n  left: 0;\n  width: ","px;\n"])),ih),F71=({layoutP:t})=>v1(()=>{let a=(0,Gr.val)(t.tree),c=(0,Gr.val)(t.tree.top)+Math.max((0,Gr.val)(t.tree.heightIncludingChildren),(0,Gr.val)(t.dopeSheetDims.height));return h7.default.createElement(h7.default.Fragment,null,h7.default.createElement(Zn,{layoutP:t,height:c},h7.default.createElement(BG,{layoutP:t,height:c},h7.default.createElement(b71,{style:{top:a.top+"px"}},h7.default.createElement(jZ,{leaf:a,layoutP:t})))))},[t]),UZ=F71});function Tr(t,a,c,r){let e="calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(t,"px)"),l="calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(a,") * 1px)");c===0&&(c=1e-4);let i="calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(c,")");r===0&&(r=.001);let o="calc(var(--graphEditorVerticalSpace) * ".concat(r*-1,")");return"translate(".concat(e,", ").concat(l,") scale(").concat(i,", ").concat(o,")")}function T71(t,a){let{index:c,trackData:r}=a,e=r.keyframes[c],l=r.keyframes[c+1];return Z1(t,{menuItems:()=>[{label:"Delete",callback:()=>{Z().transaction(({stateEditors:i})=>{let{deleteKeyframes:o}=i.coreByProject.historic.sheetsById.sequence;o(W(S({},a.sheetObject.address),{trackId:a.trackId,keyframeIds:[e.id,l.id]}))})}}]})}var oh,KZ,I71,P71,G71,$Z,nh=x(()=>{"use strict";L5();m1();v0();P1();oh=P(T());a1();I71=B.path(KZ||(KZ=V(["\n  stroke-width: 2;\n  stroke: var(--main-color);\n  fill: none;\n  vector-effect: non-scaling-stroke;\n"]))),P71="M 0 0 L 1 0 L 1 1",G71=t=>{let{index:a,trackData:c}=t,r=c.keyframes[a],e=c.keyframes[a+1],l=e.position-r.position,[i,o]=z1(null),[n]=T71(o,t),h=t.isScalar?X8(r.value,t.propConfig):0,v=t.isScalar?X8(e.value,t.propConfig):1,g=t.extremumSpace.fromValueSpace(h),d=t.extremumSpace.fromValueSpace(v)-g,z=Tr(r.position,g,l,d),u=r.handles[2],M=r.handles[3],m=e.handles[0],p=e.handles[1],f="M 0 0 C ".concat(u," ").concat(M," ").concat(m," ").concat(p," 1 1");return oh.default.createElement(oh.default.Fragment,null,oh.default.createElement(I71,{ref:i,d:!r.type||r.type==="bezier"?f:P71,style:{transform:z}}),n)};$Z=G71});function D71(t,a){let c=(0,R5.useRef)(a);c.current=a;let r=(0,R5.useMemo)(()=>({debugName:"CurveHandler/useOurDrags",lockCSSCursorTo:"move",onDragStart(){let e,l=c.current,i=(0,Zr.val)(l.layoutP.scaledSpace.toUnitSpace),o=(0,Zr.val)(l.layoutP.graphEditorVerticalSpace.toExtremumSpace),n=l.extremumSpace.lock();return{onDrag(h,v){e&&(e.discard(),e=void 0);let{index:g,trackData:s}=l,d=s.keyframes[g],z=s.keyframes[g+1],M=i(h)/(z.position-d.position),m=-v,p=o(m),f=l.extremumSpace.deltaToValueSpace(p),H=a.isScalar?d.value:0,w=a.isScalar?z.value:1,y=f/(w-H);if(l.which==="left"){let k=F1(d.handles[2]+M,0,1),I=d.handles[3]+y;e=Z().tempTransaction(({stateEditors:U})=>{U.coreByProject.historic.sheetsById.sequence.replaceKeyframes(W(S({},l.sheetObject.address),{snappingFunction:(0,Zr.val)(l.layoutP.sheet).getSequence().closestGridPosition,trackId:l.trackId,keyframes:[W(S({},d),{handles:[d.handles[0],d.handles[1],k,I]})]}))})}else{let k=F1(z.handles[0]+M,0,1),I=z.handles[1]+y;e=Z().tempTransaction(({stateEditors:U})=>{U.coreByProject.historic.sheetsById.sequence.replaceKeyframes(W(S({},l.sheetObject.address),{trackId:l.trackId,snappingFunction:(0,Zr.val)(l.layoutP.sheet).getSequence().closestGridPosition,keyframes:[W(S({},z),{handles:[k,I,z.handles[2],z.handles[3]]})]}))})}},onDragEnd(h){n(),h?e&&e.commit():e&&e.discard()}}}}),[]);S1(t,r)}function W71(t,a){return Z1(t,{menuItems:()=>[{label:"Delete",callback:()=>{Z().transaction(({stateEditors:c})=>{c.coreByProject.historic.sheetsById.sequence.deleteKeyframes(W(S({},a.sheetObject.address),{keyframeIds:[a.keyframe.id],trackId:a.trackId}))})}}]})}var Zr,R5,QZ,JZ,XZ,Z71,YZ,O71,E71,Hp,tO=x(()=>{"use strict";m1();v0();f2();P1();Zr=require("@theatre/dataverse");H2();R5=P(T());a1();nh();G1();JZ=B.circle(QZ||(QZ=V(["\n  stroke-width: 1px;\n  vector-effect: non-scaling-stroke;\n  fill: var(--main-color);\n  r: 2px;\n  pointer-events: none;\n"]))),Z71=B.circle(XZ||(XZ=V(["\n  stroke-width: 6px;\n  vector-effect: non-scaling-stroke;\n  r: 6px;\n  fill: transparent;\n  cursor: move;\n  ",";\n  &:hover {\n  }\n  &:hover + "," {\n    r: 6px;\n  }\n"])),x1,JZ),O71=B.path(YZ||(YZ=V(["\n  stroke-width: 1;\n  stroke: var(--main-color);\n  /* stroke: gray; */\n  fill: none;\n  vector-effect: non-scaling-stroke;\n"]))),E71=t=>{let[a,c]=z1(null),{index:r,trackData:e}=t,l=e.keyframes[r],i=e.keyframes[r+1],[o]=W71(c,t);D71(c,t);let n=t.which==="left"?l.handles[2]:i.handles[0],h=l.position+(i.position-l.position)*n,v=t.which==="left"?l.handles[3]:i.handles[1],g=t.isScalar?l.value:0,s=t.isScalar?i.value:1,d=g+(s-g)*v,z=t.extremumSpace.fromValueSpace(d),u=z-t.extremumSpace.fromValueSpace(t.which==="left"?g:s),M=Tr(t.which==="left"?l.position:i.position,t.extremumSpace.fromValueSpace(t.which==="left"?g:s),h-(t.which==="left"?l.position:i.position),u);return R5.default.createElement("g",null,R5.default.createElement(Z71,{ref:a,style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(h," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(z,") * 1px)")}}),R5.default.createElement(JZ,{style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(h," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(z,") * 1px)")}}),R5.default.createElement(O71,{d:"M 0 0 L 1 1",style:{transform:M}}),o)},Hp=E71});function q71(t){let[a,c]=(0,g4.useState)(!1);g0(a,t.props.keyframe.position);let r=(0,g4.useRef)(t.props);r.current=t.props;let e=(0,g4.useMemo)(()=>({debugName:"GraphEditorDotScalar/useDragKeyframe",lockCSSCursorTo:"move",onDragStart(l){c(!0);let i=!!l.altKey,o=r.current,n=(0,hh.val)(o.layoutP.scaledSpace.toUnitSpace),h=(0,hh.val)(o.layoutP.graphEditorVerticalSpace.toExtremumSpace),v=o.extremumSpace.lock(),g;return{onDrag(s,d){let z=o.trackData.keyframes[o.index],u=n(s),M=-d,m=h(M),p=o.extremumSpace.deltaToValueSpace(m),f=[],H=W(S({},z),{position:z.position+u,value:z.value+p,handles:[...z.handles]});if(f.push(H),i){let w=o.trackData.keyframes[o.index-1];if(w&&Math.abs(z.value-w.value)>0){let k=W(S({},w),{handles:[...w.handles]});f.push(k),k.handles[3]=U71(w.handles[3],w.value,w.value,z.value,H.value)}let y=o.trackData.keyframes[o.index+1];if(y&&Math.abs(z.value-y.value)>0){let k=W(S({},y),{handles:[...y.handles]});f.push(k),k.handles[1]=K71(k.handles[1],k.value,k.value,z.value,H.value)}}g==null||g.discard(),g=Z().tempTransaction(({stateEditors:w})=>{w.coreByProject.historic.sheetsById.sequence.replaceKeyframes(W(S({},o.sheetObject.address),{trackId:o.trackId,keyframes:f,snappingFunction:(0,hh.val)(o.layoutP.sheet).getSequence().closestGridPosition}))})},onDragEnd(s){c(!1),v(),s?g==null||g.commit():(g==null||g.discard(),t.onDetectedClick(l))}}}}),[]);return S1(t.node,e),s2(a,"draggingPositionInSequenceEditor","move"),a}function N71(t,a){return Z1(t,{menuItems:()=>[{label:"Delete",callback:()=>{Z().transaction(({stateEditors:c})=>{c.coreByProject.historic.sheetsById.sequence.deleteKeyframes(W(S({},a.sheetObject.address),{keyframeIds:[a.keyframe.id],trackId:a.trackId}))})}}]})}function U71(t,a,c,r,e){return(r-a)*t/(e-c)}function K71(t,a,c,r,e){return((a-r)*t+r-a+c-e)/(c-e)}var hh,g4,aO,rO,cO,_71,j71,eO,lO=x(()=>{"use strict";m1();v0();f2();P1();hh=require("@theatre/dataverse"),g4=P(T());a1();E2();E2();G1();I0();b3();Rr();K6();rO=B.circle(aO||(aO=V(["\n  fill: var(--main-color);\n  stroke-width: 1px;\n  vector-effect: non-scaling-stroke;\n\n  r: 2px;\n"]))),_71=B.circle(cO||(cO=V(["\n  stroke-width: 6px;\n  vector-effect: non-scaling-stroke;\n  r: 6px;\n  fill: transparent;\n  ",";\n\n  &:hover + "," {\n    r: 6px;\n  }\n\n  #pointer-root.normal & {\n    cursor: move;\n  }\n\n  #pointer-root.draggingPositionInSequenceEditor & {\n    pointer-events: auto;\n    cursor: var(",");\n  }\n\n  &.beingDragged {\n    pointer-events: none !important;\n  }\n"])),x1,rO,F0),j71=t=>{let[a,c]=z1(null),{index:r,trackData:e}=t,l=e.keyframes[r],[i]=N71(c,t),o=i3(t.itemKey),n=l.value,h=t.extremumSpace.fromValueSpace(n),v=e8([{type:"primitiveProp",keyframe:t.keyframe,pathToProp:t.pathToProp,propConfig:t.propConfig,sheetObject:t.sheetObject,trackId:t.trackId}]),g=q71({node:c,props:t,onDetectedClick:s=>v.toggle(s,s.target instanceof Element?s.target:c)});return g4.default.createElement(g4.default.Fragment,null,g4.default.createElement(_71,W(S(S(S({ref:a,style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(l.position," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(h,") * 1px)")}},O2(l.position)),r2.includePositionSnapAttrs(l.position)),o.attrs),{className:g?"beingDragged":""})),g4.default.createElement(rO,{style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(l.position," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(h,") * 1px)"),fill:o.flag===2?"white":void 0}}),v.node,i)},eO=j71});function X71(t){let[a,c]=(0,d4.useState)(!1);g0(a,t.props.keyframe.position);let r=(0,d4.useRef)(t.props);r.current=t.props;let e=(0,d4.useMemo)(()=>({debugName:"GraphEditorDotNonScalar/useDragKeyframe",lockCSSCursorTo:"ew-resize",onDragStart(l){c(!0);let i=r.current,o=(0,Vp.val)(i.layoutP.scaledSpace.toUnitSpace),n=i.extremumSpace.lock(),h;return{onDrag(v,g){let s=i.trackData.keyframes[i.index],d=o(v),z=[],u=W(S({},s),{position:s.position+d,value:s.value,handles:[...s.handles]});z.push(u),h==null||h.discard(),h=Z().tempTransaction(({stateEditors:M})=>{M.coreByProject.historic.sheetsById.sequence.replaceKeyframes(W(S({},i.sheetObject.address),{trackId:i.trackId,keyframes:z,snappingFunction:(0,Vp.val)(i.layoutP.sheet).getSequence().closestGridPosition}))})},onDragEnd(v){c(!1),n(),v?h==null||h.commit():(h==null||h.discard(),t.onDetectedClick(l))}}}}),[]);return S1(t.node,e),s2(a,"draggingPositionInSequenceEditor","ew-resize"),a}function Y71(t,a){return Z1(t,{menuItems:()=>[{label:"Delete",callback:()=>{Z().transaction(({stateEditors:c})=>{c.coreByProject.historic.sheetsById.sequence.deleteKeyframes(W(S({},a.sheetObject.address),{keyframeIds:[a.keyframe.id],trackId:a.trackId}))})}}]})}var Vp,d4,iO,nO,oO,$71,Q71,wp,hO=x(()=>{"use strict";m1();v0();f2();P1();Vp=require("@theatre/dataverse"),d4=P(T());a1();E2();E2();G1();I0();b3();Rr();K6();nO=B.circle(iO||(iO=V(["\n  fill: var(--main-color);\n  stroke-width: 1px;\n  vector-effect: non-scaling-stroke;\n\n  r: 2px;\n"]))),$71=B.circle(oO||(oO=V(["\n  stroke-width: 6px;\n  vector-effect: non-scaling-stroke;\n  r: 6px;\n  fill: transparent;\n  ",";\n\n  &:hover + "," {\n    r: 6px;\n  }\n\n  #pointer-root.normal & {\n    cursor: ew-resize;\n  }\n\n  #pointer-root.draggingPositionInSequenceEditor & {\n    pointer-events: auto;\n    cursor: var(",");\n  }\n\n  &.beingDragged {\n    pointer-events: none !important;\n  }\n"])),x1,nO,F0),Q71=t=>{let[a,c]=z1(null),{index:r,trackData:e,itemKey:l}=t,i=e.keyframes[r],[o]=Y71(c,t),n=i3(l),h=t.which==="left"?0:1,v=e8([{type:"primitiveProp",keyframe:t.keyframe,pathToProp:t.pathToProp,propConfig:t.propConfig,sheetObject:t.sheetObject,trackId:t.trackId}]),g=X71({node:c,props:t,onDetectedClick:d=>v.toggle(d,d.target instanceof Element?d.target:c)}),s=t.extremumSpace.fromValueSpace(h);return d4.default.createElement(d4.default.Fragment,null,d4.default.createElement($71,W(S(S(S({ref:a,style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(i.position," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(s,") * 1px)")}},n.attrs),O2(i.position)),r2.includePositionSnapAttrs(i.position)),{className:g?"beingDragged":""})),d4.default.createElement(nO,{style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(i.position," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(s,") * 1px)"),fill:n.flag===2?"white":void 0}}),v.node,o)},wp=Q71});var vh,vO,J71,t91,gO,dO=x(()=>{"use strict";vh=P(T());a1();nh();J71=B.path(vO||(vO=V(["\n  stroke-width: 2;\n  stroke: var(--main-color);\n  stroke-dasharray: 3 2;\n  fill: none;\n  vector-effect: non-scaling-stroke;\n  opacity: 0.3;\n"]))),t91=t=>{let{index:a,trackData:c}=t,r="M 0 0 L 1 1",e=Tr(c.keyframes[a].position,t.extremumSpace.fromValueSpace(0),0,t.extremumSpace.fromValueSpace(1)-t.extremumSpace.fromValueSpace(0));return vh.default.createElement(vh.default.Fragment,null,vh.default.createElement(J71,{d:r,style:{transform:e}}))},gO=t91});var X2,sO,a91,c91,r91,zO,uO=x(()=>{"use strict";X2=P(T());a1();nh();tO();lO();hO();dO();a91=B.g(sO||(sO=V(["\n  /* position: absolute; */\n"]))),c91=X2.default.createElement(X2.default.Fragment,null),r91=t=>{let{index:a,trackData:c,isScalar:r}=t,e=c.keyframes[a],l=c.keyframes[a+1],o=e.connectedRight&&!!l&&l.value!==e.value;return X2.default.createElement(a91,null,o?X2.default.createElement(X2.default.Fragment,null,X2.default.createElement($Z,S({},t)),!e.type||e.type==="bezier"&&X2.default.createElement(X2.default.Fragment,null,X2.default.createElement(Hp,W(S({},t),{which:"left"})),X2.default.createElement(Hp,W(S({},t),{which:"right"})))):c91,r?X2.default.createElement(eO,S({},t)):X2.default.createElement(X2.default.Fragment,null,X2.default.createElement(wp,W(S({},t),{which:"left"})),X2.default.createElement(wp,W(S({},t),{which:"right"})),X2.default.createElement(gO,S({},t))))},zO=r91});function l91(t,a){let c=1/0,r=-1/0;function e(l){c=Math.min(l,c),r=Math.max(l,r)}return t.forEach((l,i)=>{let o=X8(l.value,a);if(e(o),!l.connectedRight)return;let n=t[i+1];if(!n)return;let h=(typeof n.value=="number"?n.value:1)-o;e(o+l.handles[3]*h),e(o+n.handles[1]*h)}),[c,r]}function i91(t){let a=0,c=1;function r(e){a=Math.min(e,a),c=Math.max(e,c)}return t.forEach((e,l)=>{if(!e.connectedRight)return;let i=t[l+1];i&&(r(e.handles[3]),r(i.handles[1]))}),[a,c]}var v3,e91,pO,mO=x(()=>{"use strict";O4();v3=P(T());Or();uO();L5();M1();e91=v3.default.memo(({layoutP:t,trackData:a,sheetObject:c,trackId:r,color:e,pathToProp:l})=>{let i=U9(s1(c.template.configPointer),l);if(G0(i))return console.error("Composite prop types cannot be keyframed"),v3.default.createElement(v3.default.Fragment,null);let[o,n]=(0,v3.useState)(!1),h=(0,v3.useMemo)(()=>{let d=new Set;return function(){let u=d.size===0;d.add(M),u&&n(!0);function M(){let m=d.size>0;d.delete(M),m&&d.size===0&&n(!1)}return M}},[]),v=(0,v3.useMemo)(()=>{let d=i.type==="number"?l91(a.keyframes,i):i91(a.keyframes),z=m=>(m-d[0])/(d[1]-d[0]),u=m=>d[0]+M(m),M=m=>m*(d[1]-d[0]);return{fromValueSpace:z,toValueSpace:u,deltaToValueSpace:M,lock:h}},[a.keyframes]),g=(0,v3.useRef)(void 0);o||(g.current=v);let s=a.keyframes.map((d,z)=>v3.default.createElement(zO,{pathToProp:l,propConfig:i,itemKey:c2.forTrackKeyframe(c,r,d.id),keyframe:d,index:z,trackData:a,layoutP:t,sheetObject:c,trackId:r,isScalar:i.type==="number",key:d.id,extremumSpace:g.current,color:e}));return v3.default.createElement("g",{style:{"--main-color":v7[e].iconColor}},s)}),pO=e91});var MO,gh,o91,fO,xO=x(()=>{"use strict";m1();M1();MO=require("@theatre/dataverse"),gh=P(T());mO();o91=t=>v1(()=>{let{sheetObject:a,trackId:c}=t,r=(0,MO.val)(Z().atomP.historic.coreByProject[a.address.projectId].sheetsById[a.address.sheetId].sequence.tracksByObject[a.address.objectKey].trackData[c]);return(r==null?void 0:r.type)!=="BasicKeyframedTrack"?(console.error("trackData type ".concat(r==null?void 0:r.type," is not yet supported on the graph editor")),gh.default.createElement(gh.default.Fragment,null)):gh.default.createElement(pO,W(S({},t),{trackData:r}))},[t.trackId,t.layoutP]),fO=o91});function Er({clippedSpaceRange:t,clippedSpaceWidth:a,fps:c,gapWidth:r=120},e){let l=1/c,i=t.end-t.start,o=a/(c*i),n=Math.floor(r/o),v=(n<c?n91(c).find(d=>d>=n):c*Math.floor(n/c))*l,g=Math.floor(t.start/v),s=Math.ceil(t.end/v);for(let d=g;d<=s;d++){let z=d*v,u=z%1===0;e(z,u)}}var n91,Bp=x(()=>{"use strict";H2();n91=sa(t=>{let a=[];for(let c=1;c<=t;c++)t%c===0&&a.push(c);return a})});function u91(t){let{clippedSpaceWidth:a,height:c,ctx:r,unitSpaceToClippedSpace:e,snapToGrid:l}=t;r.clearRect(0,0,a,c),Er(t,(i,o)=>{let n=l(i),h=Math.floor(e(n));r.strokeStyle=o?"rgba(225, 225, 225, 0.04)":"rgba(255, 255, 255, 0.01)",r.beginPath(),r.moveTo(h,0),r.lineTo(h,c),r.stroke(),r.closePath()})}var i8,s4,CO,h91,LO,v91,g91,d91,s91,z91,dh,yp=x(()=>{"use strict";i8=require("@theatre/dataverse"),s4=P(T());a1();Bp();m1();h91=B.div(CO||(CO=V(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  pointer-events: none;\n"]))),v91=B.canvas(LO||(LO=V(["\n  position: relative;\n  left: 0;\n"]))),g91=t=>{let a=t;return a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1},d91=()=>window.devicePixelRatio||1,s91=t=>d91()/g91(t),z91=({layoutP:t,width:a,height:c})=>{let r=(0,s4.useRef)(null),[e,l]=(0,s4.useState)(null),{ctx:i,ratio:o}=(0,s4.useMemo)(()=>{if(!e)return{};let n=e.getContext("2d"),h=s91(n);return{ctx:n,ratio:h}},[e]);return(0,s4.useLayoutEffect)(()=>{if(!i)return;e.width=a*o,e.height=c*o;let n=(0,i8.prism)(()=>{let h=(0,i8.val)(t.sheet).getSequence();return{ctx:i,clippedSpaceRange:(0,i8.val)(t.clippedSpace.range),clippedSpaceWidth:(0,i8.val)(t.clippedSpace.width),unitSpaceToClippedSpace:(0,i8.val)(t.clippedSpace.fromUnitSpace),height:c,leftPadding:(0,i8.val)(t.scaledSpace.leftPadding),fps:h.subUnitsPerUnit,snapToGrid:v=>h.closestGridPosition(v)}}).onChange(Z().ticker,h=>{i.save(),i.scale(o,o),u91(h),i.restore()},!0);return()=>{n()}},[i,a,c,t]),s4.default.createElement(h91,{ref:r,style:{width:a+"px"}},s4.default.createElement(v91,{ref:l,style:{width:a+"px",height:c+"px"}}))},dh=z91});var N4,g7,v7,HO,p91,VO,m91,M91,wO,Or=x(()=>{"use strict";m1();o4();cr();M1();N4=require("@theatre/dataverse"),g7=P(T());a1();Lp();ap();xO();yp();R0();v7={1:{iconColor:"#b98b08"},2:{iconColor:"#70a904"},3:{iconColor:"#2e928a"},4:{iconColor:"#a943bb"},5:{iconColor:"#b90808"},6:{iconColor:"#b4bf0e"}},p91=B.div(HO||(HO=V(["\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  background: ",";\n"])),N2(.03,"#1a1c1e")),m91=B.svg(VO||(VO=V(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  margin: 0;\n  pointer-events: none;\n"]))),M91=({layoutP:t})=>v1(()=>{let a=(0,N4.val)(t.sheet),c=(0,N4.val)(Z().atomP.historic.projects.stateByProjectId[a.address.projectId].stateBySheetId[a.address.sheetId].sequenceEditor.selectedPropsByObject),r=(0,N4.val)(t.graphEditorDims.height),e=(0,N4.val)(t.scaledSpace.fromUnitSpace)(1),l=[];if(c)for(let[o,n]of Object.entries(c)){let h=a.getObject(o);if(!h)continue;let v=(0,N4.val)(h.template.getMapOfValidSequenceTracks_forStudio());for(let[g,s]of Object.entries(n)){let d=ut(g),z=l3(v,d);z&&l.push(g7.default.createElement(fO,{key:"graph-".concat(o,"-").concat(g),sheetObject:h,pathToProp:d,layoutP:t,trackId:z,color:s}))}}let i=(0,N4.val)(t.rightDims.width);return g7.default.createElement(p91,{style:{width:i+"px",height:r+"px","--unitSpaceToScaledSpaceMultiplier":e,"--graphEditorVerticalSpace":"".concat((0,N4.val)(t.graphEditorVerticalSpace.space))}},g7.default.createElement(dh,{layoutP:t,width:i,height:r}),g7.default.createElement(Zn,{layoutP:t,height:r},g7.default.createElement(m91,{width:ih,height:r,viewBox:"0 0 ".concat(ih," ").concat(r)},g7.default.createElement("g",{style:{transform:"translate(".concat((0,N4.val)(t.scaledSpace.leftPadding),"px, ").concat((0,N4.val)(t.graphEditorDims.padding.top),"px)")}},l))))},[t]),wO=M91});var AO,W0,f91,BO,x91,yO,RO,SO,C91,L91,kO,H91,V91,bO,FO=x(()=>{"use strict";m1();o4();rr();M1();AO=require("@theatre/dataverse"),W0=P(T());a1();Qo();lr();Or();Mr();N6();Du();f91={label:{color:"#9a9a9a"}},x91=B(Wu)(BO||(BO=V([""]))),RO=B(_u)(yO||(yO=V(["\n  display: flex;\n  color: ",";\n  padding-right: 12px;\n  align-items: center;\n  justify-content: flex-end;\n  box-sizing: border-box;\n"])),f91.label.color),C91=B.button(SO||(SO=V(["\n  background: none;\n  border: none;\n  outline: none;\n  display: flex;\n  box-sizing: border-box;\n  font-size: 14px;\n  align-items: center;\n  height: 100%;\n  margin-left: 12px;\n  color: ",";\n\n  &:not([disabled]):hover {\n    color: white;\n  }\n"])),t=>t.isSelected?v7[t.graphEditorColor].iconColor:H5.offColor),L91=()=>W0.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"12",viewBox:"0 0 640 512"},W0.default.createElement("g",{transform:"translate(0 100)"},W0.default.createElement("path",{fill:"currentColor",d:"M368 32h-96c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32V64c0-17.67-14.33-32-32-32zM208 88h-84.75C113.75 64.56 90.84 48 64 48 28.66 48 0 76.65 0 112s28.66 64 64 64c26.84 0 49.75-16.56 59.25-40h79.73c-55.37 32.52-95.86 87.32-109.54 152h49.4c11.3-41.61 36.77-77.21 71.04-101.56-3.7-8.08-5.88-16.99-5.88-26.44V88zm-48 232H64c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32zM576 48c-26.84 0-49.75 16.56-59.25 40H432v72c0 9.45-2.19 18.36-5.88 26.44 34.27 24.35 59.74 59.95 71.04 101.56h49.4c-13.68-64.68-54.17-119.48-109.54-152h79.73c9.5 23.44 32.41 40 59.25 40 35.34 0 64-28.65 64-64s-28.66-64-64-64zm0 272h-96c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32z"}))),H91=B.span(kO||(kO=V(["\n  margin-right: 4px;\n  ",";\n\n  ",":hover & {\n    color: #ccc;\n  }\n"])),T0,RO),V91=({leaf:t})=>{var g;let a=Z4(t.sheetObject.propsP,t.pathToProp),c=t.sheetObject,{controlIndicators:r}=rt(a,c,t.propConf),e=v1(()=>{let s=t.sheetObject.address,d=h3(t.pathToProp);return(0,AO.val)(Z().atomP.historic.projects.stateByProjectId[s.projectId].stateBySheetId[s.sheetId].sequenceEditor.selectedPropsByObject[s.objectKey][d])},[t]),l=(0,W0.useRef)(!1),i=typeof e=="string";l.current=i;let o=(0,W0.useCallback)(()=>{let s=t.sheetObject.address;Z().transaction(({stateEditors:d})=>{l.current?d.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.removePropFromGraphEditor(W(S({},s),{pathToProp:t.pathToProp})):(d.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.addPropToGraphEditor(W(S({},s),{pathToProp:t.pathToProp})),d.studio.historic.panels.sequenceEditor.graphEditor.setIsOpen({isOpen:!0}))})},[t]),n=(g=t.propConf.label)!=null?g:t.pathToProp[t.pathToProp.length-1],h=!0,v=(0,W0.useRef)(null);return Vn(v.current,t),W0.default.createElement(x91,{depth:t.depth},W0.default.createElement(RO,{ref:v,isEven:t.n%2===0,style:{height:t.nodeHeight+"px"},isSelected:i===!0},W0.default.createElement(H91,null,n),r,W0.default.createElement(C91,{onClick:o,isSelected:i===!0,graphEditorColor:e!=null?e:"1",style:{opacity:h?1:.25},disabled:!h},W0.default.createElement(L91,null))))},bO=V91});function Bt(t,a){Z().transaction(({stateEditors:c})=>{c.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.sequenceEditorCollapsableItems.set(W(S({},a.sheetAddress),{studioSheetItemKey:a.sheetItemKey,isCollapsed:t}))})}var sh=x(()=>{"use strict";m1()});var yt,Sp,w91,IO=x(()=>{"use strict";yt=P(T());Mr();FO();sh();Sp=t=>{let a="prop"+t.pathToProp[t.pathToProp.length-1];return t.shouldRender?t.type==="propWithChildren"?yt.default.createElement(w91,{leaf:t,key:a}):yt.default.createElement(bO,{leaf:t,key:a}):yt.default.createElement(yt.default.Fragment,{key:a})},w91=({leaf:t})=>yt.default.createElement(zt,{leaf:t,label:t.pathToProp[t.pathToProp.length-1],isCollapsed:t.isCollapsed,toggleCollapsed:()=>Bt(!t.isCollapsed,{sheetAddress:t.sheetObject.address,sheetItemKey:t.sheetItemKey})},t.children.map(a=>Sp(a)))});var PO,B91,GO,TO=x(()=>{"use strict";PO=P(T());Mr();IO();sh();m1();B91=({leaf:t})=>PO.default.createElement(zt,{leaf:t,label:t.sheetObject.address.objectKey,isCollapsed:t.isCollapsed,toggleSelect:()=>{Z().transaction(({stateEditors:a})=>{a.studio.historic.panels.outline.selection.set([t.sheetObject])})},toggleCollapsed:()=>Bt(!t.isCollapsed,{sheetAddress:t.sheetObject.address,sheetItemKey:t.sheetItemKey})},t.children.map(a=>Sp(a))),GO=B91});var kp,y91,ZO,OO=x(()=>{"use strict";M1();kp=P(T());TO();Mr();sh();Hu();y91=({leaf:t})=>v1(()=>kp.default.createElement(zt,{leaf:t,label:t.sheet.address.sheetId,isCollapsed:t.isCollapsed,toggleCollapsed:()=>{Bt(!t.isCollapsed,{sheetAddress:t.sheet.address,sheetItemKey:t.sheetItemKey})}},t.children.map(a=>kp.default.createElement(GO,{key:"sheetObject-"+nr(a.sheetObject),leaf:a}))),[t]),ZO=y91});var Ap,zh,EO,S91,DO,k91,A91,WO,_O=x(()=>{"use strict";M1();Ap=require("@theatre/dataverse"),zh=P(T());a1();OO();S91=B.div(EO||(EO=V(["\n  position: absolute;\n  left: 0;\n  overflow-x: visible;\n"]))),k91=B.ul(DO||(DO=V(["\n  margin: 0;\n  padding: 0;\n  list-style: none;\n"]))),A91=({layoutP:t})=>v1(()=>{let a=(0,Ap.val)(t.tree),c=(0,Ap.val)(t.leftDims.width);return zh.default.createElement(S91,{style:{width:c+"px",top:a.top+"px"}},zh.default.createElement(k91,null,zh.default.createElement(ZO,{leaf:a})))},[t]),WO=A91});var Rp,jO,R91,b91,qO,NO=x(()=>{"use strict";G1();W4();M1();R0();Rp=P(T());a1();yp();R91=B.div(jO||(jO=V(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  z-index: ",";\n  overflow: hidden;\n  background: ",";\n  pointer-events: none;\n"])),()=>K2.rightBackground,N2(.01,A6(1*.03,Z6.panel.bg))),b91=({layoutP:t})=>{let a=s1(t.rightDims.width),c=s1(t.panelDims.height);return Rp.default.createElement(R91,{style:{width:a+"px"}},Rp.default.createElement(dh,{width:a,height:c,layoutP:t}))},qO=b91});var St,UO,F91,I91,KO,$O=x(()=>{"use strict";M1();St=P(T());a1();_O();NO();Lp();Qu();F91=B.div(UO||(UO=V(["\n  position: absolute;\n  left: 0;\n  right: 0;\n"]))),I91=({layoutP:t})=>{let a=s1(t.dopeSheetDims.height);return St.default.createElement(F91,{style:{height:a+"px"}},St.default.createElement(qO,{layoutP:t}),St.default.createElement(RG,null,St.default.createElement(WO,{layoutP:t}),St.default.createElement(UZ,{layoutP:t})))},KO=I91});function Fp(t,a,c){return bp.prism.memo(t,()=>(0,bp.prism)(a),c).getValue()}var bp,QO=x(()=>{"use strict";bp=require("@theatre/dataverse")});function Q1(t){return function(c,r){return t(c,r())}}function d3(t){return Object.freeze({audience:d7(t,8)?"internal":d7(t,16)?"dev":"public",category:d7(t,4)?"troubleshooting":d7(t,2)?"todo":"general",level:d7(t,512)?512:d7(t,256)?256:d7(t,128)?128:64})}function d7(t,a){return(t&a)===a}function X1(t,a){return((a&32)===32?!0:(a&16)===16?t.dev:(a&8)===8?t.internal:!1)&&t.min<=a}function Dr(t=console,a={}){let c=W(S({},b5),{includes:S({},b5.includes)}),r={styled:T91.bind(c,t),noStyle:O91.bind(c,t)},e=G91.bind(c);function l(){return c.loggingConsoleStyle&&c.loggerConsoleStyle?r.styled:r.noStyle}return c.create=l(),{configureLogger(i){var o;i==="console"?(c.loggerConsoleStyle=b5.loggerConsoleStyle,c.create=l()):i.type==="console"?(c.loggerConsoleStyle=(o=i.style)!=null?o:b5.loggerConsoleStyle,c.create=l()):i.type==="keyed"?(c.creatExt=n=>i.keyed(n.names),c.create=e):i.type==="named"&&(c.creatExt=P91.bind(null,i.named),c.create=e)},configureLogging(i){var o,n,h,v,g;c.includes.dev=(o=i.dev)!=null?o:b5.includes.dev,c.includes.internal=(n=i.internal)!=null?n:b5.includes.internal,c.includes.min=(h=i.min)!=null?h:b5.includes.min,c.include=(v=i.include)!=null?v:b5.include,c.loggingConsoleStyle=(g=i.consoleStyle)!=null?g:b5.loggingConsoleStyle,c.create=l()},getLogger(){return c.create({names:[]})}}}function P91(t,a){let c=[];for(let{name:r,key:e}of a.names)c.push(e==null?r:"".concat(r," (").concat(e,")"));return t(c)}function G91(t){let a=S(S({},this.includes),this.include(t)),c=this.filtered,r=this.named.bind(this,t),e=this.creatExt(t),l=X1(a,524),i=X1(a,522),o=X1(a,521),n=X1(a,529),h=X1(a,545),v=X1(a,265),g=X1(a,268),s=X1(a,273),d=X1(a,289),z=X1(a,137),u=X1(a,145),M=X1(a,73),m=X1(a,81),p=l?e.error.bind(e,g3._hmm):c.bind(t,524),f=i?e.error.bind(e,g3._todo):c.bind(t,522),H=o?e.error.bind(e,g3._error):c.bind(t,521),w=n?e.error.bind(e,g3.errorDev):c.bind(t,529),y=h?e.error.bind(e,g3.errorPublic):c.bind(t,545),k=g?e.warn.bind(e,g3._kapow):c.bind(t,268),I=v?e.warn.bind(e,g3._warn):c.bind(t,265),U=s?e.warn.bind(e,g3.warnDev):c.bind(t,273),A=d?e.warn.bind(e,g3.warnPublic):c.bind(t,273),G=z?e.debug.bind(e,g3._debug):c.bind(t,137),C=u?e.debug.bind(e,g3.debugDev):c.bind(t,145),E=M?e.trace.bind(e,g3._trace):c.bind(t,73),t1=m?e.trace.bind(e,g3.traceDev):c.bind(t,81),F={_hmm:p,_todo:f,_error:H,errorDev:w,errorPublic:y,_kapow:k,_warn:I,warnDev:U,warnPublic:A,_debug:G,debugDev:C,_trace:E,traceDev:t1,lazy:{_hmm:l?Q1(p):p,_todo:i?Q1(f):f,_error:o?Q1(H):H,errorDev:n?Q1(w):w,errorPublic:h?Q1(y):y,_kapow:g?Q1(k):k,_warn:v?Q1(I):I,warnDev:s?Q1(U):U,warnPublic:d?Q1(A):A,_debug:z?Q1(G):G,debugDev:u?Q1(C):C,_trace:M?Q1(E):E,traceDev:m?Q1(t1):t1},named:r,utilFor:{internal(){return{debug:F._debug,error:F._error,warn:F._warn,trace:F._trace,named(X,D){return F.named(X,D).utilFor.internal()}}},dev(){return{debug:F.debugDev,error:F.errorDev,warn:F.warnDev,trace:F.traceDev,named(X,D){return F.named(X,D).utilFor.dev()}}},public(){return{error:F.errorPublic,warn:F.warnPublic,debug(X,D){F._warn('(public "debug" filtered out) '.concat(X),D)},trace(X,D){F._warn('(public "trace" filtered out) '.concat(X),D)},named(X,D){return F.named(X,D).utilFor.public()}}}}};return F}function T91(t,a){let c=S(S({},this.includes),this.include(a)),r=[],e="";for(let n=0;n<a.names.length;n++){let{name:h,key:v}=a.names[n];if(e+=" %c".concat(h),r.push(this.style.css(h)),v!=null){let g="%c#".concat(v);e+=g,r.push(this.style.css(g))}}let l=this.filtered,i=this.named.bind(this,a),o=[e,...r];return XO(l,a,c,t,o,Z91(o),i)}function Z91(t){let a=t.slice(0);for(let c=1;c<a.length;c++)a[c]+=";background-color:#e0005a;padding:2px;color:white";return a}function O91(t,a){let c=S(S({},this.includes),this.include(a)),r="";for(let o=0;o<a.names.length;o++){let{name:n,key:h}=a.names[o];r+=" ".concat(n),h!=null&&(r+="#".concat(h))}let e=this.filtered,l=this.named.bind(this,a),i=[r];return XO(e,a,c,t,i,i,l)}function XO(t,a,c,r,e,l,i){let o=X1(c,524),n=X1(c,522),h=X1(c,521),v=X1(c,529),g=X1(c,545),s=X1(c,265),d=X1(c,268),z=X1(c,273),u=X1(c,289),M=X1(c,137),m=X1(c,145),p=X1(c,73),f=X1(c,81),H=o?r.error.bind(r,...e):t.bind(a,524),w=n?r.error.bind(r,...e):t.bind(a,522),y=h?r.error.bind(r,...e):t.bind(a,521),k=v?r.error.bind(r,...e):t.bind(a,529),I=g?r.error.bind(r,...e):t.bind(a,545),U=d?r.warn.bind(r,...l):t.bind(a,268),A=s?r.warn.bind(r,...e):t.bind(a,265),G=z?r.warn.bind(r,...e):t.bind(a,273),C=u?r.warn.bind(r,...e):t.bind(a,273),E=M?r.info.bind(r,...e):t.bind(a,137),t1=m?r.info.bind(r,...e):t.bind(a,145),F=p?r.debug.bind(r,...e):t.bind(a,73),X=f?r.debug.bind(r,...e):t.bind(a,81),D={_hmm:H,_todo:w,_error:y,errorDev:k,errorPublic:I,_kapow:U,_warn:A,warnDev:G,warnPublic:C,_debug:E,debugDev:t1,_trace:F,traceDev:X,lazy:{_hmm:o?Q1(H):H,_todo:n?Q1(w):w,_error:h?Q1(y):y,errorDev:v?Q1(k):k,errorPublic:g?Q1(I):I,_kapow:d?Q1(U):U,_warn:s?Q1(A):A,warnDev:z?Q1(G):G,warnPublic:u?Q1(C):C,_debug:M?Q1(E):E,debugDev:m?Q1(t1):t1,_trace:p?Q1(F):F,traceDev:f?Q1(X):X},named:i,utilFor:{internal(){return{debug:D._debug,error:D._error,warn:D._warn,trace:D._trace,named(c1,j){return D.named(c1,j).utilFor.internal()}}},dev(){return{debug:D.debugDev,error:D.errorDev,warn:D.warnDev,trace:D.traceDev,named(c1,j){return D.named(c1,j).utilFor.dev()}}},public(){return{error:D.errorPublic,warn:D.warnPublic,debug(c1,j){D._warn('(public "debug" filtered out) '.concat(c1),j)},trace(c1,j){D._warn('(public "trace" filtered out) '.concat(c1),j)},named(c1,j){return D.named(c1,j).utilFor.public()}}}}};return D}var g3,b5,Ip=x(()=>{"use strict";g3={_hmm:d3(524),_todo:d3(522),_error:d3(521),errorDev:d3(529),errorPublic:d3(545),_kapow:d3(268),_warn:d3(265),warnDev:d3(273),warnPublic:d3(289),_debug:d3(137),debugDev:d3(145),_trace:d3(73),traceDev:d3(81)};b5={loggingConsoleStyle:!0,loggerConsoleStyle:!0,includes:Object.freeze({internal:!1,dev:!1,min:256}),filtered:function(){},include:function(){return{}},create:null,creatExt:null,named(t,a,c){return this.create({names:[...t.names,{name:a,key:c}]})},style:{bold:void 0,italic:void 0,cssMemo:new Map([["",""]]),collapseOnRE:/[a-z- ]+/g,color:void 0,collapsed(t){if(t.length<5)return t;let a=t.replace(this.collapseOnRE,"");return this.cssMemo.has(a)||this.cssMemo.set(a,this.css(t)),a},css(t){var r,e,l,i;let a=this.cssMemo.get(t);if(a)return a;let c="color:".concat((e=(r=this.color)==null?void 0:r.call(this,t))!=null?e:"hsl(".concat((t.charCodeAt(0)+t.charCodeAt(t.length-1))%360,", 100%, 60%)"));return(l=this.bold)!=null&&l.test(t)&&(c+=";font-weight:600"),(i=this.italic)!=null&&i.test(t)&&(c+=";font-style:italic"),this.cssMemo.set(t,c),c}}}});var JO,kt,Wr=x(()=>{"use strict";Ip();Ip();JO=Dr(console,{_debug:function(){},_error:function(){}});JO.configureLogging({dev:!0,min:64});kt=JO.getLogger().named("Theatre.js (default logger)").utilFor.dev()});var U4,At,tE,aE=x(()=>{"use strict";O4();U4=require("@theatre/dataverse");Wr();b4();At=28,tE=(t,a)=>{var z;U4.prism.ensurePrism();let c=!0,r=lo+(c?At:0),e=0,l=a.atomP.ahistoric.projects.stateByProjectId[t.address.projectId].stateBySheetId[t.address.sheetId].sequence.collapsableItems,i=l.byId[c2.forSheet()].isCollapsed,o=(z=(0,U4.pointerToPrism)(i).getValue())!=null?z:!1,n={type:"sheet",isCollapsed:o,sheet:t,children:[],sheetItemKey:c2.forSheet(),shouldRender:c,top:lo,depth:0,n:e,nodeHeight:c?At:0,heightIncludingChildren:-1};c&&(e+=1);for(let u of Object.values((0,U4.val)(t.objectsP)))u&&h(u,n.children,n.depth+1,c&&!o);n.heightIncludingChildren=r-n.top;function h(u,M,m,p){var I;let f=(0,U4.val)(u.template.getMapOfValidSequenceTracks_forStudio()),H=(0,U4.val)(u.template.configPointer);if(Object.keys(f).length===0)return;let w=l.byId[c2.forSheetObject(u)].isCollapsed,y=(I=(0,U4.pointerToPrism)(w).getValue())!=null?I:!1,k={type:"sheetObject",isCollapsed:y,sheetItemKey:c2.forSheetObject(u),shouldRender:p,top:r,children:[],depth:m,n:e,sheetObject:u,nodeHeight:p?At:0,heightIncludingChildren:-1};M.push(k),p&&(e+=1,r+=k.nodeHeight),v(u,f,[],H,k.children,m+1,p&&!y),k.heightIncludingChildren=r-k.top}function v(u,M,m,p,f,H,w){for(let[y,k]of Object.entries(M)){let I=p.props[y];g(u,k,[...m,y],I,f,H,w)}}function g(u,M,m,p,f,H,w){p.type==="compound"?s(u,M,p,m,p,f,H,w):p.type==="enum"?kt.warn("Prop type enum is not yet supported in the sequence editor"):d(u,M,m,p,f,H,w)}function s(u,M,m,p,f,H,w,y){var A;let k=l.byId[c2.forSheetObjectProp(u,p)].isCollapsed,I=(A=(0,U4.pointerToPrism)(k).getValue())!=null?A:!1,U={type:"propWithChildren",isCollapsed:I,propConf:m,pathToProp:p,sheetItemKey:c2.forSheetObjectProp(u,p),sheetObject:u,shouldRender:y,top:r,children:[],nodeHeight:y?At:0,heightIncludingChildren:-1,depth:w,trackMapping:M,n:e};H.push(U),y&&(r+=U.nodeHeight,e+=1),v(u,M,p,f,U.children,w+1,y&&!I),U.heightIncludingChildren=r-U.top}function d(u,M,m,p,f,H,w){let y={type:"primitiveProp",propConf:p,depth:H,sheetItemKey:c2.forSheetObjectProp(u,m),sheetObject:u,pathToProp:m,shouldRender:w,top:r,nodeHeight:w?At:0,heightIncludingChildren:w?At:0,trackId:M,n:e};f.push(y),e+=1,r+=y.nodeHeight}return n}});function cE(t,a){let c=Z(),r=c.atomP.ahistoric.projects.stateByProjectId[t.address.projectId].stateBySheetId[t.address.sheetId],e=c.atomP.historic.projects.stateByProjectId[t.address.projectId].stateBySheetId[t.address.sheetId];return(0,s0.prism)(()=>{var A;let l=Fp("tree",()=>tE(t,c),[]),i=(0,s0.val)(a),o=(0,s0.val)(c.atomP.historic.panels.sequenceEditor.graphEditor),n=(0,s0.val)(e.sequenceEditor.selectedPropsByObject),h=!!n&&Object.keys(n).length>0,{leftDims:v,rightDims:g,graphEditorDims:s,dopeSheetDims:d,horizontalScrollbarDims:z}=s0.prism.memo("leftDims",()=>{var _;let G={width:Math.floor(i.width*E91),height:i.height,screenX:i.screenX,screenY:i.screenY},C={width:i.width-G.width,height:i.height,screenX:i.screenX+G.width,screenY:i.screenY},E=h&&(o==null?void 0:o.isOpen)===!0,t1=Math.floor((E?F1((_=o==null?void 0:o.height)!=null?_:.5,.1,.7):0)*i.heightWithoutBorder),F=0+t1,X=i.height-F,D={width:i.width,height:X,screenX:i.screenX,screenY:i.screenY},c1={isAvailable:h,isOpen:E,width:C.width,height:t1,screenX:i.screenX,screenY:i.screenY+X,padding:{top:20,bottom:20}};return{leftDims:G,rightDims:C,graphEditorDims:c1,dopeSheetDims:D,horizontalScrollbarDims:{bottom:0}}},[i,o,h]),u=s0.prism.memo("graphEditorVerticalSpace",()=>{let G=s.height-s.padding.top-s.padding.bottom;return{space:G,fromExtremumSpace(C){return C*G},toExtremumSpace(C){return C/G}}},[s]),[M,m]=s0.prism.state("isSeeking",!1),p={isSeeking:M,setIsSeeking:m},f={},H=(A=(0,s0.val)(r.sequence.clippedSpaceRange))!=null?A:D91,w=s0.prism.memo("scaledSpace",()=>{let G=H.end-H.start,C=g.width,E=G/C,t1=C/G;return{fromUnitSpace(F){return F*t1},toUnitSpace(F){return F*E},leftPadding:10}},[H,g.width]),y=s0.prism.memo("setClippedSpaceRange",()=>function(C){c.transaction(({stateEditors:E})=>{let t1=S({},C);if(t1.end<=t1.start&&(t1.end=t1.start+1),t1.start<0){let F=t1.end-t1.start;t1.start=0,t1.end=F}E.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.clippedSpaceRange.set(W(S({},t.address),{range:t1}))})},[]),k=s0.prism.memo("clippedSpace",()=>({range:H,width:g.width,fromUnitSpace(G){return w.fromUnitSpace(G-H.start)+w.leftPadding},toUnitSpace(G){return w.toUnitSpace(G-w.leftPadding)+H.start},setRange:y}),[H,g.width,w,y]),I=s0.prism.memo("selection.current",()=>new s0.Atom({}),[]);return Hn("finalAtom",{sheet:t,tree:l,panelDims:i,leftDims:v,rightDims:g,dopeSheetDims:d,horizontalScrollbarDims:z,seeker:p,unitSpace:f,scaledSpace:w,clippedSpace:k,graphEditorDims:s,graphEditorVerticalSpace:u,selectionAtom:I}).pointer})}var s0,E91,D91,rE=x(()=>{"use strict";m1();QO();Eu();s0=require("@theatre/dataverse");aE();H2();E91=.2,D91={start:0,end:10}});function N91(t){let{fullSecondStampsContainer:a,sequencePositionFormatter:c,snapToGrid:r,unitSpaceToClippedSpace:e}=t,l="";Er(t,(i,o)=>{let n=r(i),h=e(n);o?l+=eE(c.formatFullUnitForGrid(n),h,"full-unit"):l+=eE(c.formatSubUnitForGrid(n),h,"sub-unit")}),a.innerHTML=l}function eE(t,a,c){return'<span class="'.concat(c,'" style="transform: translate3d(').concat(a.toFixed(1),'px, -50%, 0);">').concat(t,"</span>")}var o8,K4,lE,W91,n8,iE,_91,oE,j91,q91,nE,Pp=x(()=>{"use strict";o8=require("@theatre/dataverse");R0();K4=P(T());a1();Bp();m1();W91=B.div(lE||(lE=V(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  pointer-events: none;\n"]))),n8={fullUnitStampColor:"#6a6a6a",stampFontSize:"10px",get subUnitStampColor(){return A6(.2,n8.fullUnitStampColor)}},_91=B.div(iE||(iE=V(["\n  position: absolute;\n  top: 0;\n  height: 100%;\n  left: 0;\n  overflow: hidden;\n  z-index: 2;\n  will-change: transform;\n  pointer-events: none;\n"]))),j91=B.div(oE||(oE=V(["\n  position: absolute;\n  top: 0;\n  left: 0;\n\n  & > span {\n    position: absolute;\n    display: block;\n    top: 9px;\n    left: -10px;\n    color: ",";\n    text-align: center;\n    font-size: ",";\n    width: 20px;\n\n    &.full-unit {\n      color: ",";\n    }\n\n    &.sub-unit {\n      color: ",";\n    }\n  }\n\n  pointer-events: none;\n"])),n8.fullUnitStampColor,n8.stampFontSize,n8.fullUnitStampColor,n8.subUnitStampColor),q91=({layoutP:t,width:a})=>{let c=(0,K4.useRef)(null),[r,e]=(0,K4.useState)(null);return(0,K4.useLayoutEffect)(()=>{if(r)return(0,o8.prism)(()=>{let l=(0,o8.val)(t.sheet).getSequence();return{fullSecondStampsContainer:r,clippedSpaceRange:(0,o8.val)(t.clippedSpace.range),clippedSpaceWidth:(0,o8.val)(t.clippedSpace.width),unitSpaceToClippedSpace:(0,o8.val)(t.clippedSpace.fromUnitSpace),leftPadding:(0,o8.val)(t.scaledSpace.leftPadding),fps:l.subUnitsPerUnit,sequencePositionFormatter:l.positionFormatter,snapToGrid:i=>l.closestGridPosition(i)}}).onChange(Z().ticker,N91,!0)},[r,a,t]),K4.default.createElement(W91,{ref:c,style:{width:a+"px"}},K4.default.createElement(_91,{style:{width:a+"px"}},K4.default.createElement(j91,{ref:e})))},nE=q91});function Gp(t){let[a,c]=(0,uh.useState)(!1);return(0,uh.useEffect)(()=>{if(c(!1),!t)return;let r=l=>{l.target===t?c(!0):c(!1)},e=()=>{c(!1)};return t.addEventListener("mouseenter",r),t.addEventListener("mousemove",r),t.addEventListener("mouseleave",e),()=>{c(!1),t.removeEventListener("mouseenter",r),t.removeEventListener("mousemove",r),t.removeEventListener("mouseleave",e)}},[t]),a}var uh,hE=x(()=>{"use strict";uh=P(T())});function U91(t,a){let c=0,[r,e]=t,[l,i]=a;return e-r>i-l?[l,i]:(r<l&&(c=0-r),e>i&&(c=i-e),[r+c,e+c])}var z4,F5,L2,gE,vE,ph,K91,dE,Tp=x(()=>{"use strict";z4=require("@theatre/dataverse");M1();G1();m1();h8();v0();f2();P1();F5=P(T());a1();E2();L2={enabled:{backgroundColor:"#2C2F34",stroke:"#646568"},disabled:{backgroundColor:"#282a2cc5",stroke:"#595a5d"},hover:{backgroundColor:"#34373D",stroke:"#C8CAC0"},dragging:{backgroundColor:"#3F444A",stroke:"#C8CAC0"},thumbWidth:9,hitZoneWidth:26,rangeStripMinWidth:30},gE=1e3,ph=B.div(vE||(vE=V(["\n  position: absolute;\n  height: ","px;\n  background-color: ",";\n  cursor: grab;\n  top: 0;\n  left: 0;\n  width: ","px;\n  transform-origin: left top;\n  &:hover {\n    background-color: ",";\n  }\n  &.dragging {\n    background-color: ",";\n    cursor: grabbing !important;\n  }\n  ",";\n\n  /* covers the one pixel space between the focus range strip and the top strip\n  of the sequence editor panel, which would have caused that one pixel to act\n  like a panel drag zone */\n  &:after {\n    display: block;\n    content: ' ';\n    position: absolute;\n    bottom: -1px;\n    height: 1px;\n    left: 0;\n    right: 0;\n    background: transparent;\n    pointer-events: normal;\n    z-index: -1;\n  }\n"])),()=>_0-1,t=>t.enabled?L2.enabled.backgroundColor:L2.disabled.backgroundColor,gE,L2.hover.backgroundColor,L2.dragging.backgroundColor,x1);K91=({layoutP:t})=>{let a=(0,F5.useMemo)(()=>(0,z4.prism)(()=>{let{projectId:h,sheetId:v}=(0,z4.val)(t.sheet).address;return(0,z4.val)(Z().atomP.ahistoric.projects.stateByProjectId[h].stateBySheetId[v].sequence.focusRange)}),[t]),[c,r]=z1(null),[e]=Z1(r,{menuItems:()=>{let h=(0,z4.val)(t.sheet),v=a.getValue();return[{label:"Delete focus range",callback:()=>{Z().tempTransaction(({stateEditors:g})=>{g.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.unset(S({},h.address))}).commit()}},{label:v!=null&&v.enabled?"Disable focus range":"Enable focus range",callback:()=>{v!==void 0&&Z().tempTransaction(({stateEditors:g})=>{g.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.set(W(S({},h.address),{range:v.range,enabled:!v.enabled}))}).commit()}}]}}),l=s1(t.scaledSpace.toUnitSpace),i=s1(t.sheet),o=(0,F5.useMemo)(()=>{let h,v;return{debugName:"FocusRangeStrip",onDragStart(g){let s,d=a.getValue();if(!d)return!1;let z=d.range.start,u=d.range.end,M=!1,m=(0,z4.val)(t.sheet).getSequence();return{onDrag(p){if(d=a.getValue(),d){M=!0;let f=l(p),H=z+f,w=u+f;w<H&&(w=H),[h,v]=U91([H,w],[0,m.length]).map(y=>m.closestGridPosition(y)),s&&s.discard(),s=Z().tempTransaction(({stateEditors:y})=>{var k;y.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.set(W(S({},i.address),{range:{start:h,end:v},enabled:(k=d==null?void 0:d.enabled)!=null?k:!0}))})}},onDragEnd(){d&&(M&&s!==void 0?s.commit():s&&s.discard())}}},lockCSSCursorTo:"grabbing"}},[i,l]),[n]=S1(r,o);return g0(n,-1),v1(()=>{let h=a.getValue(),v=(h==null?void 0:h.range)||{start:0,end:0},g=(0,z4.val)(t.clippedSpace.fromUnitSpace)(v.start),s=(0,z4.val)(t.clippedSpace.fromUnitSpace)(v.end),d,z;return g<0&&(g=0),s>(0,z4.val)(t.clippedSpace.width)&&(s=(0,z4.val)(t.clippedSpace.width)),g>s?(z=0,d=0):(z=g,d=(s-g)/gE),h?F5.default.createElement(F5.default.Fragment,null,e,F5.default.createElement(ph,{id:"range-strip",enabled:h.enabled,className:"".concat(n?"dragging":""," ").concat(h.enabled?"enabled":""),ref:c,style:{transform:"translateX(".concat(z,"px) scale(").concat(d,", 1)")}})):F5.default.createElement(F5.default.Fragment,null)},[t,c,a,e,n])},dE=K91});var I5,$4,sE,$91,zE,Q91,uE,X91,Y91,Zp,pE=x(()=>{"use strict";I5=require("@theatre/dataverse");M1();m1();h8();I0();f2();P1();$4=P(T());a1();E2();Tp();b3();$91=B.div(sE||(sE=V(["\n  position: absolute;\n  top: 0;\n  // the right handle has to be pulled back by its width since its right side indicates its position, not its left side\n  left: ","px;\n  transform-origin: left top;\n  width: ","px;\n  height: ","px;\n  z-index: 3;\n\n  --bg: ",";\n\n  stroke: ",";\n  user-select: none;\n\n  cursor: ",";\n\n  // no pointer events unless pointer-root is in normal mode _and_ the\n  // focus range is enabled\n  #pointer-root & {\n    pointer-events: none;\n  }\n\n  #pointer-root.normal & {\n    pointer-events: auto;\n  }\n\n  #pointer-root.draggingPositionInSequenceEditor & {\n    pointer-events: auto;\n    cursor: var(",");\n  }\n\n  &.dragging {\n    pointer-events: none !important;\n  }\n\n  // highlight the handle if it's hovered, or the whole strip is hovverd\n  ",":hover ~ &, &:hover {\n    --bg: ",";\n    stroke: ",";\n  }\n\n  // highlight the handle when it's being dragged or the whole strip is being dragged.\n  // using dragging.dragging to give this selector priority, as it seems to be overridden\n  // by the hover selector above\n  &.dragging,\n  ",".dragging.dragging ~ & {\n    --bg: ",";\n    stroke: ",";\n  }\n\n  #pointer-root.draggingPositionInSequenceEditor &:hover {\n    --bg: ",";\n    stroke: #40aaa4;\n  }\n\n  background-color: var(--bg);\n\n  // a larger hit zone\n  &:before {\n    display: block;\n    content: ' ';\n    position: absolute;\n    inset: -8px;\n  }\n"])),t=>t.type==="start"?0:-L2.thumbWidth,L2.thumbWidth,()=>_0-1,({enabled:t})=>t?L2.enabled.backgroundColor:L2.disabled.backgroundColor,L2.enabled.stroke,t=>t.type==="start"?"w-resize":"e-resize",F0,()=>ph,L2.hover.backgroundColor,L2.hover.stroke,()=>ph,L2.dragging.backgroundColor,L2.dragging.stroke,L2.dragging.backgroundColor),Q91=B.div(zE||(zE=V(["\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  pointer-events: none;\n\n  background: linear-gradient(\n    ","deg,\n    var(--bg) 0%,\n    #ffffff00 100%\n  );\n\n  width: 12px;\n  left: ","px;\n"])),t=>t.type==="start"?90:-90,t=>t.type==="start"?L2.thumbWidth:-L2.thumbWidth+1),X91=B.div(uE||(uE=V(["\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  pointer-events: none;\n\n  background: linear-gradient(\n    ","deg,\n    "," 0%,\n    #ffffff00 100%\n  );\n\n  width: 12px;\n  left: ","px;\n"])),t=>t.type==="start"?-90:90,()=>Rt.backgroundColor,t=>t.type==="start"?-12:L2.thumbWidth),Y91=({layoutP:t,thumbType:a})=>{var n;let[c,r]=z1(null),e=(0,$4.useMemo)(()=>(0,I5.prism)(()=>{let{projectId:h,sheetId:v}=(0,I5.val)(t.sheet).address;return(0,I5.val)(Z().atomP.ahistoric.projects.stateByProjectId[h].stateBySheetId[v].sequence.focusRange)}),[t]),l=(0,$4.useMemo)(()=>({debugName:"FocusRangeThumb",onDragStart(){let h,v,g=(0,I5.val)(t.sheet),d={start:0,end:g.getSequence().length},z=e.getValue()||{range:d,enabled:!1},u=z.enabled,M=z.range[a],m=(0,I5.val)(t.scaledSpace.toUnitSpace),p=m(L2.rangeStripMinWidth);return{onDrag(f,H,w){var U;let y,k=r2.checkIfMouseEventSnapToPos(w,{ignore:r});if(k==null){let A=m(f);y=M+A}else y=k;v=((U=e.getValue())==null?void 0:U.range)||d,a==="start"?y=Math.max(Math.min(y,v.end-p),0):y=Math.min(Math.max(y,v.start+p),g.getSequence().length);let I=g.getSequence().closestGridPosition(y);h!==void 0&&h.discard(),h=Z().tempTransaction(({stateEditors:A})=>{A.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.set(W(S({},g.address),{range:W(S({},v),{[a]:I}),enabled:u}))})},onDragEnd(f){f?h==null||h.commit():h==null||h.discard()}}}}),[t]),[i]=S1(r,l);s2(i,"draggingPositionInSequenceEditor",a==="start"?"w-resize":"e-resize");let o=s1(e);return g0(i,(n=o==null?void 0:o.range[a])!=null?n:0),v1(()=>{let h=e.getValue();if(!h)return null;let{enabled:v}=h,g=h.range[a],s=(0,I5.val)(t.clippedSpace.fromUnitSpace)(g);return(s<0||(0,I5.val)(t.clippedSpace.width)<s)&&(s=-1e4),$4.default.createElement($91,W(S(S({ref:c},r2.includePositionSnapAttrs(g)),O2(g)),{className:"".concat(i&&"dragging"," ").concat(v&&"enabled"),enabled:v,type:a,style:{transform:"translate3d(".concat(s,"px, 0, 0)")}}),$4.default.createElement(Q91,{type:a,enabled:v}),$4.default.createElement(X91,{type:a}),$4.default.createElement("svg",{viewBox:"0 0 9 18",xmlns:"http://www.w3.org/2000/svg"},$4.default.createElement("line",{x1:"4",y1:"6",x2:"4",y2:"12"}),$4.default.createElement("line",{x1:"6",y1:"6",x2:"6",y2:"12"})))},[t,c,e,i])},Zp=Y91});function at1(t,a){let[c,r]=(0,j0.useState)("none");return s2(c!=="none","dragging",c==="creating"?"ew-resize":"move"),(0,j0.useMemo)(()=>{let e=()=>({debugName:"FocusRangeZone/focusRangeCreationGestureHandlers",onDragStart(i){let o,n=(0,v8.val)(t.clippedSpace.toUnitSpace),h=(0,v8.val)(t.scaledSpace.toUnitSpace),v=(0,v8.val)(t.sheet),g=v.getSequence(),d=i.target.getBoundingClientRect(),z=n(i.clientX-d.left),u=h(L2.rangeStripMinWidth);return{onDrag(M){let m=h(M),p=z,f=z+m;[p,f]=[F1(p,0,g.length),F1(f,0,g.length)].map(H=>g.closestGridPosition(H)),f<p?[p,f]=[Math.max(Math.min(f,p-u),0),p]:M>0&&(f=Math.min(Math.max(f,p+u),g.length)),o&&o.discard(),o=Z().tempTransaction(({stateEditors:H})=>{H.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.set(W(S({},v.address),{range:{start:p,end:f},enabled:!0}))})},onDragEnd(M){M&&o!==void 0?o.commit():o&&o.discard()}}},lockCSSCursorTo:"ew-resize"}),l=()=>({debugName:"FocusRangeZone/panelMoveGestureHandlers",onDragStart(){let i,o=a.current,n=a.current.addBoundsHighlightLock();return{onDrag(h,v){let g=W(S({},o.dims),{top:F1(o.dims.top+v,0,window.innerHeight-S3),left:F1(o.dims.left+h,-o.dims.width+S3,window.innerWidth-S3)}),s=dt(g,{width:window.innerWidth,height:window.innerHeight});i==null||i.discard(),i=Z().tempTransaction(({stateEditors:d})=>{d.studio.historic.panelPositions.setPanelPosition({position:s,panelId:o.panelId})})},onDragEnd(h){n(),h?i==null||i.commit():i==null||i.discard()}}},lockCSSCursorTo:"move"});return{debugName:"FocusRangeZone",onDragStart(i){let[o,n]=i.shiftKey?["creating",e().onDragStart(i)]:["moving-panel",l().onDragStart(i)];return r(o),n===!1?!1:{onDrag(h,v,g,s,d){n.onDrag(h,v,g,s,d)},onDragEnd(h){var v;r("none"),(v=n.onDragEnd)==null||v.call(n,h)}}}}},[t,a])}var v8,j0,mE,J91,tt1,ME,fE=x(()=>{"use strict";v8=require("@theatre/dataverse");M1();m1();r7();h8();I0();f2();hE();qu();P1();H2();j0=P(T());a1();Tp();pE();b4();J91=B.div(mE||(mE=V(["\n  position: absolute;\n  height: ",'px;\n  left: 0;\n  right: 0;\n  box-sizing: border-box;\n  /* Use the "grab" cursor if the shift key is up, which is the one used on the top strip of the sequence editor */\n  cursor: ',";\n"])),()=>_0,t=>t.isShiftDown?"ew-resize":"move"),tt1=({layoutP:t})=>{let[a,c]=z1(null),r=D4(),e=(0,j0.useRef)(r);e.current=r;let l=(0,j0.useMemo)(()=>(0,v8.prism)(()=>{let{projectId:n,sheetId:h}=(0,v8.val)(t.sheet).address;return(0,v8.val)(Z().atomP.ahistoric.projects.stateByProjectId[n].stateBySheetId[h].sequence.focusRange)}),[t]);S1(c,at1(t,e));let i=fr("Shift"),o=Gp(c);return(0,j0.useEffect)(()=>{if(!i&&o)return e.current.addBoundsHighlightLock()},[!i&&o]),v1(()=>j0.default.createElement(J91,{ref:a,isShiftDown:i},j0.default.createElement(dE,{layoutP:t}),j0.default.createElement(Zp,{thumbType:"start",layoutP:t}),j0.default.createElement(Zp,{thumbType:"end",layoutP:t})),[t,l,i])},ME=tt1});var bt,_0,Rt,xE,ct1,rt1,CE,h8=x(()=>{"use strict";M1();bt=P(T());a1();Pp();E2();G1();fE();_0=18,Rt={backgroundColor:"#1f2120eb",borderColor:"#1c1e21"},ct1=B.div(xE||(xE=V(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: ","px;\n  box-sizing: border-box;\n  background: ",";\n  border-bottom: 1px solid ",";\n  ",";\n"])),_0,Rt.backgroundColor,Rt.borderColor,x1),rt1=({layoutP:t})=>{let a=s1(t.rightDims.width);return bt.default.createElement(bt.default.Fragment,null,bt.default.createElement(ct1,S({},O2("hide")),bt.default.createElement(nE,{layoutP:t,width:a,height:_0}),bt.default.createElement(ME,{layoutP:t})))},CE=rt1});var Q4,et1,LE,lt1,HE,it1,ot1,nt1,VE,wE=x(()=>{"use strict";Q4=P(T());a1();M1();m1();mo();N6();et1=t=>isFinite(t)&&t>0,lt1=B.div(LE||(LE=V(["\n  display: flex;\n  gap: 8px;\n  padding: 4px 8px;\n  height: 28px;\n  align-items: center;\n"]))),it1=B.div(HE||(HE=V(["\n  ",";\n  white-space: nowrap;\n"])),T0),ot1=({deltaX:t})=>t*.25,nt1=({layoutP:t})=>{let a=s1(t.sheet),c=(0,Q4.useMemo)(()=>{let e;return{temporarilySetValue(l){e&&(e.discard(),e=void 0),e=Z().tempTransaction(({stateEditors:i})=>{i.coreByProject.historic.sheetsById.sequence.setLength(W(S({},a.address),{length:l}))})},discardTemporaryValue(){e&&(e.discard(),e=void 0)},permanentlySetValue(l){e&&(e.discard(),e=void 0),Z().transaction(({stateEditors:i})=>{i.coreByProject.historic.sheetsById.sequence.setLength(W(S({},a.address),{length:l}))})}}},[t,a]),r=(0,Q4.useRef)(null);return(0,Q4.useLayoutEffect)(()=>{r.current.focus()},[]),v1(()=>{let l=a.getSequence().length;return Q4.default.createElement(lt1,null,Q4.default.createElement(it1,null,"Sequence length"),Q4.default.createElement(G9,W(S({value:l},c),{isValid:et1,inputRef:r,nudge:ot1})))},[a,c,r])},VE=nt1});function ut1(t,a){let c=(0,z0.useRef)(a);c.current=a;let r=(0,z0.useMemo)(()=>({debugName:"LengthIndicator/useDragBulge",lockCSSCursorTo:"ew-resize",onDragStart(l){let i,o=c.current,n=(0,s7.val)(c.current.layoutP.sheet),h=n.getSequence().length,v=(0,s7.val)(o.layoutP.scaledSpace.toUnitSpace);return{onDrag(g,s,d){let z=v(g);i&&(i.discard(),i=void 0),i=Z().tempTransaction(({stateEditors:u})=>{u.coreByProject.historic.sheetsById.sequence.setLength(W(S({},n.address),{length:h+z}))})},onDragEnd(g){g?i&&i.commit():i&&i.discard()}}}}),[]),[e]=S1(t,r);return g0(e,-1),[e]}var s7,z0,RE,mh,BE,z7,yE,ht1,SE,vt1,kE,gt1,AE,dt1,st1,zt1,bE,FE=x(()=>{"use strict";M1();s7=require("@theatre/dataverse"),z0=P(T());a1();W4();h8();P1();f2();m1();c4();E2();K8();wE();G1();e4();RE=1e3,mh={stripNormal:"#0000006c",stripActive:"#000000"},z7=B.div(BE||(BE=V(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 4px;\n  z-index: ",";\n  pointer-events: none;\n\n  &:after {\n    display: block;\n    content: ' ';\n    position: absolute;\n    /* top: ","px; */\n    top: 0;\n    bottom: 0;\n    left: -1px;\n    width: 1px;\n    background-color: ",";\n  }\n\n  &:hover:after,\n  &.dragging:after {\n    background-color: ",";\n  }\n"])),()=>K2.lengthIndicatorStrip,_0,mh.stripNormal,mh.stripActive),ht1=B.div(yE||(yE=V(["\n  position: absolute;\n  top: ","px;\n  width: 100px;\n  left: -50px;\n  pointer-events: none;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  z-index: 1;\n"])),_0-15),vt1=B.div(SE||(SE=V(["\n  margin-top: 8px;\n  font-size: 10px;\n  white-space: nowrap;\n  padding: 2px 8px;\n  border-radius: 2px;\n  ",";\n  cursor: ew-resize;\n  color: #464646;\n  background-color: #0000004d;\n  display: none;\n\n  ",":hover &, ",".dragging & {\n    display: block;\n    color: white;\n    background-color: ",";\n  }\n"])),x1,z7,z7,mh.stripActive),gt1=B.div(kE||(kE=V(["\n  font-size: 10px;\n  white-space: nowrap;\n  padding: 1px 2px;\n  border-radius: 2px;\n  ",";\n  justify-content: center;\n  align-items: center;\n  cursor: ew-resize;\n  color: #5d5d5d;\n  background-color: #191919;\n\n  ",":hover &, ",".dragging & {\n    color: white;\n    background-color: ",";\n\n    & > svg:first-child {\n      margin-right: -1px;\n    }\n  }\n\n  & > svg:first-child {\n    margin-right: -4px;\n  }\n"])),x1,z7,z7,mh.stripActive),dt1=B.div(AE||(AE=V(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  background-color: rgb(23 23 23 / 43%);\n  width: ","px;\n  z-index: ",";\n  transform-origin: left top;\n\n  ",".dragging ~ &, ",":hover ~ & {\n    background-color: rgb(23 23 23 / 60%);\n  }\n"])),RE,()=>K2.lengthIndicatorCover,z7,z7),st1=-1e4,zt1=({layoutP:t})=>{let[a,c]=z1(null),[r]=ut1(c,{layoutP:t}),{node:e,toggle:l,close:i}=x2({debugName:"LengthIndicator"},()=>z0.default.createElement(T2,null,z0.default.createElement(VE,{layoutP:t,onRequestClose:i})));return v1(()=>{let o=(0,s7.val)(t.sheet),n=(0,s7.val)(t.rightDims.height),h=o.getSequence(),v=h.length,g=v,s=(0,s7.val)(t.clippedSpace.fromUnitSpace)(g),d=(0,s7.val)(t.clippedSpace.width),z,u;return s>d?(u=0,z=0):(s<0&&(s=0),u=s,z=(d-s)/RE),z0.default.createElement(z0.default.Fragment,null,e,z0.default.createElement(z7,{style:{height:n+"px",transform:"translateX(".concat(u===0?st1:u,"px)")},className:r?"dragging":""},z0.default.createElement(ht1,null,z0.default.createElement(gt1,S({ref:a,onClick:M=>{l(M,c)}},O2("hide")),z0.default.createElement(bA,null),z0.default.createElement(FA,null)),z0.default.createElement(vt1,null,"Sequence length:"," ",h.positionFormatter.formatBasic(v)))),z0.default.createElement(dt1,{title:"Length",style:{height:n+"px",transform:"translateX(".concat(u,"px) scale(").concat(z,", 1)")}}))},[t,a,r,e])};bE=zt1});var Op,P5,IE,pt1,PE,mt1,GE,Mt1,ft1,TE,ZE=x(()=>{"use strict";M1();Op=require("@theatre/dataverse"),P5=P(T());a1();Pp();W4();h8();E2();pt1=B.div(IE||(IE=V(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  margin-top: 0px;\n"]))),mt1=B.div(PE||(PE=V(["\n  position: absolute;\n  top: 16px;\n  font-size: ",";\n  color: ",";\n  text-align: center;\n  transform: translateX(-50%);\n  background: ",";\n  padding: 1px 8px;\n  font-variant-numeric: tabular-nums;\n  pointer-events: none;\n  z-index: ",";\n"])),n8.stampFontSize,n8.fullUnitStampColor,Rt.backgroundColor,()=>K2.currentFrameStamp),Mt1=B.div(GE||(GE=V(["\n  position: absolute;\n  top: 5px;\n  left: -0px;\n  bottom: 0;\n  width: 0.5px;\n  background: rgba(100, 100, 100, 0.2);\n  pointer-events: none;\n"]))),ft1=P5.default.memo(({layoutP:t})=>{let[a,c]=s1(GG()),r=s1(t.clippedSpace.fromUnitSpace),{sequence:e,formatter:l,clippedSpaceWidth:i}=v1(()=>{let v=(0,Op.val)(t.sheet).getSequence(),g=(0,Op.val)(t.clippedSpace.width);return{sequence:v,formatter:v.positionFormatter,clippedSpaceWidth:g}},[t]);if(a==-1)return P5.default.createElement(P5.default.Fragment,null);let o=c===3?e.closestGridPosition(a):a,n=r(o),h=n>=0&&n<=i;return P5.default.createElement(P5.default.Fragment,null,P5.default.createElement(pt1,null,P5.default.createElement(mt1,{style:{opacity:h?1:0,transform:"translate3d(calc(".concat(n,"px - 50%), 0, 0)")}},l.formatForPlayhead(o)),P5.default.createElement(Mt1,{posType:c,style:{opacity:h?1:0,transform:"translate3d(".concat(n,"px, 0, 0)")}}))," ")}),TE=ft1});var P3,D2,EE,xt1,DE,Ct1,WE,Ep,_E,UE,jE,Dp,qE,Wp,NE,OE,Lt1,KE,$E=x(()=>{"use strict";M1();P3=require("@theatre/dataverse");Kv();R0();D2=P(T());a1();W4();E2();G1();f2();xt1=B.div(EE||(EE=V(["\n  --threadHeight: 6px;\n  --bg-inactive: #32353b;\n  --bg-active: #5b5c5d;\n  position: absolute;\n  height: 0;\n  width: 100%;\n  left: 12px;\n  /* bottom: 8px; */\n  z-index: ",";\n  ","\n"])),()=>K2.horizontalScrollbar,x1),Ct1=B.div(DE||(DE=V(["\n  position: relative;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: var(--threadHeight);\n"]))),Ep=B.div(WE||(WE=V(["\n  position: absolute;\n  height: 5px;\n  background: var(--bg-inactive);\n  cursor: ew-resize;\n  z-index: 2;\n\n  &:hover,\n  &:active {\n    background: var(--bg-active);\n  }\n\n  &:after {\n    ",";\n    display: block;\n    content: ' ';\n  }\n"])),_i("absolute","-4px")),UE=B.div(_E||(_E=V(["\n  position: absolute;\n  height: 5px;\n  width: 7px;\n  left: 0;\n  z-index: 2;\n  top: 0;\n  bottom: 0;\n  display: block;\n\n  &:hover:before {\n    background: var(--bg-active);\n  }\n\n  &:before {\n    ",";\n    display: block;\n    content: ' ';\n    background: var(--bg-inactive);\n    border-radius: 0 2px 2px 0;\n  }\n\n  &:after {\n    ",";\n    display: block;\n    content: ' ';\n  }\n"])),_i("absolute","0"),_i("absolute","-4px")),Dp=B(UE)(jE||(jE=V(["\n  left: calc(-1 * 7px);\n  cursor: w-resize;\n  &:before {\n    transform: scaleX(-1);\n  }\n"]))),Wp=B(UE)(qE||(qE=V(["\n  cursor: e-resize;\n  left: 0px;\n"]))),OE=B.div(NE||(NE=V(["\n  display: ",";\n  position: absolute;\n  top: -20px;\n  left: 4px;\n  padding: 0 4px;\n  transform: translateX(-50%);\n  background: #131d1f;\n  border-radius: 4px;\n  color: #fff;\n  font-size: 10px;\n  line-height: 18px;\n  text-align: center;\n\n  ",":hover &,\n  ",":hover &,\n  ",":hover ~ "," &,\n  ",":hover ~ "," & {\n    display: block;\n  }\n"])),t=>t.active?"block":"none",Dp,Wp,Ep,Dp,Ep,Wp),Lt1=({layoutP:t})=>{let a=(0,D2.useCallback)(M=>M.toFixed(2),[]),c=(0,D2.useMemo)(()=>(0,P3.prism)(()=>{let M=(0,P3.val)(t.rightDims.width)-25,m=(0,P3.val)(t.clippedSpace.range),p=(0,P3.val)(t.sheet).getSequence().length,f=Math.max(m.end,p),H=m.start/f*M,w=m.end/f*M;return{rightWidth:M,clippedSpaceRange:m,sequenceLength:p,assumedLengthOfSequence:f,rangeStartX:H,rangeEndX:w,bottom:(0,P3.val)(t.horizontalScrollbarDims.bottom)}}),[t]),{rangeStartX:r,rangeEndX:e,clippedSpaceRange:l,bottom:i}=s1(c),[o,n]=(0,D2.useState)("nothing"),h=(0,D2.useMemo)(()=>{let M=(0,P3.val)(c),m=()=>{M=(0,P3.val)(c)},p=H=>H/M.rightWidth*M.assumedLengthOfSequence;return{onRangeDragStart(){return m(),{onDrag(H){n("both");let w=p(H),y=e5(M.clippedSpaceRange,k=>k+w);(0,P3.val)(t.clippedSpace.setRange)(y)},onDragEnd(){n("nothing")}}},onRangeStartDragStart(){return m(),{onDrag(H){n("start");let w=p(H),y={start:M.clippedSpaceRange.start+w,end:M.clippedSpaceRange.end};y.start>y.end-1&&(y.start=y.end-1),y.start<=0&&(y.start=0),(0,P3.val)(t.clippedSpace.setRange)(y)},onDragEnd(){n("nothing")}}},onRangeEndDragStart(){return m(),{onDrag(H){n("end");let w=p(H),y={start:M.clippedSpaceRange.start,end:M.clippedSpaceRange.end+w};y.end<y.start+1&&(y.end=y.start+1),y.end>=M.assumedLengthOfSequence&&(y.end=M.assumedLengthOfSequence),(0,P3.val)(t.clippedSpace.setRange)(y)},onDragEnd(){n("nothing")}}}}},[t,c]),[v,g]=(0,D2.useState)(null);S1(v,{debugName:"HorizontalScrollbar/onRangeDrag",onDragStart:h.onRangeDragStart,lockCSSCursorTo:"ew-resize"});let[s,d]=(0,D2.useState)(null);S1(s,{debugName:"HorizontalScrollbar/onRangeStartDrag",onDragStart:h.onRangeStartDragStart,lockCSSCursorTo:"w-resize"});let[z,u]=(0,D2.useState)(null);return S1(z,{debugName:"HorizontalScrollbar/onRangeEndDrag",onDragStart:h.onRangeEndDragStart,lockCSSCursorTo:"e-resize"}),D2.default.createElement(xt1,S({style:{bottom:i+8+"px"}},O2("hide")),D2.default.createElement(Ct1,null,D2.default.createElement(Ep,{ref:g,style:{width:"".concat(e-r,"px"),transform:"translate3d(".concat(r,"px, 0, 0)")}}),D2.default.createElement(Dp,{ref:d,style:{transform:"translate3d(".concat(r,"px, 0, 0)")}},D2.default.createElement(OE,{active:o==="both"||o==="start"},a(l.start))),D2.default.createElement(Wp,{ref:u,style:{transform:"translate3d(".concat(e,"px, 0, 0)")}},D2.default.createElement(OE,{active:o==="both"||o==="end"},a(l.end)))))},KE=Lt1});var XE,QE,Ht1,Vt1,YE,JE=x(()=>{"use strict";XE=P(T());a1();Ht1=B.div(QE||(QE=V(["\n  position: absolute;\n  inset: ","px;\n"])),t=>t.room*-1),Vt1=t=>XE.default.createElement(Ht1,{room:t.room}),YE=Vt1});var Ft,Mh,_p,wt1,tD,Bt1,aD,yt1,St1,kt1,cD,rD=x(()=>{"use strict";a1();M1();mo();N6();Ft=P(T()),Mh=P(T()),_p=require("@theatre/dataverse");ua();wt1=t=>isFinite(t)&&t>=0,Bt1=B.div(tD||(tD=V(["\n  display: flex;\n  gap: 8px;\n  padding: 4px 8px;\n  height: 28px;\n  align-items: center;\n"]))),yt1=B.div(aD||(aD=V(["\n  ",";\n  white-space: nowrap;\n"])),T0),St1=({deltaX:t})=>t*.25,kt1=({layoutP:t,onRequestClose:a})=>{let c=(0,_p.val)(t.sheet),r=c.getSequence(),e=(0,Ft.useMemo)(()=>{let i,o=r.position;return{temporarilySetValue(n){i&&(i=void 0),i=F1(n,0,r.length),r.position=i},discardTemporaryValue(){i&&(i=void 0,r.position=o,a("discardTemporaryValue"))},permanentlySetValue(n){i&&(i=void 0),r.position=F1(n,0,r.length),a("permanentlySetValue")}}},[t,r]),l=(0,Ft.useRef)(null);return(0,Ft.useLayoutEffect)(()=>{l.current.focus()},[]),v1(()=>{let i=c.getSequence(),o=Number((0,_p.val)(i.pointer.position).toFixed(3));return Mh.default.createElement(Bt1,null,Mh.default.createElement(yt1,null,"Sequence position"),Mh.default.createElement(G9,W(S({value:o},e),{isValid:wt1,inputRef:l,nudge:St1})))},[c,e,l])},cD=kt1});var eD,lD=x(()=>{"use strict";eD=typeof navigator!="undefined"&&navigator.platform.toUpperCase().indexOf("MAC")>=0});var iD,oD=x(()=>{"use strict";lD();iD=t=>eD?t.metaKey===!0:t.ctrlKey===!0});function hD(){jp=!1}function vD(){jp=!0}function qp(){let t=Z();(0,nD.useEffect)(()=>{let a=c=>{let r=c.composedPath()[0];if(!(r&&(r.tagName==="INPUT"||r.tagName==="TEXTAREA"))){if(c.key==="z"||c.key==="Z"||c.code==="KeyZ")if(iD(c))c.shiftKey===!0?t.redo():t.undo();else return;else if(c.code==="Space"&&!c.shiftKey&&!c.metaKey&&!c.altKey&&!c.ctrlKey){if(!jp)return;let e=sk();if(e)if(e.playing)e.pause();else{let{projectId:l,sheetId:i}=e.address,o=(0,s3.prism)(()=>{let v=(0,s3.val)(Z().atomP.ahistoric.projects.stateByProjectId[l].stateBySheetId[i].sequence.focusRange);return s3.prism.memo("shouldFollowFocusRange",()=>{let s=e.position;if(v){let d=s>=v.range.start&&s<=v.range.end;return v.enabled?!!d:!0}else return!0},[])&&v&&v.enabled?{range:[v.range.start,v.range.end],isFollowingARange:!0}:{range:[0,(0,s3.val)(e.pointer.length)],isFollowingARange:!1}}),n=e.playDynamicRange((0,s3.prism)(()=>(0,s3.val)(o).range),Z().ticker),h=gD(e);n.finally(()=>{h.set(void 0)}),h.set(o)}else return}else if(c.altKey&&(c.key==="\\"||c.code==="Backslash"||c.code==="IntlBackslash"))t.transaction(({stateEditors:e,drafts:l})=>{e.studio.ahistoric.setVisibilityState(l.ahistoric.visibilityState==="everythingIsHidden"?"everythingIsVisible":"everythingIsHidden")});else return;c.preventDefault(),c.stopPropagation()}};return window.addEventListener("keydown",a),()=>{window.removeEventListener("keydown",a)}},[])}var nD,s3,jp,gD,dD,fh=x(()=>{"use strict";nD=P(T());m1();oD();x5();s3=require("@theatre/dataverse");Jc();jp=!0;gD=T4(t=>new s3.Atom(void 0)),dD=T4(t=>(0,s3.prism)(()=>{let a=gD(t).prism.getValue();if(a)return a.getValue().isFollowingARange;{let{projectId:c,sheetId:r}=t.address,e=(0,s3.val)(Z().atomP.ahistoric.projects.stateByProjectId[c].stateBySheetId[r].sequence.focusRange);if(!e||!e.enabled)return!1;let l=(0,s3.val)(t.pointer.position);return l>=e.range.start&&l<=e.range.end}}))});function It1(t,a){return Z1(t,{menuItems(){return[{label:"Place marker",callback:()=>{Z().transaction(({stateEditors:c})=>{let r=(0,X4.val)(a.layoutP.sheet),e=r.getSequence();c.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.replaceMarkers({sheetAddress:r.address,markers:[{id:LF(),position:e.position}],snappingFunction:e.closestGridPosition})})}}]}})}var X4,z3,sD,It,zD,At1,uD,MD,pD,Rt1,mD,bt1,Ft1,fD,xD=x(()=>{"use strict";JE();f2();P1();M1();X4=require("@theatre/dataverse");ua();z3=P(T());a1();W4();E2();G1();c4();e4();rD();fh();I0();v0();m1();O4();b3();c8();It=B.div(sD||(sD=V(["\n  --thumbColor: #00e0ff;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 5px;\n  height: 100%;\n  z-index: ",";\n  pointer-events: none;\n\n  display: ",";\n"])),()=>K2.playhead,t=>t.isVisible?"block":"none"),At1=B.div(zD||(zD=V(["\n  position: absolute;\n  top: 8px;\n  width: 0;\n  height: calc(100% - 8px);\n  border-left: 1px solid #27e0fd;\n  z-index: 10;\n  pointer-events: none;\n\n  #pointer-root.draggingPositionInSequenceEditor &:not(.seeking) {\n    /* pointer-events: auto; */\n    /* cursor: var(","); */\n\n    &:after {\n      position: absolute;\n      inset: -8px;\n      display: block;\n      content: ' ';\n    }\n  }\n"])),F0),MD=B.div(uD||(uD=V(["\n  background-color: var(--thumbColor);\n  position: absolute;\n  width: 5px;\n  height: 13px;\n  top: -4px;\n  left: -2px;\n  z-index: 11;\n  cursor: ew-resize;\n  --sunblock-color: #1f2b2b;\n\n  ",";\n\n  ",".seeking > & {\n    pointer-events: none !important;\n  }\n\n  #pointer-root.draggingPositionInSequenceEditor\n    ",":not(.seeking)\n    > & {\n    pointer-events: auto;\n    cursor: var(",");\n  }\n\n  ",".playheadattachedtofocusrange > & {\n    top: -8px;\n    --sunblock-color: #005662;\n    &:before,\n    &:after {\n      border-bottom-width: 8px;\n    }\n  }\n\n  &:before {\n    position: absolute;\n    display: block;\n    content: ' ';\n    left: -2px;\n    width: 0;\n    height: 0;\n    border-bottom: 4px solid var(--sunblock-color);\n    border-left: 2px solid transparent;\n  }\n\n  &:after {\n    position: absolute;\n    display: block;\n    content: ' ';\n    right: -2px;\n    width: 0;\n    height: 0;\n    border-bottom: 4px solid var(--sunblock-color);\n    border-right: 2px solid transparent;\n  }\n"])),x1,It,It,F0,It),Rt1=B.div(pD||(pD=V(["\n  position: absolute;\n  left: 1px;\n  right: 1px;\n  top: 13px;\n  border-top: 3px solid var(--thumbColor);\n  border-right: 1px solid transparent;\n  border-left: 1px solid transparent;\n  pointer-events: none;\n\n  /* ",".playheadattachedtofocusrange & {\n    top: 10px;\n    &:before,\n    &:after {\n      height: 15px;\n    }\n  } */\n\n  &:before {\n    position: absolute;\n    display: block;\n    content: ' ';\n    top: -4px;\n    left: -2px;\n    height: 8px;\n    width: 2px;\n    background: none;\n    border-radius: 0 100% 0 0;\n    border-top: 1px solid var(--thumbColor);\n    border-right: 1px solid var(--thumbColor);\n  }\n\n  &:after {\n    position: absolute;\n    display: block;\n    content: ' ';\n    top: -4px;\n    right: -2px;\n    height: 8px;\n    width: 2px;\n    background: none;\n    border-radius: 100% 0 0 0;\n    border-top: 1px solid var(--thumbColor);\n    border-left: 1px solid var(--thumbColor);\n  }\n"])),It),bt1=B.div(mD||(mD=V(["\n  display: none;\n  position: absolute;\n  top: -20px;\n  left: 4px;\n  padding: 0 2px;\n  transform: translateX(-50%);\n  background: #1a1a1a;\n  border-radius: 4px;\n  color: #fff;\n  font-size: 10px;\n  line-height: 18px;\n  text-align: center;\n  ",":hover &, ",".seeking & {\n    display: block;\n  }\n"])),MD,It),Ft1=({layoutP:t})=>{let[a,c]=z1(null),{node:r,toggle:e,close:l}=x2({debugName:"Playhead"},()=>z3.default.createElement(T2,null,z3.default.createElement(cD,{layoutP:t,onRequestClose:l}))),i=(0,z3.useMemo)(()=>({debugName:"RightOverlay/Playhead",onDragStart(){let h=(0,X4.val)(t.sheet).getSequence(),v=h.position,g=(0,X4.val)(t.scaledSpace.toUnitSpace),s=(0,X4.val)(t.seeker.setIsSeeking);return s(!0),mt(),{onDrag(d,z,u){var m;let M=g(d);h.position=(m=r2.checkIfMouseEventSnapToPos(u,{ignore:c}))!=null?m:F1(v+M,0,h.length)},onDragEnd(d){s(!1),I3()},onClick(d){e(d,a.current)}}}}),[t,c]),[o]=S1(c,i);s2(o,"draggingPositionInSequenceEditor","ew-resize"),g0(s1(t.seeker.isSeeking)||o,-1);let[n]=It1(c,{layoutP:t});return v1(()=>{let h=(0,X4.val)(t.seeker.isSeeking),v=(0,X4.val)(t.sheet).getSequence(),g=(0,X4.val)(dD(v)),s=v.positionPrism.getValue(),d=(0,X4.val)(t.clippedSpace.fromUnitSpace)(s),z=d>=0&&d<=(0,X4.val)(t.clippedSpace.width);return z3.default.createElement(z3.default.Fragment,null,n,r,z3.default.createElement(It,S({isVisible:z,style:{transform:"translate3d(".concat(d,"px, 0, 0)")},className:"".concat(h&&"seeking"," ").concat(g&&"playheadattachedtofocusrange")},O2("hide")),z3.default.createElement(MD,S({ref:a},r2.includePositionSnapAttrs(s)),z3.default.createElement(YE,{room:8}),z3.default.createElement(Rt1,null),z3.default.createElement(bt1,null,v.positionFormatter.formatForPlayhead(v.closestGridPosition(s)))),z3.default.createElement(At1,W(S({},r2.includePositionSnapAttrs(s)),{className:h?"seeking":""}))))},[t,a,r])},fD=Ft1});var g8,Pt,Np,CD,Pt1,Gt1,LD,HD=x(()=>{"use strict";g8=require("@theatre/dataverse");M1();m1();h8();Pt=P(T());a1();Np=1e3,Pt1=B.div(CD||(CD=V(["\n  position: absolute;\n  top: ","px;\n  left: 0;\n  opacity: 0.15;\n  width: ","px;\n  transform-origin: top left;\n  pointer-events: none;\n  background-color: ",";\n"])),_0,Np,t=>t.enabled?"#000000":"transparent"),Gt1=({layoutP:t})=>{let a=(0,Pt.useMemo)(()=>(0,g8.prism)(()=>{let{projectId:c,sheetId:r}=(0,g8.val)(t.sheet).address;return(0,g8.val)(Z().atomP.ahistoric.projects.stateByProjectId[c].stateBySheetId[r].sequence.focusRange)}),[t]);return v1(()=>{let c=a.getValue();if(!c||!c.enabled)return null;let{range:r}=c,e=(0,g8.val)(t.rightDims.height)-_0,l=(0,g8.val)(t.clippedSpace.fromUnitSpace),i=(0,g8.val)(t.clippedSpace.width),o=[];{let n=0,h=l(c.range.start),v,g;n>h?(g=0,v=0):(h>i&&(h=i),g=n,v=(h-n)/Np),o.push({translateX:g,scaleX:v})}{let n=l(c.range.end),h=i,v,g;n>h?(g=0,v=0):(n<0&&(n=0),g=n,v=(h-n)/Np),o.push({translateX:g,scaleX:v})}return Pt.default.createElement(Pt.default.Fragment,null,o.map(({translateX:n,scaleX:h},v)=>Pt.default.createElement(Pt1,{key:"curtain-".concat(v),enabled:!0,style:{height:"".concat(e,"px"),transform:"translateX(".concat(n,"px) scaleX(").concat(h,")")}})))},[t,a])},LD=Gt1});var G5,VD,Tt1,wD,BE1,Zt1,BD,yD=x(()=>{"use strict";G5=P(T());a1();M1();m1();N6();Co();Tt1=B.div(VD||(VD=V(["\n  display: flex;\n  gap: 8px;\n  /* padding: 4px 8px; */\n  height: 28px;\n  align-items: center;\n"]))),BE1=B.div(wD||(wD=V(["\n  ",";\n  white-space: nowrap;\n"])),T0),Zt1=({layoutP:t,marker:a})=>{var l;let c=s1(t.sheet),r=(0,G5.useMemo)(()=>{let i;return{temporarilySetValue(o){i&&(i.discard(),i=void 0),i=Z().tempTransaction(({stateEditors:n})=>{n.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.updateMarker({sheetAddress:c.address,markerId:a.id,label:o})})},discardTemporaryValue(){i&&(i.discard(),i=void 0)},permanentlySetValue(o){i&&(i.discard(),i=void 0),Z().transaction(({stateEditors:n})=>{n.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.updateMarker({sheetAddress:c.address,markerId:a.id,label:o})})}}},[t,c]),e=(0,G5.useRef)(null);return(0,G5.useLayoutEffect)(()=>{e.current.focus()},[]),G5.default.createElement(Tt1,null,G5.default.createElement(O9,W(S({value:(l=a.label)!=null?l:""},r),{isValid:()=>!0,inputRef:e})))},BD=Zt1});function Nt1(t,a){return Z1(t,{menuItems(){return[{label:"Remove marker",callback:()=>{Z().transaction(({stateEditors:c})=>{c.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.removeMarker({sheetAddress:a.sheetAddress,markerId:a.markerId})})}}]}})}function Ut1(t,a){let c=(0,Y2.useRef)(a);c.current=a;let r=(0,Y2.useMemo)(()=>({debugName:"MarkerDot/useDragMarker (".concat(a.marker.id,")"),onDragStart(l){let i=c.current.marker,o=(0,xh.val)(a.layoutP.scaledSpace.toUnitSpace),n;return mt(),{onDrag(h,v,g){var z;let s=i,d=Math.max((z=r2.checkIfMouseEventSnapToPos(g,{ignore:t}))!=null?z:s.position+o(h),0);n==null||n.discard(),n=Z().tempTransaction(({stateEditors:u})=>{u.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.replaceMarkers({sheetAddress:(0,xh.val)(a.layoutP.sheet.address),markers:[W(S({},s),{position:d})],snappingFunction:(0,xh.val)(a.layoutP.sheet).getSequence().closestGridPosition})})},onDragEnd(h){h?n==null||n.commit():n==null||n.discard(),I3()}}}}),[]),[e]=S1(t,r);return g0(e,a.marker.position),s2(e,"draggingPositionInSequenceEditor draggingMarker","ew-resize"),[e]}var xh,Y2,RD,bD,Ot1,Et1,SD,Dt1,kD,Up,Wt1,AD,_t1,jt1,FD,qt1,ID=x(()=>{"use strict";xh=require("@theatre/dataverse");M1();m1();I0();v0();P1();Y2=P(T());a1();E2();f2();W4();b3();xr();Yu();c8();c4();e4();yD();RD=12,bD=12,Ot1=RD*2,Et1=bD*2,Dt1=B.div(SD||(SD=V(['\n  position: absolute;\n  // below the sequence ruler "top bar"\n  top: 18px;\n  z-index: ',";\n"])),()=>K2.marker),Up=B.div(kD||(kD=V(["\n  position: absolute;\n  ","\n  pointer-events: none;\n"])),H0(RD,bD)),Wt1=Y2.default.memo(()=>Y2.default.createElement(Up,{children:Y2.default.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Y2.default.createElement("path",{d:"M12 5H0V7H2.71973L5.96237 10.2426L9.20501 7H12V5Z",fill:"#40AAA4"}))})),_t1=B.div(AD||(AD=V(["\n  z-index: 1;\n  cursor: ew-resize;\n\n  ","\n\n  // :not dragging marker to ensure that markers don't snap to other markers\n  // this works because only one marker track (so this technique is not used by keyframes...)\n  #pointer-root.draggingPositionInSequenceEditor:not(.draggingMarker) & {\n    ",'\n  }\n\n  // "All instances of this component <Mark/> inside #pointer-root when it has the .draggingPositionInSequenceEditor class"\n  // ref: https://styled-components.com/docs/basics#pseudoelements-pseudoselectors-and-nesting\n  #pointer-root.draggingPositionInSequenceEditor:not(.draggingMarker) &,\n  #pointer-root.draggingPositionInSequenceEditor\n    &.'," {\n    pointer-events: auto;\n    cursor: var(",");\n  }\n\n  &:hover\n    + ",',\n    // notice , "or" in CSS\n    &.',"\n    + "," {\n    ","\n  }\n"])),v4.CSS,v4.CSS_WHEN_SOMETHING_DRAGGING,v4.BEING_DRAGGED_CLASS,F0,Up,v4.BEING_DRAGGED_CLASS,Up,H0(Ot1,Et1)),jt1=({layoutP:t,markerId:a})=>{let c=s1(t.sheet.address),r=s1(Z().atomP.historic.projects.stateByProjectId[c.projectId].stateBySheetId[c.sheetId].sequenceEditor.markerSet.byId[a]);if(!r)return null;let e=s1(t.clippedSpace.width),i=s1(t.clippedSpace.fromUnitSpace)(r.position),o=i<=0||i>e,n=o?-1e4:i,h=o?0:1;return Y2.default.createElement(Dt1,{style:{transform:"translateX(".concat(n,"px) scale(").concat(h,")")}},Y2.default.createElement(qt1,{marker:r,layoutP:t}))},FD=jt1,qt1=({layoutP:t,marker:a})=>{let c=s1(t.sheet.address),[r,e]=z1(null),[l]=Nt1(e,{sheetAddress:c,markerId:a.id}),[i]=Ut1(e,{layoutP:t,marker:a}),{node:o,toggle:n,close:h}=x2({debugName:"MarkerPopover"},()=>Y2.default.createElement(T2,null,Y2.default.createElement(BD,{marker:a,layoutP:t,onRequestClose:h})));return Y2.default.createElement(Y2.default.Fragment,null,l,o,Y2.default.createElement(_t1,S({title:a.label?"Marker: ".concat(a.label):"Marker",ref:r,onClick:v=>{n(v,r.current)}},v4.reactProps({isDragging:i,position:a.position}))),Y2.default.createElement(Wt1,null))}});var Ch,Kt1,PD,GD=x(()=>{"use strict";M1();m1();Ch=P(T());ID();Kt1=({layoutP:t})=>{let a=s1(t.sheet.address),c=Z().atomP.historic.projects.stateByProjectId[a.projectId].stateBySheetId[a.sheetId].sequenceEditor.markerSet,r=s1(c.allIds);return Ch.default.createElement(Ch.default.Fragment,null,r&&Object.keys(r).map(e=>Ch.default.createElement(FD,{key:e,layoutP:t,markerId:e})))},PD=Kt1});var ZD,T5,TD,$t1,Qt1,OD,ED=x(()=>{"use strict";W4();M1();ZD=require("@theatre/dataverse"),T5=P(T());a1();FE();ZE();$E();xD();h8();HD();GD();$t1=B.div(TD||(TD=V(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  z-index: ",";\n  overflow: visible;\n  pointer-events: none;\n"])),()=>K2.rightOverlay),Qt1=({layoutP:t})=>v1(()=>{let a=(0,ZD.val)(t.rightDims.width);return T5.default.createElement($t1,{style:{width:a+"px"}},T5.default.createElement(fD,{layoutP:t}),T5.default.createElement(KE,{layoutP:t}),T5.default.createElement(TE,{layoutP:t}),T5.default.createElement(CE,{layoutP:t}),T5.default.createElement(PD,{layoutP:t}),T5.default.createElement(bE,{layoutP:t}),T5.default.createElement(LD,{layoutP:t}))},[t]),OD=Qt1});var WD,_r,DD,Xt1,Yt1,_D,jD=x(()=>{"use strict";WD=require("@theatre/dataverse");M1();m1();_r=P(T());a1();K8();E2();Xt1=B.button(DD||(DD=V(["\n  outline: none;\n  background-color: #1c1d21;\n  border: 1px solid #191919;\n  border-radius: 2px;\n  display: flex;\n  bottom: 14px;\n  right: 8px;\n  z-index: 1;\n  position: absolute;\n\n  padding: 4px 8px;\n  display: flex;\n  color: #656d77;\n  line-height: 20px;\n  font-size: 10px;\n\n  &:hover {\n    color: white;\n  }\n\n  & > svg {\n    transition: transform 0.3s;\n    transform: rotateZ(0deg);\n  }\n\n  &:hover > svg {\n    transform: rotateZ(-20deg);\n  }\n\n  &.open > svg {\n    transform: rotateZ(-180deg);\n  }\n\n  &.open:hover > svg {\n    transform: rotateZ(-160deg);\n  }\n"]))),Yt1=({layoutP:t})=>{let a=s1(t.graphEditorDims.isOpen),c=(0,_r.useCallback)(()=>{let r=(0,WD.val)(t.graphEditorDims.isOpen);Z().transaction(({stateEditors:e})=>{e.studio.historic.panels.sequenceEditor.graphEditor.setIsOpen({isOpen:!r})})},[t]);return _r.default.createElement(Xt1,S({onClick:c,title:"Toggle graph editor",className:a?"open":""},O2("hide")),_r.default.createElement(QA,null))},_D=Yt1});var G3,Y1,qD,Jt1,ND,ta1,K2,UD,aa1,ca1,ra1,ea1,la1,ia1,KD,oa1,W4=x(()=>{"use strict";x5();M1();Eu();G3=require("@theatre/dataverse"),Y1=P(T());a1();$O();Or();rE();ED();r7();Zu();Ou();E2();N5();H2();jD();b4();K6();Jt1=B(xn)(qD||(qD=V(["\n  z-index: ",";\n  box-shadow: 2px 2px 0 rgb(0 0 0 / 11%);\n"])),M5.sequenceEditorPanel),ta1=B.div(ND||(ND=V(["\n  background-color: rgba(40, 43, 47, 0.99);\n  position: absolute;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  z-index: -1;\n  pointer-events: none;\n"]))),K2=(()=>{let t={rightBackground:0,scrollableArea:0,rightOverlay:0,lengthIndicatorCover:0,lengthIndicatorStrip:0,playhead:0,currentFrameStamp:0,marker:0,horizontalScrollbar:0},a=-1;for(let c of Object.keys(t))t[c]=a,a++;return t})(),aa1=B(mn)(UD||(UD=V(["\n  position: absolute;\n  left: 0;\n  top: 0;\n  z-index: 1;\n"]))),ca1={edges:{left:{from:"screenLeft",distance:.1},right:{from:"screenRight",distance:.2},top:{from:"screenBottom",distance:.4},bottom:{from:"screenBottom",distance:.01}}},ra1={width:800,height:200},ea1=t=>Y1.default.createElement(pn,{panelId:"sequenceEditor",defaultPosition:ca1,minDims:ra1},Y1.default.createElement(la1,null)),la1=()=>{let{dims:t}=D4(),[a,c]=(0,Y1.useState)(null);return Wo(a),v1(()=>{let r=G3.prism.memo("panelSize",()=>{let d=t.width,z=t.height;return{width:d,height:z,widthWithoutBorder:d-2,heightWithoutBorder:z-4,screenX:t.left,screenY:t.top}},[t]),e=x3(c3().filter(d=>H7(d)||c0(d)).map(d=>c0(d)?d.sheet:d));if(x3(e.map(d=>d.template)).length!==1)return Y1.default.createElement(Y1.default.Fragment,null);let i=e[0];if(!i)return Y1.default.createElement(Y1.default.Fragment,null);let o=Hn("panelSizeP",r).pointer,n=G3.prism.memo("key",()=>JSON.stringify(i.address),[i]),h=G3.prism.memo("layout",()=>cE(i,o),[i,o]).getValue();if((0,G3.val)(h.tree.children).length===0)return Y1.default.createElement(Y1.default.Fragment,null);let v=G3.prism.memo("containerRef",oa1,[]),g=(0,G3.val)(h.graphEditorDims.isAvailable),s=(0,G3.val)(h.graphEditorDims.isOpen);return Y1.default.createElement(Jt1,{ref:d=>{v(d),d!==a&&c(d)}},Y1.default.createElement(ta1,{style:{width:"".concat((0,G3.val)(h.leftDims.width),"px")}}),Y1.default.createElement(ZG,{layoutP:h},Y1.default.createElement(ia1,{layoutP:h}),Y1.default.createElement(KO,{key:n+"-dopeSheet",layoutP:h}),s&&Y1.default.createElement(wO,{key:n+"-graphEditor",layoutP:h}),g&&Y1.default.createElement(_D,{layoutP:h}),Y1.default.createElement(OD,{layoutP:h})))},[t,a])},ia1=({layoutP:t})=>v1(()=>{let a=(0,G3.val)(t.sheet);return Y1.default.createElement(aa1,{style:{width:(0,G3.val)(t.leftDims.width)}},Y1.default.createElement(io,null,Y1.default.createElement(f5,null,a.address.sheetId," "),Y1.default.createElement(R9,null,":","\xA0"),Y1.default.createElement(f5,null,a.address.sheetInstanceId," "),Y1.default.createElement(R9,null,"\xA0",">","\xA0"),Y1.default.createElement(f5,null,"Sequence")))},[t]),KD=ea1,oa1=()=>{let t=null,a={passive:!1,capture:!1},c=r=>{Math.abs(r.deltaY)<Math.abs(r.deltaX)&&(r.preventDefault(),r.stopPropagation())};return r=>{t!==r&&t&&t.removeEventListener("wheel",c,a),t=r,r&&r.addEventListener("wheel",c,a)}}});var u7,na1,$D,QD=x(()=>{"use strict";Kk();Fo();u7=P(T());m1();M1();iG();W4();na1=()=>{let t=s1(Z().paneManager.allPanesD),a=Object.entries(t).map(([c,r])=>u7.default.createElement(lG,{key:"pane-".concat(c),paneInstance:r}));return u7.default.createElement(u7.default.Fragment,null,a,u7.default.createElement(Uk,null),u7.default.createElement(wP,null),u7.default.createElement(KD,null))},$D=na1});var XD,ha1,YD,JD=x(()=>{"use strict";a1();vr();ha1=B(V5)(XD||(XD=V(["\n  --popover-outer-stroke: #e11c1c;\n  --popover-inner-stroke: #2c1c1c;\n  --popover-bg: #2c1c1c;\n  pointer-events: none !important;\n"]))),YD=ha1});var aW=L1((ND1,tW)=>{var Lh,Kp;Lh=[];Kp=[];function va1(t,a,c){var r,e,l,i,o,n,h,v;if(t===a)return 0;if(r=t.length,e=a.length,r===0)return e;if(e===0)return r;for(c&&(t=t.toLowerCase(),a=a.toLowerCase()),h=0;h<r;)Kp[h]=t.charCodeAt(h),Lh[h]=++h;for(v=0;v<e;)for(l=a.charCodeAt(v),i=o=v++,h=-1;++h<r;)n=l===Kp[h]?o:o+1,o=Lh[h],Lh[h]=i=o>i?n>i?i+1:n:n>o?o+1:n;return i}tW.exports=va1});var eW=L1((UD1,rW)=>{var cW=aW();function ga1(){var t,a,c,r,e,l=0,i=arguments[0],o=arguments[1],n=o.length,h=arguments[2];h&&(r=h.threshold,e=h.ignoreCase),r===void 0&&(r=0);for(var v=0;v<n;++v)e?a=cW(i,o[v],!0):a=cW(i,o[v]),a>i.length?t=1-a/o[v].length:t=1-a/i.length,t>l&&(l=t,c=o[v]);return l>=r?c:null}rW.exports=ga1});function $p(t,a,c="Did you mean ",r="?"){let e=(0,lW.default)(t,a,{threshold:.7});return e?c+JSON.stringify(e)+r:""}var lW,iW=x(()=>{"use strict";lW=P(eW())});function Hh(t,a){return t.length<=a?t:t.substr(0,a-3)+"..."}var oW=x(()=>{"use strict"});var da1,Vh,Qp=x(()=>{"use strict";oW();da1=t=>typeof t=="string"?'string("'.concat(Hh(t,10),'")'):typeof t=="number"?"number(".concat(Hh(String(t),10),")"):t===null?"null":t===void 0?"undefined":typeof t=="boolean"?String(t):Array.isArray(t)?"array":typeof t=="object"?"object":"unknown",Vh=da1});var nW,sa1,wh,Xp=x(()=>{"use strict";a1();T6();sa1=B(sz)(nW||(nW=V(["\n  display: flex;\n  height: fit-content;\n  backdrop-filter: blur(14px);\n  border-radius: 2px;\n"]))),wh=sa1});var Gt,hW,za1,ua1,Y4,Tt=x(()=>{"use strict";a1();G1();Gt=P(T());nt();Dc();Au();Xp();za1=B.button(hW||(hW=V(["\n  ",";\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 14px;\n  font-weight: 600;\n  width: 32px;\n  height: 32px;\n  outline: none;\n\n  color: #a8a8a9;\n\n  background: rgba(40, 43, 47, 0.8);\n  backdrop-filter: blur(14px);\n  border: none;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.08);\n  border-radius: 2px;\n\n  svg {\n    display: block;\n  }\n\n  &:hover {\n    background: rgba(59, 63, 69, 0.8);\n  }\n\n  &:active {\n    background: rgba(82, 88, 96, 0.8);\n  }\n\n  &.selected {\n    color: rgba(255, 255, 255, 0.8);\n    border-bottom: 1px solid rgba(255, 255, 255, 0.7);\n  }\n\n  // Don't blur if in a button group, because it already blurs. We need to blur\n  // on the group-level, otherwise we get seams.\n  "," > & {\n    backdrop-filter: none;\n    filter: none;\n    border-radius: 0;\n\n    &:first-child {\n      border-top-left-radius: 2px;\n      border-bottom-left-radius: 2px;\n    }\n\n    &:last-child {\n      border-bottom-right-radius: 2px;\n      border-top-right-radius: 2px;\n    }\n  }\n\n  @supports not (backdrop-filter: blur()) {\n    background: rgba(40, 43, 47, 0.95);\n  }\n"])),x1,wh),ua1=Gt.default.forwardRef((r,c)=>{var e=r,{title:t}=e,a=m4(e,["title"]);let[l,i]=R3({enabled:typeof t=="string"},()=>Gt.default.createElement(gn,null,t));return Gt.default.createElement(Gt.default.Fragment,null,l,Gt.default.createElement(za1,S({ref:D6([i,c])},a))," ")}),Y4=ua1});var gW,vW,pa1,ma1,dW,sW=x(()=>{"use strict";gW=P(T());Tt();a1();G1();pa1=B(Y4)(vW||(vW=V(["\n  ",";\n  & > svg {\n    width: 1em;\n    height: 1em;\n    pointer-events: none;\n  }\n"])),x1),ma1=({config:t,testId:a})=>{var c;return gW.default.createElement(pa1,{onClick:t.onClick,"data-testid":a,title:t.title,dangerouslySetInnerHTML:{__html:(c=t.svgSource)!=null?c:""}})},dW=ma1});function Ma1({value:t,label:a,icon:c,onClick:r,isSelected:e}){return Zt.default.createElement(Zt.default.Fragment,null,Zt.default.createElement(Y4,{forwardedAs:dz,className:e?"selected":void 0,"aria-label":a,onClick:r,title:a},c))}var Zt,fa1,zW,uW=x(()=>{"use strict";Zt=P(T());T6();Tt();Xp();fa1=({value:t,onChange:a,options:c})=>Zt.default.createElement(wh,null,c.map(({label:r,icon:e,value:l})=>Zt.default.createElement(Ma1,{key:l,value:l,isSelected:t===l,label:r,icon:e,onClick:()=>a(l)}))),zW=fa1});var Yp,pW,xa1,Ca1,mW,MW=x(()=>{"use strict";Yp=P(T());a1();G1();uW();xa1=B.div(pW||(pW=V(["\n  ",";\n  & > svg {\n    width: 1em;\n    height: 1em;\n    pointer-events: none;\n  }\n"])),x1),Ca1=({config:t})=>Yp.default.createElement(zW,{onChange:t.onChange,options:t.options.map(({label:a,value:c,svgSource:r})=>({label:a,value:c,icon:Yp.default.createElement(xa1,{dangerouslySetInnerHTML:{__html:r}})})),value:t.value}),mW=Ca1});var Ot,fW,La1,Ha1,xW,CW=x(()=>{"use strict";Ot=P(T());a1();G1();Tt();eu();c4();La1=B.div(fW||(fW=V(["\n  ",";\n  & > svg {\n    width: 1em;\n    height: 1em;\n    pointer-events: none;\n  }\n"])),x1),Ha1=({config:t})=>{let a=(0,Ot.useRef)(null),c=x2(()=>{let r=a.current.getBoundingClientRect();return{debugName:"ExtensionFlyoutMenu:"+t.label,constraints:{maxX:r.right,maxY:8,minX:r.left,minY:8},verticalGap:2}},()=>Ot.default.createElement(Oo,{items:t.items.map((r,e)=>({label:r.label,callback:()=>{var l;try{(l=r.onClick)==null||l.call(r)}catch(i){console.error(i)}}})),onRequestClose:()=>{c.close("clicked")}}));return Ot.default.createElement(La1,null,c.node,Ot.default.createElement(Y4,{ref:a,onClick:r=>{c.open(r,a.current)}},t.label))},xW=Ha1});function wa1(t){return LW[t]}var jr,Va1,LW,Ba1,HW,VW=x(()=>{"use strict";iW();Qp();jr=P(T());sW();MW();CW();Va1=t=>jr.default.createElement(jr.default.Fragment,null,t.config.map((a,c)=>jr.default.createElement(Ba1,{config:a,key:c}))),LW={Icon:dW,Switch:mW,Flyout:xW};Ba1=({config:t})=>{let a=wa1(t.type);if(!a)throw new Error("No tool with tool.type ".concat(Vh(t.type)," exists. Did you mean ").concat($p(t.type,Object.keys(LW))));return jr.default.createElement(a,{config:t})},HW=Va1});var SW,T3,BW,ya1,yW,wW,Sa1,ka1,Bh,Jp=x(()=>{"use strict";SW=require("@theatre/dataverse");M1();m1();T3=P(T());a1();VW();ya1=B.div(BW||(BW=V(["\n  height: 36px;\n  /* pointer-events: none; */\n\n  display: flex;\n  gap: 0.5rem;\n  justify-content: center;\n"]))),wW=B.div(yW||(yW=V(["\n  position: abolute;\n  height: 32px;\n  width: 1px;\n  background: #373b40;\n  opacity: 0.4;\n"]))),Sa1=({extension:t,toolbarId:a})=>{var l;let c=(0,T3.useMemo)(()=>new SW.Atom([]),[]),r=(l=t.toolbars)==null?void 0:l[a];(0,T3.useLayoutEffect)(()=>{let i=r==null?void 0:r(c.set.bind(c),Z().publicApi);if(typeof i=="function")return i},[t,a,r]);let e=s1(c.prism);return T3.default.createElement(HW,{config:e})},ka1=({toolbarId:t,showLeftDivider:a})=>{var l;let c=[],r=s1(Z().atomP.ephemeral.extensions.byId),e=!1;for(let[,i]of Object.entries(r))!i||!((l=i.toolbars)!=null&&l[t])||(c.push(T3.default.createElement(T3.default.Fragment,{key:"extensionToolbar-"+i.id},e?T3.default.createElement(wW,null):void 0,T3.default.createElement(Sa1,{extension:i,toolbarId:t}))),e=!0);return c.length===0?null:T3.default.createElement(ya1,{"data-testid":"theatre-extensionToolbar-".concat(t)},a?T3.default.createElement(wW,null):void 0,c)},Bh=ka1});var p7,kW,Aa1,Ra1,yh,AW=x(()=>{"use strict";a1();p7=P(T());Tt();Aa1=B(Y4)(kW||(kW=V(["\n  color: ",";\n\n  border-bottom: 1px solid\n    ",";\n"])),({pinned:t})=>t?"rgba(255, 255, 255, 0.8)":"#A8A8A9",({pinned:t})=>t?"rgba(255, 255, 255, 0.7)":"rgba(255, 255, 255, 0.08)"),Ra1=(0,p7.forwardRef)((n,o)=>{var h=n,{children:t,hint:a,pinned:c,icon:r,pinHintIcon:e,unpinHintIcon:l}=h,i=m4(h,["children","hint","pinned","icon","pinHintIcon","unpinHintIcon"]);let[v,g]=(0,p7.useState)(!1),s=v||a;return p7.default.createElement(Aa1,W(S({},i),{pinned:c,ref:o,onMouseOver:()=>g(!0),onMouseOut:()=>g(!1)}),p7.default.createElement("div",{style:{pointerEvents:"none",width:"fit-content",height:"fit-content",inset:0}},s&&!c?e:s&&c?l:r),t)}),yh=Ra1});function ba1(t){return tm.createElement("svg",S({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),tm.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.732 4.048l-.792-.792L7.2 8l4.74 4.744.792-.792L8.781 8l3.951-3.952zm-3.932 0l-.792-.792L3.268 8l4.74 4.744.792-.792L4.848 8 8.8 4.048z",fill:"currentColor"}))}var tm,am,RW=x(()=>{"use strict";tm=P(T());am=ba1});function Fa1(t){return cm.createElement("svg",S({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),cm.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.694 3.765l.792-.792 4.74 4.744-4.74 4.744-.792-.793 3.951-3.951-3.951-3.952zm3.932 0l.792-.792 4.74 4.744-4.74 4.744-.792-.793 3.952-3.951-3.952-3.952z",fill:"currentColor"}))}var cm,rm,bW=x(()=>{"use strict";cm=P(T());rm=Fa1});var y2,IW,Ia1,PW,_W,GW,m7,TW,Pa1,ZW,Ga1,OW,Ta1,EW,Za1,DW,em,WW,Oa1,jW,FW,Ea1,qW,NW=x(()=>{"use strict";M1();m1();y2=P(T());a1();Ia1=B.div(IW||(IW=V(["\n  width: 138px;\n  border-radius: 2px;\n  background-color: rgba(42, 45, 50, 0.9);\n  position: absolute;\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n  justify-content: flex-start;\n  box-shadow: 0px 1px 1px rgba(0, 0, 0, 0.25), 0px 2px 6px rgba(0, 0, 0, 0.15);\n  backdrop-filter: blur(14px);\n  pointer-events: auto;\n  // makes the edges of the item highlights match the rounded corners\n  overflow: hidden;\n\n  @supports not (backdrop-filter: blur()) {\n    background-color: rgba(42, 45, 50, 0.98);\n  }\n\n  color: rgba(255, 255, 255, 0.9);\n\n  & a {\n    // Fix colors of links to not be default\n    color: inherit;\n  }\n"]))),_W=B.div(PW||(PW=V(["\n  position: relative;\n  padding: 0px 12px;\n  font-weight: 400;\n  font-size: 11px;\n  height: 32px;\n  text-decoration: none;\n  user-select: none;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  cursor: default;\n"]))),m7=B(_W)(GW||(GW=V(["\n  &:before {\n    position: absolute;\n    display: block;\n    content: ' ';\n    inset: 3px;\n    border-radius: 3px;\n    background: rgba(255, 255, 255, 0.1);\n    opacity: 0;\n  }\n\n  &.secondary {\n    color: rgba(255, 255, 255, 0.5);\n  }\n\n  &:hover {\n    /* background-color: #398995; */\n    color: white !important;\n    &:before {\n      opacity: 1;\n    }\n  }\n"]))),Pa1=B(_W)(TW||(TW=V(["\n  height: auto;\n  min-height: 32px;\n  padding-top: 12px;\n  padding-bottom: 10px;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: stretch;\n  gap: 8px;\n  color: rgba(255, 255, 255, 0.5);\n"]))),Ga1=B.div(ZW||(ZW=V(["\n  font-weight: 600;\n"]))),Ta1=B.div(OW||(OW=V(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n"]))),Za1=B.div(EW||(EW=V(["\n  margin-left: 2px;\n"]))),em=B.div(DW||(DW=V(["\n  height: 1px;\n  margin: 0 2px;\n  background: rgba(255, 255, 255, 0.02);\n"]))),Oa1=B.div(WW||(WW=V(["\n  position: absolute;\n  width: 8px;\n  height: 8px;\n  background: #40aaa4;\n  right: 14px;\n  top: 12px;\n  border-radius: 50%;\n"]))),jW="0.7.0",FW=jW.match(/^[^\-]+/)[0],Ea1=y2.default.forwardRef((t,a)=>{let c=s1(Z().atomP.ahistoric.updateChecker.result.hasUpdates);return y2.default.createElement(Ia1,{ref:a},y2.default.createElement(m7,{as:"a",href:"https://www.theatrejs.com/docs/latest",className:"",target:"_blank"},"Docs"),y2.default.createElement(m7,{as:"a",href:"https://www.theatrejs.com/docs/latest/releases",className:"",target:"_blank"},"Changelog"),y2.default.createElement(em,null),y2.default.createElement(m7,{as:"a",href:"https://github.com/theatre-js/theatre",className:"",target:"_blank"},"Github"),y2.default.createElement(m7,{as:"a",href:"https://twitter.com/theatre_js",className:"",target:"_blank"},"Twitter"),y2.default.createElement(m7,{className:"",as:"a",href:"https://discord.gg/bm9f8F9Y9N",target:"_blank"},"Discord"),y2.default.createElement(em,null),y2.default.createElement(Pa1,null,y2.default.createElement(Ga1,null,"Version"),y2.default.createElement(Ta1,null,y2.default.createElement(Za1,null,jW," ",c===!0?"(outdated)":c===!1?"(latest)":""))),c===!0&&y2.default.createElement(y2.default.Fragment,null,y2.default.createElement(em,null),y2.default.createElement(m7,{as:"a",href:"https://www.theatrejs.com/docs/latest/releases".concat(encodeURIComponent(FW)),className:"",target:"_blank"},"Update",y2.default.createElement(Oa1,null)),y2.default.createElement(m7,{as:"a",href:"https://www.theatrejs.com/docs/latest/releases#".concat(encodeURIComponent(FW)),className:"",target:"_blank"},"What's new?")))}),qW=Ea1});var E1,a_,QW,Da1,XW,Wa1,YW,UW,JW,KW,t_,m_1,$W,_a1,c_,r_=x(()=>{"use strict";M1();m1();E1=P(T());a1();nt();JD();vr();a_=require("@theatre/dataverse");Jp();AW();b9();RW();bW();Tt();c4();NW();vt();Da1=B.div(QW||(QW=V(["\n  height: 36px;\n  pointer-events: none;\n\n  display: flex;\n  justify-content: space-between;\n  padding: 12px;\n"]))),Wa1=B.div(XW||(XW=V(["\n  color: white;\n  width: 14px;\n  height: 14px;\n  background: #d00;\n  border-radius: 4px;\n  text-align: center;\n  line-height: 14px;\n  font-weight: 600;\n  font-size: 8px;\n  position: relative;\n  left: -6px;\n  top: -11px;\n  margin-right: -14px;\n  box-shadow: 0 4px 6px -4px #00000059;\n"]))),UW=B.div(YW||(YW=V(["\n  display: flex;\n  gap: 8px;\n"]))),KW=B.div(JW||(JW=V(["\n  position: absolute;\n  background: ",";\n  width: 6px;\n  height: 6px;\n  border-radius: 50%;\n  right: -2px;\n  top: -2px;\n"])),({type:t})=>t==="info"?"#40aaa4":"#f59e0b"),m_1=B.div(t_||(t_=V(["\n  position: absolute;\n  height: 32px;\n  width: 1px;\n  background: #373b40;\n  opacity: 0.4;\n"]))),$W=!1,_a1=()=>{var s,d,z;let t=v1(()=>{let u=(0,a_.val)(Z().atomP.ephemeral.coreByProject);return Object.entries(u).map(([M,m])=>({projectId:M,state:m})).filter(({state:M})=>M.loadingState.type==="browserStateIsNotBasedOnDiskState")},[]),[a,c]=R3({enabled:t.length>0,enterDelay:t.length>0?0:200},()=>t.length>0?E1.default.createElement(YD,null,t.length===1?'There is a state conflict in project "'.concat(t[0].projectId,'". Select the project in the outline below in order to fix it.'):"There are ".concat(t.length," projects that have state conflicts. They are highlighted in the outline below. ")):E1.default.createElement(V5,null,E1.default.createElement(E1.default.Fragment,null,"Outline"))),r=(s=s1(Z().atomP.ahistoric.pinOutline))!=null?s:!0,e=(d=s1(Z().atomP.ahistoric.pinDetails))!=null?d:!0,l=s1(Z().atomP.ahistoric.updateChecker.result.hasUpdates)===!0,i=x2(()=>{let u=o.current.getBoundingClientRect();return{debugName:"More Menu",constraints:{maxX:u.right,maxY:8,minX:u.left-140,minY:8},verticalGap:2}},()=>E1.default.createElement(qW,null)),o=(0,E1.useRef)(null),n=(0,E1.useMemo)(()=>(window.__IS_VISUAL_REGRESSION_TESTING&&($W||($W=!0,console.warn("Visual regression testing enabled, so we're showing the updates badge unconditionally"))),l||window.__IS_VISUAL_REGRESSION_TESTING?!0:l),[l]),{hasNotifications:h}=Fu(),[v,g]=cP();return E1.default.createElement(Da1,null,E1.default.createElement(UW,null,a,E1.default.createElement(yh,{ref:c,"data-testid":"OutlinePanel-TriggerButton",onClick:()=>{Z().transaction(({stateEditors:u,drafts:M})=>{var m;u.studio.ahistoric.setPinOutline(!((m=M.ahistoric.pinOutline)==null||m))})},icon:E1.default.createElement(Pc,null),pinHintIcon:E1.default.createElement(rm,null),unpinHintIcon:E1.default.createElement(am,null),pinned:r}),t.length>0?E1.default.createElement(Wa1,null,t.length):null,E1.default.createElement(Bh,{showLeftDivider:!0,toolbarId:"global"})),E1.default.createElement(UW,null,v,E1.default.createElement(yh,{ref:g,onClick:()=>{Z().transaction(({stateEditors:u,drafts:M})=>{var m;u.studio.ahistoric.setPinNotifications(!((m=M.ahistoric.pinNotifications)!=null&&m))})},icon:E1.default.createElement(Tc,null),pinHintIcon:E1.default.createElement(Tc,null),unpinHintIcon:E1.default.createElement(Tc,null),pinned:(z=s1(Z().atomP.ahistoric.pinNotifications))!=null?z:!1},h&&E1.default.createElement(KW,{type:"warning"})),i.node,E1.default.createElement(Y4,{ref:o,onClick:u=>{i.toggle(u,o.current)}},E1.default.createElement(Hz,null),n&&E1.default.createElement(KW,{type:"info"})),E1.default.createElement(yh,{ref:c,onClick:()=>{Z().transaction(({stateEditors:u,drafts:M})=>{var m;u.studio.ahistoric.setPinDetails(!((m=M.ahistoric.pinDetails)==null||m))})},icon:E1.default.createElement(Cz,null),pinHintIcon:E1.default.createElement(am,null),unpinHintIcon:E1.default.createElement(rm,null),pinned:e})))},c_=_a1});var e_,qr,l_,Sh,ja1,i_,o_,qa1,lm=x(()=>{"use strict";e_=require("@theatre/dataverse");M1();qr=P(T()),l_=P(B4()),Sh=new e_.Atom({set:{},byId:{}}),ja1=1,i_=()=>{let t=ja1++;function a(r,e,l){Sh.reduce(i=>({byId:W(S({},i.byId),{[t]:{comp:r,props:e,portalNode:l}}),set:W(S({},i.set),{[t]:!0})}))}function c(){Sh.reduce(r=>{let e=S({},r.set),l=S({},r.byId);return delete e[t],{byId:l,set:e}})}return{mountOrRender:a,unmount:c}},o_=()=>{let t=Object.keys(s1(Sh.pointer.set));return qr.default.createElement(qr.default.Fragment,null,t.map(a=>qr.default.createElement(qa1,{key:"id-"+a,id:a})))},qa1=({id:t})=>{let{comp:a,portalNode:c,props:r}=s1(Sh.pointer.byId[t]);return(0,l_.createPortal)(qr.default.createElement(a,S({},r)),c)}});function om(t){let a=Z(),[c,r]=z1(void 0),e=Dr();e.configureLogging({min:128,dev:n_,internal:n_});let l=e.getLogger().named("Theatre.js UIRoot");qp();let i=s1(a.atomP.ahistoric.visibilityState);return(0,W2.useEffect)(()=>(i==="everythingIsHidden"&&console.warn("Theatre.js Studio is hidden. Use the keyboard shortcut 'alt + \\' to restore the studio, or call studio.ui.restore()."),()=>{}),[i]),v1(()=>{let n=(0,im.val)(a.atomP.ahistoric.visibilityState);return(0,im.val)(a.atomP.ephemeral.initialised)?W2.default.createElement(zo,{logger:l},W2.default.createElement(mI,null,W2.default.createElement(nA,null,W2.default.createElement(Ka1,null),W2.default.createElement(a3.Provider,{value:r},W2.default.createElement(pz,{target:window.__IS_VISUAL_REGRESSION_TESTING===!0?void 0:t.containerShadow},W2.default.createElement(W2.default.Fragment,null,W2.default.createElement(Na1,null),W2.default.createElement(Ua1,{className:n==="everythingIsHidden"?"invisible":""},W2.default.createElement(uz,{ref:c}),W2.default.createElement(c_,null),W2.default.createElement($D,null),W2.default.createElement(rP,null)))))))):null},[a,c,r])}var im,W2,h_,Na1,v_,Ua1,g_,n_,Ka1,d_=x(()=>{"use strict";m1();M1();im=require("@theatre/dataverse"),W2=P(T());a1();QD();r_();P1();T6();fh();I0();Bu();po();lm();G1();Wr();C5();vt();Na1=typeof window!="undefined"?Ti(h_||(h_=V(["\n  :host {\n    contain: strict;\n  }\n"]))):{},Ua1=B(lA)(v_||(v_=V(["\n  z-index: 50;\n  position: fixed;\n  inset: 0;\n\n  &.invisible {\n    pointer-events: none !important;\n    opacity: 0;\n    transform: translateX(1000000px);\n  }\n"]))),n_=/Playground.+Theatre\.js/.test((g_=typeof document!="undefined"?document==null?void 0:document.title:null)!=null?g_:"");Ka1=()=>W2.default.createElement(o_,null)});var z_=L1(nm=>{"use strict";var s_=B4();nm.createRoot=s_.createRoot,nm.hydrateRoot=s_.hydrateRoot;var D_1});var m_={};fM(m_,{default:()=>kh});var u_,p_,kh,M_=x(()=>{"use strict";d_();u_=P(T()),p_=P(z_());lm();G1();Jp();kh=class{constructor(){y1(this,"containerEl",document.createElement("div"));y1(this,"_renderTimeout");y1(this,"_documentBodyUIIsRenderedIn");y1(this,"containerShadow");this.containerEl.id="theatrejs-studio-root",this.containerEl.style.cssText="\n      position: fixed;\n      top: 0;\n      right: 0;\n      bottom: 0;\n      left: 0;\n      pointer-events: none;\n      z-index: 100;\n    ";let a=()=>{if(window.__IS_VISUAL_REGRESSION_TESTING===!0){let c=document.createElement("div");return c.id="theatrejs-faux-shadow-root",document.body.appendChild(c),c}else return this.containerEl.attachShadow({mode:"open"})};this.containerShadow=a()}render(){let a=()=>{if(!document.body){this._renderTimeout=setTimeout(a,5);return}this._renderTimeout=void 0,this._documentBodyUIIsRenderedIn=document.body,this._documentBodyUIIsRenderedIn.appendChild(this.containerEl),p_.default.createRoot(this.containerShadow).render(u_.default.createElement(om,{containerShadow:this.containerShadow}))};this._renderTimeout=setTimeout(a,10)}renderToolset(a,c){let r=i_();return r.mountOrRender(qS(Bh),{toolbarId:a},c),r.unmount}}});var C_=L1(Dt=>{Dt.compare=Ja1;Dt.reduce=tc1;var Xa1,Ah,Ya1,Rh,Et;Dt.REMOVE=Xa1=Ah=-1;Dt.ADD=Ya1=Rh=1;Dt.EQUAL=Et=0;function Ja1(t,a){var c=t.length,r=a.length,e=ac1(t,a),l=e<c&&e<r?cc1(t,a,e):0,i=l+e-1;c-=i,r-=i;for(var o=ec1(c,r),n=c-1;n>=0;--n)for(var h=r-1;h>=0;--h)o[h][n]=rc1(o,t,a,e,n,h);return{prefix:e,matrix:o,suffix:l}}function tc1(t,a,c){var r,e,l,i,o=c.matrix,n=c.prefix;for(r=0;r<n;++r)a=t(a,Et,r,r);for(l=r,n=o.length,r=0,e=0;r<n;)switch(i=o[r][e].type,a=t(a,i,r+l,e+l),i){case Et:++r,++e;break;case Ah:++e;break;case Rh:++r;break}for(r+=l,e+=l,n=c.suffix,l=0;l<n;++l)a=t(a,Et,r+l,e+l);return a}function ac1(t,a){for(var c=0,r=Math.min(t.length,a.length);c<r&&t[c]===a[c];)++c;return c}function cc1(t,a){for(var c=t.length-1,r=a.length-1,e=Math.min(c,r),l=0;l<e&&t[c-l]===a[r-l];)++l;return l}function rc1(t,a,c,r,e,l){return a[e+r]===c[l+r]?{value:t[l+1][e+1].value,type:Et}:t[l][e+1].value<t[l+1][e].value?{value:t[l][e+1].value+1,type:Ah}:{value:t[l+1][e].value+1,type:Rh}}function ec1(t,a){var c=[],r,e,l;for(l=c[a]=[],e=0;e<t;++e)l[e]={value:t-e,type:Ah};for(r=0;r<a;++r)c[r]=[],c[r][t]={value:a-r,type:Rh};return c[a][t]={value:0,type:Et},c}});var hm=L1(bh=>{bh.cons=lc1;bh.tail=ic1;bh.map=oc1;function lc1(t,a){var c=a.length,r=new Array(c+1);r[0]=t;for(var e=0;e<c;++e)r[e+1]=a[e];return r}function ic1(t){for(var a=t.length-1,c=new Array(a),r=0;r<a;++r)c[r]=t[r+1];return c}function oc1(t,a){for(var c=new Array(a.length),r=0;r<a.length;++r)c[r]=t(a[r]);return c}});var H_=L1((J_1,L_)=>{L_.exports=vc1;var Fh=/\/|~1|~0/g,vm="/",nc1="~",hc1="~1";function vc1(t,a){var c,r,e,l;for(c=t.charAt(0)===vm?1:0,r="",Fh.lastIndex=c;e=Fh.exec(t);)if(l=e[0],r+=t.slice(c,Fh.lastIndex-l.length),c=Fh.lastIndex,l===vm){if(a(r)===!1)return t;r=""}else r+=l===hc1?vm:nc1;return r+=t.slice(c),a(r),t}});var Ih=L1(J4=>{var V_=H_();J4.find=Mc1;J4.join=xc1;J4.absolute=fc1;J4.parse=Cc1;J4.contains=Lc1;J4.encodeSegment=Vc1;J4.decodeSegment=Hc1;J4.parseArrayIndex=gm;J4.isValidArrayIndex=w_;var Wt="/",gc1=/\//g,dc1="~1",sc1=/~1/g,zc1="~",uc1=/~/g,pc1="~0",mc1=/~0/g;function Mc1(t,a,c,r){if(typeof a=="string"){if(a==="")return{target:t,key:void 0};if(a===Wt)return{target:t,key:""};var e=t,l,i=r!==void 0;return V_(a,function(o){if(t==null)return e=null,!1;Array.isArray(t)?l=i?Bc1(c,gm(o),t,r):o==="-"?o:gm(o):l=o,e=t,t=t[l]}),e===null?void 0:{target:e,key:l}}}function fc1(t){return t[0]===Wt?t:Wt+t}function xc1(t){return t.join(Wt)}function Cc1(t){var a=[];return V_(t,a.push.bind(a)),a}function Lc1(t,a){return a.indexOf(t)===0&&a[t.length]===Wt}function Hc1(t){return t.replace(sc1,Wt).replace(mc1,zc1)}function Vc1(t){return t.replace(uc1,pc1).replace(gc1,dc1)}var wc1=/^(0|[1-9]\d*)$/;function w_(t){return wc1.test(t)}function gm(t){if(w_(t))return+t;throw new SyntaxError("invalid array index "+t)}function Bc1(t,a,c,r){var e=a;if(e<0)throw new Error("array index out of bounds "+e);if(r!==void 0&&typeof t=="function"&&(e=t(a,c,r),e<0))throw new Error("could not find patch context "+r);return e}});var sm=L1((aj1,B_)=>{B_.exports=dm;function dm(t){return t==null||typeof t!="object"?t:Array.isArray(t)?yc1(t):Sc1(t)}function yc1(t){for(var a=t.length,c=new Array(a),r=0;r<a;++r)c[r]=dm(t[r]);return c}function Sc1(t){for(var a=Object.keys(t),c={},r,e=0,l=a.length;e<l;++e)r=a[e],c[r]=dm(t[r]);return c}});var S_=L1((cj1,y_)=>{y_.exports=zm;function zm(t,a){return t===a?!0:Array.isArray(t)&&Array.isArray(a)?kc1(t,a):typeof t=="object"&&typeof a=="object"?Ac1(t,a):!1}function kc1(t,a){if(t.length!==a.length)return!1;for(var c=0;c<t.length;++c)if(!zm(t[c],a[c]))return!1;return!0}function Ac1(t,a){if(t===null&&a!==null||t!==null&&a===null)return!1;var c=Object.keys(t),r=Object.keys(a);if(c.length!==r.length)return!1;for(var e=0,l;e<c.length;++e)if(l=c[e],!(l in a&&zm(t[l],a[l])))return!1;return!0}});var b_=L1((rj1,R_)=>{var u0=Ih();R_.exports=function(a,c){var r=u0.parse(a.path),e=u0.parse(c.path),l=Pc1(r,e),i=Fc1(r,e,l.length),o=A_(a),n=A_(c);return l.length===0&&!i?[n,o]:i?bc1(o,r,n,e):Rc1(o,r,n,e)};function Rc1(t,a,c,r){if(t.path===c.path)throw new TypeError("cannot commute "+t.op+","+c.op+" with identical object paths");return[c,t]}function bc1(t,a,c,r){return a.length===r.length?Ic1(t,a,c,r):(a.length>r.length?(a=k_(c,r,t,a,-1),t.path=u0.absolute(u0.join(a))):(r=k_(t,a,c,r,1),c.path=u0.absolute(u0.join(r))),[c,t])}function Fc1(t,a,c){return u0.isValidArrayIndex(t[c])&&u0.isValidArrayIndex(a[c])}function Ic1(t,a,c,r){var e=a.length-1,l=+a[e],i=+r[e],o;return l<i?t.op==="add"||t.op==="copy"?(o=r.slice(),o[e]=Math.max(0,i-1),c.path=u0.absolute(u0.join(o))):t.op==="remove"&&(o=r.slice(),o[e]=i+1,c.path=u0.absolute(u0.join(o))):c.op==="add"||c.op==="copy"?(o=a.slice(),o[e]=l+1,t.path=u0.absolute(u0.join(o))):l>i&&c.op==="remove"&&(o=a.slice(),o[e]=Math.max(0,l-1),t.path=u0.absolute(u0.join(o))),[c,t]}function k_(t,a,c,r,e){var l=a.length-1,i=+a[l],o=+r[l],n=r.slice();return i>o||(t.op==="add"||t.op==="copy"?n[l]=Math.max(0,o-e):t.op==="remove"&&(n[l]=Math.max(0,o+e))),n}function Pc1(t,a){var c=t.length,r=a.length;if(c===0||r===0||c<2&&r<2)return[];for(var e=c===r?c-1:Math.min(c,r),l=0;l<e&&t[l]===a[l];)++l;return t.slice(0,l)}function A_(t){return t.op==="remove"?{op:t.op,path:t.path}:t.op==="copy"||t.op==="move"?{op:t.op,path:t.path,from:t.from}:{op:t.op,path:t.path,value:t.value}}});var um=L1((ej1,F_)=>{F_.exports=Ph;function Ph(t){Error.call(this),this.name=this.constructor.name,this.message=t,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,this.constructor)}Ph.prototype=Object.create(Error.prototype);Ph.prototype.constructor=Ph});var Th=L1((lj1,I_)=>{I_.exports=Gh;function Gh(t){Error.call(this),this.name=this.constructor.name,this.message=t,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,this.constructor)}Gh.prototype=Object.create(Error.prototype);Gh.prototype.constructor=Gh});var pm=L1((ij1,P_)=>{P_.exports=Zh;function Zh(t){Error.call(this),this.name=this.constructor.name,this.message=t,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,this.constructor)}Zh.prototype=Object.create(Error.prototype);Zh.prototype.constructor=Zh});var Cm=L1(M7=>{var mm=Ih(),Mm=sm(),Gc1=S_(),Ur=b_(),Oh=hm(),Tc1=um(),t5=Th(),fm=pm(),d8=mm.find,Eh=mm.parseArrayIndex;M7.test={apply:Zc1,inverse:Oc1,commute:Ec1};M7.add={apply:Dc1,inverse:Wc1,commute:G_};M7.remove={apply:Nc1,inverse:Uc1,commute:Kc1};M7.replace={apply:_c1,inverse:jc1,commute:qc1};M7.move={apply:$c1,inverse:Qc1,commute:Xc1};M7.copy={apply:Yc1,inverse:Jc1,commute:G_};function Zc1(t,a,c){var r=d8(t,a.path,c.findContext,a.context),e=r.target,l,i;if(Array.isArray(e)?(l=Eh(r.key),i=e[l]):i=r.key===void 0?r.target:r.target[r.key],!Gc1(i,a.value))throw new Tc1("test failed "+JSON.stringify(a));return t}function Oc1(t,a){return t.push(a),1}function Ec1(t,a){if(t.path===a.path&&a.op==="remove")throw new TypeError("Can't commute test,remove -> remove,test for same path");return a.op==="test"||a.op==="replace"?[a,t]:Ur(t,a)}function Dc1(t,a,c){var r=d8(t,a.path,c.findContext,a.context);if(Dh(r))throw new t5("path does not exist "+a.path);if(a.value===void 0)throw new t5("missing value");var e=Mm(a.value);return r.key===void 0?e:(xm(r,e),t)}function xm(t,a){var c=t.target;if(Array.isArray(c))if(t.key==="-")c.push(a);else{if(t.key>c.length)throw new t5("target of add outside of array bounds");c.splice(t.key,0,a)}else if(O_(c))c[t.key]=a;else throw new t5("target of add must be an object or array "+t.key)}function Wc1(t,a){var c=a.context;return c!==void 0&&(c={before:c.before,after:Oh.cons(a.value,c.after)}),t.push({op:"test",path:a.path,value:a.value,context:c}),t.push({op:"remove",path:a.path,context:c}),1}function G_(t,a){if(t.path===a.path&&a.op==="remove")throw new TypeError("Can't commute add,remove -> remove,add for same path");return Ur(t,a)}function _c1(t,a,c){var r=d8(t,a.path,c.findContext,a.context);if(Dh(r)||Z_(r))throw new t5("path does not exist "+a.path);if(a.value===void 0)throw new t5("missing value");var e=Mm(a.value);if(r.key===void 0)return e;var l=r.target;return Array.isArray(l)?l[Eh(r.key)]=e:l[r.key]=e,t}function jc1(t,a,c,r){var e=r[c-1];if(e===void 0||e.op!=="test"||e.path!==a.path)throw new fm("cannot invert replace w/o test");var l=e.context;return l!==void 0&&(l={before:l.before,after:Oh.cons(e.value,Oh.tail(l.after))}),t.push({op:"test",path:e.path,value:a.value}),t.push({op:"replace",path:e.path,value:e.value}),2}function qc1(t,a){if(t.path===a.path&&a.op==="remove")throw new TypeError("Can't commute replace,remove -> remove,replace for same path");return a.op==="test"||a.op==="replace"?[a,t]:Ur(t,a)}function Nc1(t,a,c){var r=d8(t,a.path,c.findContext,a.context);if(Dh(r)||r.target[r.key]===void 0)throw new t5("path does not exist "+a.path);return T_(r),t}function T_(t){var a=t.target,c;if(Array.isArray(a))return c=a.splice(Eh(t.key),1),c[0];if(O_(a))return c=a[t.key],delete a[t.key],c;throw new t5("target of remove must be an object or array")}function Uc1(t,a,c,r){var e=r[c-1];if(e===void 0||e.op!=="test"||e.path!==a.path)throw new fm("cannot invert remove w/o test");var l=e.context;return l!==void 0&&(l={before:l.before,after:Oh.tail(l.after)}),t.push({op:"add",path:e.path,value:e.value,context:l}),2}function Kc1(t,a){return t.path===a.path&&a.op==="remove"?[a,t]:Ur(t,a)}function $c1(t,a,c){if(mm.contains(a.path,a.from))throw new t5("move.from cannot be ancestor of move.path");var r=d8(t,a.path,c.findContext,a.context),e=d8(t,a.from,c.findContext,a.fromContext);return xm(r,T_(e)),t}function Qc1(t,a){return t.push({op:"move",path:a.from,context:a.fromContext,from:a.path,fromContext:a.context}),1}function Xc1(t,a){if(t.path===a.path&&a.op==="remove")throw new TypeError("Can't commute move,remove -> move,replace for same path");return Ur(t,a)}function Yc1(t,a,c){var r=d8(t,a.path,c.findContext,a.context),e=d8(t,a.from,c.findContext,a.fromContext);if(Dh(e)||Z_(e))throw new t5("copy.from must exist");var l=e.target,i;return Array.isArray(l)?i=l[Eh(e.key)]:i=l[e.key],xm(r,Mm(i)),t}function Jc1(t,a){throw new fm("cannot invert "+a.op)}function Dh(t){return t===void 0||t.target==null&&t.key!==void 0}function Z_(t){return t.key!==void 0&&t.target[t.key]===void 0}function O_(t){return t!==null&&typeof t=="object"}});var __=L1(_t=>{var tr1=Cm(),E_=sm(),ar1=Th();_t.apply=rr1;_t.applyInPlace=D_;_t.clone=E_;_t.isValidObject=W_;_t.defaultHash=er1;var cr1={};function rr1(t,a,c){return D_(t,E_(a),c)}function D_(t,a,c){if(c||(c=cr1),!Array.isArray(t))return a;for(var r,e,l=0;l<t.length;++l){if(e=t[l],r=tr1[e.op],r===void 0)throw new ar1("invalid op "+JSON.stringify(e));a=r.apply(a,e,c)}return a}function er1(t){return W_(t)||lr1(t)?JSON.stringify(t):t}function W_(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function lr1(t){return Object.prototype.toString.call(t)==="[object Array]"}});var q_=L1((hj1,j_)=>{var ir1=Cm();j_.exports=function(a){var c=[],r,e;for(r=a.length-1;r>=0;r-=e)e=or1(c,a[r],r,a);return c};function or1(t,a,c,r){var e=ir1[a.op];return e!==void 0&&typeof e.inverse=="function"?e.inverse(t,a,c,r):1}});var X_=L1(Z5=>{var Wh=C_(),N_=hm(),Kr=__(),nr1=q_(),hr1=Ih(),U_=hr1.encodeSegment;Z5.diff=vr1;Z5.patch=Kr.apply;Z5.patchInPlace=Kr.applyInPlace;Z5.inverse=nr1;Z5.clone=Kr.clone;Z5.InvalidPatchOperationError=Th();Z5.TestFailedError=um();Z5.PatchNotInvertibleError=pm();var K_=Kr.isValidObject,$_=Kr.defaultHash;function vr1(t,a,c){return Vm(t,a,"",gr1(c,[])).patch}function gr1(t,a){return typeof t=="object"?{patch:a,hash:Lm(Hm,t.hash,$_),makeContext:Lm(Hm,t.makeContext,Q_),invertible:t.invertible!==!1}:{patch:a,hash:Lm(Hm,t,$_),makeContext:Q_,invertible:!0}}function Vm(t,a,c,r){return Array.isArray(t)&&Array.isArray(a)?sr1(t,a,c,r):K_(t)&&K_(a)?dr1(t,a,c,r):ur1(t,a,c,r)}function dr1(t,a,c,r){var e=Object.keys(a),l=r.patch,i,o;for(i=e.length-1;i>=0;--i){o=e[i];var n=c+"/"+U_(o);t[o]!==void 0?Vm(t[o],a[o],n,r):l.push({op:"add",path:n,value:a[o]})}for(e=Object.keys(t),i=e.length-1;i>=0;--i)if(o=e[i],a[o]===void 0){var h=c+"/"+U_(o);r.invertible&&l.push({op:"test",path:h,value:t[o]}),l.push({op:"remove",path:h})}return r}function sr1(t,a,c,r){var e=N_.map(r.hash,t),l=N_.map(r.hash,a),i=Wh.compare(e,l);return zr1(t,a,c,r,i)}function zr1(t,a,c,r,e){var l=0;return Wh.reduce(function(i,o,n,h){var v,g,s=i.patch,d=c+"/"+(h+l);return o===Wh.REMOVE?(v=s[s.length-1],g=i.makeContext(h,t),i.invertible&&s.push({op:"test",path:d,value:t[h],context:g}),v!==void 0&&v.op==="add"&&v.path===d?(v.op="replace",v.context=g):s.push({op:"remove",path:d,context:g}),l-=1):o===Wh.ADD?(s.push({op:"add",path:d,value:a[n],context:i.makeContext(h,t)}),l+=1):Vm(t[h],a[n],d,i),i},r,e)}function ur1(t,a,c,r){return t!==a&&(r.invertible&&r.patch.push({op:"test",path:c,value:t}),r.patch.push({op:"replace",path:c,value:a})),r}function Lm(t,a,c){return t(a)?a:c}function Q_(){}function Hm(t){return typeof t=="function"}});var s8=L1((gj1,Y_)=>{"use strict";function pr1(t,a){for(var c=0,r=a.length-1;c<r;c++){if(!t[a[c]])return null;t=t[a[c]]}return t}Y_.exports=pr1});var O5=L1((dj1,J_)=>{"use strict";function mr1(t){return t==="~0"?"~":"/"}function Mr1(t){var a=t.split("/");if(t.indexOf("~")===-1)return a;for(var c=0,r=a.length;c<r;c++)a[c].indexOf("~")!==-1&&(a[c]=a[c].replace(/~[01]/g,mr1));return a}J_.exports=Mr1});var aj=L1((sj1,tj)=>{"use strict";var fr1=s8(),xr1=O5();function Cr1(t,a){var c=xr1(a),r=c[c.length-1],e=fr1(t,c);return e?e[r]:void 0}tj.exports=Cr1});var $r=L1((zj1,cj)=>{"use strict";function wm(t,a){if(t===a)return!0;if(!(t&&a)||typeof t!="object"||typeof a!="object"||t.length!==a.length)return!1;if(Array.isArray(t)){if(!Array.isArray(a))return!1;for(var c=0,r=t.length;c<r;c++)if(!wm(t[c],a[c]))return!1;return!0}var e=Object.keys(t);if(e.length!==Object.keys(a).length)return!1;for(var l=0,i=e.length;l<i;l++){var o=e[l];if(!wm(t[o],a[o]))return!1}return!0}cj.exports=wm});var Qr=L1((uj1,rj)=>{"use strict";function Lr1(t,a){if(a==="-")return t.length;for(var c=0,r=a.length;c<r;c++){var e=a.charCodeAt(c);if(57<e||e<48)return 1/0}return+a}rj.exports=Lr1});var Xr=L1((pj1,ej)=>{"use strict";var Hr1=$r(),Vr1=s8(),wr1=Qr(),Br1=O5();function yr1(t,a,c,r){if(typeof c=="undefined")return"[op:add] require value, but got undefined";var e=Br1(a),l=e[e.length-1],i=Vr1(t,e);if(i===null)return"[op:add] path not found: "+a;if(Array.isArray(i)){var o=wr1(i,l);if(i.length<o)return"[op:add] invalid array index: "+a;r(t,e).splice(o,0,c)}else Hr1(i[l],c)||(r(t,e)[l]=c)}ej.exports=yr1});var Bm=L1((mj1,lj)=>{"use strict";var Sr1=s8(),kr1=Qr(),Ar1=O5();function Rr1(t,a,c){var r=Ar1(a),e=r[r.length-1],l=Sr1(t,r);if(l===null)return"[op:remove] path not found: "+a;if(Array.isArray(l)){var i=kr1(l,e);if(l.length<=i)return"[op:remove] invalid array index: "+a;c(t,r).splice(i,1)}else delete c(t,r)[e]}lj.exports=Rr1});var ym=L1((Mj1,oj)=>{"use strict";var ij=$r(),br1=s8(),Fr1=Qr(),Ir1=O5();function Pr1(t,a,c,r){if(typeof c=="undefined")return"[op:replace] require value, but got undefined";var e=Ir1(a),l=e[e.length-1],i=br1(t,e);if(i===null)return"[op:replace] path not found: "+a;if(Array.isArray(i)){var o=Fr1(i,l);if(i.length<=o)return"[op:replace] invalid array index: "+a;ij(i[o],c)||r(t,e).splice(o,1,c)}else ij(i[l],c)||(r(t,e)[l]=c)}oj.exports=Pr1});var Sm=L1((fj1,nj)=>{"use strict";var Gr1=Xr(),Tr1=s8(),Zr1=Qr(),Or1=O5();function Er1(t,a,c,r){if(c!==a){var e=Or1(a),l=e[e.length-1],i=Tr1(t,e);if(i===null)return"[op:move] path not found: "+a;var o=void 0;if(Array.isArray(i)){var n=Zr1(i,l);if(i.length<=n)return"[op:move] invalid array index: "+c;o=i[n],r(t,e).splice(n,1)}else o=i[l],delete r(t,e)[l];return Gr1(t,c,o,r)}}nj.exports=Er1});var km=L1((xj1,hj)=>{"use strict";var Dr1=s8(),Wr1=O5(),_r1=Xr();function jr1(t,a,c,r){var e=Wr1(a),l=e[e.length-1],i=Dr1(t,e);return i===null?"[op:copy] path not found: "+a:_r1(t,c,i[l],r)}hj.exports=jr1});var Am=L1((Cj1,vj)=>{"use strict";var qr1=$r(),Nr1=s8(),Ur1=O5();function Kr1(t,a,c){var r=Ur1(a),e=r[r.length-1],l=Nr1(t,r);if(l===null)return"[op:test] path not found: "+a;if(!qr1(l[e],c)){var i=JSON.stringify(l[e]),o=JSON.stringify(c);return"[op:test] not matched: "+i+" "+o}}vj.exports=Kr1});var _h=L1((Lj1,gj)=>{"use strict";function $r1(t){if(!t||typeof t!="object")return t;if(Array.isArray(t)){for(var a=t.length,c=new Array(a),r=0;r<a;r++)c[r]=t[r];return c}for(var e=Object.keys(t),l={},i=0,o=e.length;i<o;i++){var n=e[i];l[n]=t[n]}return l}gj.exports=$r1});var sj=L1((Hj1,dj)=>{"use strict";var Qr1=aj(),Xr1=Xr(),Yr1=Bm(),Jr1=ym(),te1=Sm(),ae1=km(),ce1=Am(),re1=$r(),ee1=_h(),le1=O5();function ie1(t,a){return{get:function(c){return Qr1(t,c)},add:function(c,r){return Xr1(t,c,r,a)},remove:function(c){return Yr1(t,c,a)},replace:function(c,r){return Jr1(t,c,r,a)},move:function(c,r){return te1(t,c,r,a)},copy:function(c,r){return ae1(t,c,r,a)},test:function(c,r){return ce1(t,c,r)},deepEqual:re1,shallowCopy:ee1,toKeys:le1}}dj.exports=ie1});var uj=L1((Vj1,zj)=>{"use strict";function oe1(t,a,c,r){return r.error=c,r.partial?a[""]:t}zj.exports=oe1});var mj=L1((wj1,pj)=>{"use strict";function ne1(t){return!!t}pj.exports=ne1});var fj=L1((Bj1,Mj)=>{"use strict";function he1(t){if(t)throw new TypeError(t)}Mj.exports=he1});var Cj=L1((yj1,xj)=>{"use strict";var ve1=_h();function ge1(t,a){for(var c=0,r=a.length-1;c<r;c++)t=t[a[c]]=ve1(t[a[c]]);return t}xj.exports=ge1});var Hj=L1((Sj1,Lj)=>{"use strict";var de1=_h();function se1(t,a,c){var r=t[a];return c.has(r)||(r=de1(r),c.add(r)),r}function ze1(t,a,c){for(var r=0,e=a.length-1;r<e;r++)t=t[a[r]]=se1(t,a[r],c);return t}Lj.exports=ze1});var wj=L1((kj1,Vj)=>{"use strict";var ue1=sj(),z8=uj(),pe1=mj(),me1=fj(),Me1=Cj(),fe1=Hj(),xe1=Xr(),Ce1=Bm(),Le1=ym(),He1=Sm(),Ve1=km(),we1=Am(),Be1=Set||function(){var t=[];return t.has=function(a){return this.indexOf(a)!==-1},t.add=function(a){this.push(a)},t};function ye1(t,a,c){if(a.length===0)return t;c=c||{};for(var r=c.strict?me1:pe1,e=a.length===1?Me1:function(v){return function(g,s){return fe1(g,s,v)}}(new Be1),l={"":t},i,o=0,n=a.length;o<n;o++){var h=a[o];switch(h.op){case"add":if(r(xe1(l,""+h.path,h.value,e)))return z8(t,l,h,c);break;case"remove":if(r(Ce1(l,""+h.path,e)))return z8(t,l,h,c);break;case"replace":if(r(Le1(l,""+h.path,h.value,e)))return z8(t,l,h,c);break;case"move":if(r(He1(l,""+h.from,""+h.path,e)))return z8(t,l,h,c);break;case"copy":if(r(Ve1(l,""+h.from,""+h.path,e)))return z8(t,l,h,c);break;case"test":if(r(we1(l,""+h.path,h.value)))return z8(t,l,h,c);break;default:if(c.custom&&c.custom[h.op]){if(i=i||ue1(l,e),r(c.custom[h.op](i,h,o,a)))return z8(t,l,h,c)}else return r("[op:"+h.op+"] unknown"),z8(t,l,h,c);break}}return l[""]}Vj.exports=ye1});var yj=L1((Aj1,Bj)=>{Bj.exports=wj()});var dq=L1((cv,sM)=>{(function(t,a){typeof cv=="object"&&typeof sM=="object"?sM.exports=a():typeof define=="function"&&define.amd?define([],a):typeof cv=="object"?cv.blobCompare=a():t.blobCompare=a()})(window,function(){return function(t){var a={};function c(r){if(a[r])return a[r].exports;var e=a[r]={i:r,l:!1,exports:{}};return t[r].call(e.exports,e,e.exports,c),e.l=!0,e.exports}return c.m=t,c.c=a,c.d=function(r,e,l){c.o(r,e)||Object.defineProperty(r,e,{enumerable:!0,get:l})},c.r=function(r){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},c.t=function(r,e){if(1&e&&(r=c(r)),8&e||4&e&&typeof r=="object"&&r&&r.__esModule)return r;var l=Object.create(null);if(c.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:r}),2&e&&typeof r!="string")for(var i in r)c.d(l,i,function(o){return r[o]}.bind(null,i));return l},c.n=function(r){var e=r&&r.__esModule?function(){return r.default}:function(){return r};return c.d(e,"a",e),e},c.o=function(r,e){return Object.prototype.hasOwnProperty.call(r,e)},c.p="",c(c.s=4)}([function(t,a,c){"use strict";var r=function(n,h){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return function(v,g){var s=[],d=!0,z=!1,u=void 0;try{for(var M,m=v[Symbol.iterator]();!(d=(M=m.next()).done)&&(s.push(M.value),!g||s.length!==g);d=!0);}catch(p){z=!0,u=p}finally{try{!d&&m.return&&m.return()}finally{if(z)throw u}}return s}(n,h);throw new TypeError("Invalid attempt to destructure non-iterable instance")},e=function(){function n(h,v){for(var g=0;g<v.length;g++){var s=v[g];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(h,s.key,s)}}return function(h,v,g){return v&&n(h.prototype,v),g&&n(h,g),h}}();function l(n){if(Array.isArray(n)){for(var h=0,v=Array(n.length);h<n.length;h++)v[h]=n[h];return v}return Array.from(n)}var i=c(2),o=function(n){function h(v){(function(s,d){if(!(s instanceof d))throw new TypeError("Cannot call a class as a function")})(this,h);var g=function(s,d){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||typeof d!="object"&&typeof d!="function"?s:d}(this,(h.__proto__||Object.getPrototypeOf(h)).call(this));return g._messageId=1,g._messages=new Map,g._worker=v,g._worker.onmessage=g._onMessage.bind(g),g._id=Math.ceil(1e7*Math.random()),g}return function(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}(h,n),e(h,[{key:"terminate",value:function(){this._worker.terminate()}},{key:"isFree",value:function(){return this._messages.size===0}},{key:"jobsLength",value:function(){return this._messages.size}},{key:"exec",value:function(v){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,s=this,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],z=arguments[3];return new Promise(function(u,M){var m=s._messageId++;s._messages.set(m,[u,M,z]),s._worker.postMessage([m,g,v],d||[])})}},{key:"postMessage",value:function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,g=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],d=arguments[2];return new Promise(function(z,u){var M=g._messageId++;g._messages.set(M,[z,u,d]),g._worker.postMessage([M,v],s||[])})}},{key:"emit",value:function(v){for(var g=arguments.length,s=Array(g>1?g-1:0),d=1;d<g;d++)s[d-1]=arguments[d];this._worker.postMessage({eventName:v,args:s})}},{key:"_onMessage",value:function(v){var g;if(!Array.isArray(v.data)&&v.data.eventName)return(g=function M(m,p,f){m===null&&(m=Function.prototype);var H=Object.getOwnPropertyDescriptor(m,p);if(H===void 0){var w=Object.getPrototypeOf(m);return w===null?void 0:M(w,p,f)}if("value"in H)return H.value;var y=H.get;return y!==void 0?y.call(f):void 0}(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"emit",this)).call.apply(g,[this,v.data.eventName].concat(l(v.data.args)));var s,d=(s=v.data,Array.isArray(s)?s:Array.from(s)),z=d[0],u=d.slice(1);if(z===1)this._onEvent.apply(this,l(u));else{if(z!==0)throw new Error("Wrong message type '"+z+"'");this._onResult.apply(this,l(u))}}},{key:"_onResult",value:function(v,g,s){var d=this._messages.get(v),z=r(d,2),u=z[0],M=z[1];return this._messages.delete(v),g===1?u(s):M(s)}},{key:"_onEvent",value:function(v,g,s){var d=this._messages.get(v),z=r(d,3)[2];z&&z(g,s)}}]),h}(i);t.exports=o},function(t,a,c){t.exports=function(){return c(3)('!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=2)}([function(e,t,r){"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function a(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var f=r(1),c=0,l=1,s=0,y=1,p="main",b=function(e){return"object"===(void 0===e?"undefined":i(e))&&"function"==typeof e.then&&"function"==typeof e.catch};var v=function e(t,r){u(this,e),this.payload=t,this.transferable=r};e.exports=function(e){var t,r,i,h=(i=e,(r=p)in(t={})?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t),d=self.postMessage.bind(self),m=new(function(e){function t(){return u(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"emit",value:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return d({eventName:e,args:r}),this}},{key:"emitLocally",value:function(e){for(var r,n=arguments.length,i=Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];(r=o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"emit",this)).call.apply(r,[this,e].concat(i))}},{key:"operation",value:function(e,t){return h[e]=t,this}}]),t}(f)),g=function(e,t,r){var n=function(t){t&&t instanceof v?w(e,y,t.payload,t.transferable):w(e,y,t)},o=function(t){w(e,s,{message:t.message,stack:t.stack})};try{var i=_(e,t,r);b(i)?i.then(n).catch(o):n(i)}catch(e){o(e)}},_=function(e,t,r){var n=h[r||p];if(!n)throw new Error("Not found handler for this request");return n(t,O.bind(null,e))},w=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];d([c,e,t,r],n)},O=function(e,t,r){if(!t)throw new Error("eventName is required");if("string"!=typeof t)throw new Error("eventName should be string");d([l,e,t,r])};return self.addEventListener("message",(function(e){var t=e.data;Array.isArray(t)?g.apply(void 0,a(t)):t&&t.eventName&&m.emitLocally.apply(m,[t.eventName].concat(a(t.args)))})),m},e.exports.TransferableResponse=v},function(e,t,r){"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperty(this,"__listeners",{value:{},enumerable:!1,writable:!1})}return n(e,[{key:"emit",value:function(e){if(!this.__listeners[e])return this;for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var o=!0,i=!1,a=void 0;try{for(var u,f=this.__listeners[e][Symbol.iterator]();!(o=(u=f.next()).done);o=!0){var c=u.value;c.apply(void 0,r)}}catch(e){i=!0,a=e}finally{try{!o&&f.return&&f.return()}finally{if(i)throw a}}return this}},{key:"once",value:function(e,t){var r=this,n=function n(){r.off(e,n),t.apply(void 0,arguments)};return this.on(e,n)}},{key:"on",value:function(e,t){return this.__listeners[e]||(this.__listeners[e]=[]),this.__listeners[e].push(t),this}},{key:"off",value:function(e,t){return this.__listeners[e]=t?this.__listeners[e].filter((function(e){return e!==t})):[],this}}]),e}();e.exports=o},function(e,t,r){"use strict";r.r(t);var n=r(0);r.n(n)()().operation("binary",async({blob:e,chunk:t})=>await function(e,t){return new Promise((r,n)=>{const o=new FileReader,i=t?Math.min(t,e.size):e.size,a=e.slice(0,i);o.onload=()=>r(o.result),o.onerror=n,o.readAsBinaryString(a)})}(e,t)).operation("buffer",async({blob:e,chunk:t})=>await function(e,t){return new Promise((r,n)=>{const o=new FileReader,i=t?Math.min(t,e.size):e.size,a=e.slice(0,i);o.onload=()=>r(o.result),o.onerror=n,o.readAsArrayBuffer(a)})}(e,t)).operation("compare",({buf1:e,buf2:t})=>(function(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;const r=new DataView(e),n=new DataView(t);for(var o=e.byteLength;o--;)if(r.getUint8(o)!==n.getUint8(o))return!1;return!0})(e,t))}]);',null)}},function(t,a,c){"use strict";var r=function(){function l(i,o){for(var n=0;n<o.length;n++){var h=o[n];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(i,h.key,h)}}return function(i,o,n){return o&&l(i.prototype,o),n&&l(i,n),i}}(),e=function(){function l(){(function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")})(this,l),Object.defineProperty(this,"__listeners",{value:{},enumerable:!1,writable:!1})}return r(l,[{key:"emit",value:function(i){if(!this.__listeners[i])return this;for(var o=arguments.length,n=Array(o>1?o-1:0),h=1;h<o;h++)n[h-1]=arguments[h];var v=!0,g=!1,s=void 0;try{for(var d,z=this.__listeners[i][Symbol.iterator]();!(v=(d=z.next()).done);v=!0){var u=d.value;u.apply(void 0,n)}}catch(M){g=!0,s=M}finally{try{!v&&z.return&&z.return()}finally{if(g)throw s}}return this}},{key:"once",value:function(i,o){var n=this,h=function v(){n.off(i,v),o.apply(void 0,arguments)};return this.on(i,h)}},{key:"on",value:function(i,o){return this.__listeners[i]||(this.__listeners[i]=[]),this.__listeners[i].push(o),this}},{key:"off",value:function(i,o){return this.__listeners[i]=o?this.__listeners[i].filter(function(n){return n!==o}):[],this}}]),l}();t.exports=e},function(t,a,c){"use strict";var r=window.URL||window.webkitURL;t.exports=function(e,l){try{try{var i;try{(i=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder)).append(e),i=i.getBlob()}catch(o){i=new Blob([e])}return new Worker(r.createObjectURL(i))}catch(o){return new Worker("data:application/javascript,"+encodeURIComponent(e))}}catch(o){if(!l)throw Error("Inline worker is not supported");return new Worker(l)}}},function(t,a,c){"use strict";c.r(a);var r=c(0),e=c.n(r),l=c(1),i=c.n(l);c.d(a,"workersEnabled",function(){return o}),c.d(a,"default",function(){return n});let o=!!window.Worker;class n{static toBinaryStringWithWorker(v,g){return e2(this,null,function*(){let s=new e.a(new i.a),d=yield s.exec("binary",{blob:v,chunk:g});return s.terminate(),d})}static toBinaryStringWithoutWorker(v,g){return function(s,d){return new Promise((z,u)=>{let M=new FileReader,m=d?Math.min(d,s.size):s.size,p=s.slice(0,m);M.onload=()=>z(M.result),M.onerror=u,M.readAsBinaryString(p)})}(v,g)}static toBinaryString(v,g,s=!0){return s&&o?this.toBinaryStringWithWorker(v,g):this.toBinaryStringWithoutWorker(v,g)}static toArrayBufferWithWorker(v,g){return e2(this,null,function*(){let s=new e.a(new i.a),d=yield s.exec("buffer",{blob:v,chunk:g});return s.terminate(),d})}static toArrayBufferWithoutWorker(v,g){return function(s,d){return new Promise((z,u)=>{let M=new FileReader,m=d?Math.min(d,s.size):s.size,p=s.slice(0,m);M.onload=()=>z(M.result),M.onerror=u,M.readAsArrayBuffer(p)})}(v,g)}static toArrayBuffer(v,g,s=!0){return s&&o?this.toArrayBufferWithWorker(v,g):this.toArrayBufferWithoutWorker(v,g)}static compareBuffersWithWorker(v,g){return e2(this,null,function*(){if(v===g)return!0;let s=new e.a(new i.a),d=yield s.exec("compare",{buf1:v,buf2:g},[v,g]);return s.terminate(),d})}static compareBuffersWithoutWorker(v,g){return function(s,d){if(s===d)return!0;if(s.byteLength!==d.byteLength)return!1;let z=new DataView(s),u=new DataView(d);for(var M=s.byteLength;M--;)if(z.getUint8(M)!==u.getUint8(M))return!1;return!0}(v,g)}static compareBuffers(v,g,s=!0){return s&&o?this.compareBuffersWithWorker(v,g):this.compareBuffersWithoutWorker(v,g)}static sizeEqual(v,g){return v.size===g.size}static typeEqual(v,g){return v.type===g.type}static magicNumbersEqual(v,g,s=!0){return e2(this,null,function*(){if(v===g)return!0;let d=[24,16,14,12,8,6,4],[z,u]=yield Promise.all([this.toBinaryString(v,24,s),this.toBinaryString(g,24,s)]);for(let M of d)if(z.substring(0,M)===u.substring(0,M))return!0;return!1})}static bytesEqualWithBinaryString(v,g,s,d=!0){return e2(this,null,function*(){if(v===g)return!0;let[z,u]=yield Promise.all([this.toBinaryString(v,s,d),this.toBinaryString(g,s,d)]);return z===u})}static bytesEqualWithArrayBuffer(v,g,s,d=!0){return e2(this,null,function*(){if(v===g)return!0;let[z,u]=yield Promise.all([this.toArrayBuffer(v,s,d),this.toArrayBuffer(g,s,d)]);return this.compareBuffers(z,u,d)})}static isEqual(m,p){return e2(this,arguments,function*(v,g,{methods:s=["size","type","magic","byte"],byte:d="buffer",partial:z=!1,chunks:u=null,worker:M=!0}={}){let f=null;for(let H of s){if(f===!1||z&&f===!0)break;switch(H){case"byte":case"bytes":case"content":u=u instanceof Array?u:[v.size],f=!0;for(let w of u){let y=!1;y=d==="buffer"?yield this.bytesEqualWithArrayBuffer(v,g,w,M):yield this.bytesEqualWithBinaryString(v,g,w,M),y||(f=!1)}break;case"magic":case"headers":case"numbers":case"mime":f=yield this.magicNumbersEqual(v,g,M);break;case"size":case"sizes":f=this.sizeEqual(v,g);break;case"type":case"types":f=this.typeEqual(v,g);break;default:throw new Error("Blob-compare : Unknown comparison method")}}return f})}}}])})});var hl1={};fM(hl1,{ToolbarDropdownSelect:()=>fq,default:()=>ol1});module.exports=kq(hl1);m1();ge();var gv=require("@theatre/dataverse");N5();var Fq=0,Jt=class{constructor(a){this._studio=a;y1(this,"_id");y1(this,"_state",{type:"Ready"});this._id=String(Fq++)}get status(){return this._state.type}reset(){let{_state:a}=this;if(a.type!=="Ready")if(a.type==="Captured")this._state={type:"Ready"},a.transaction.discard(),a.flagsTransaction.discard();else throw a.type==="Committed"?new Error("This scrub is already committed and can't be reset."):new Error("This scrub is already discarded and can't be reset.")}commit(){let{_state:a}=this;if(a.type==="Captured")a.transaction.commit(),a.flagsTransaction.discard(),this._state={type:"Committed"};else if(a.type==="Ready"){console.warn("Scrub is empty. Nothing to commit.");return}else throw a.type==="Committed"?new Error("This scrub is already committed."):new Error("This scrub is already discarded and can't be comitted.")}capture(a){if(this._state.type==="Captured"&&this.reset(),this._state.type==="Ready"){let c=!0;try{this._state=S({type:"Captured"},this._capture(a)),c=!1}finally{c&&(console.error("This scrub's callback threw an error. We're undo-ing all of the changes made by this scrub, and marking it as discarded."),this._state={type:"Discarded"})}}else throw this._state.type==="Committed"?new Error("This scrub is already committed and cannot capture again. If you wish to capture more, you can start a new studio.scrub() or do so before scrub.commit()"):new Error("This scrub is already discarded and cannot capture again. If you wish to capture more, you can start a new studio.scrub() or do so before scrub.discard()")}_capture(a){let c=[],r=this._studio.tempTransaction(l=>{let i=!0,o={set:(n,h)=>{if(!i)throw new Error("You seem to have called the scrub api after scrub.capture()");let{root:v,path:g}=(0,gv.getPointerParts)(n);if(!c0(v))throw new Error("We can only scrub props of Sheet Objects for now");l.set(n,h),c.push(n)}};try{a(o)}finally{i=!1}}),e=this._studio.tempTransaction(({stateEditors:l})=>{c.forEach(i=>{let{root:o,path:n}=(0,gv.getPointerParts)(i);if(!c0(o))return;let h=o.template.getDefaultsAtPointer(i);j5(h,(v,g)=>{l.studio.ephemeral.projects.stateByProjectId.stateBySheetId.stateByObjectKey.propsBeingScrubbed.flag(W(S({},o.address),{pathToProp:g}))},n)})});return{transaction:r,flagsTransaction:e}}discard(){let{_state:a}=this;if(a.type==="Captured"||a.type==="Ready")a.type==="Captured"&&(a.transaction.discard(),a.flagsTransaction.discard()),this._state={type:"Discarded"};else throw a.type==="Committed"?new Error("This scrub is already committed and can't be discarded."):new Error("This scrub is already discarded")}};var x_=require("@theatre/dataverse");var f_=typeof window!="undefined"?Promise.resolve().then(()=>(M_(),m_)).then(t=>t.default):null,Nr=class{constructor(a){this.studio=a;y1(this,"_rendered",!1);y1(this,"_nonSSRBits",f_?f_.then(a=>new a):Promise.reject());y1(this,"ready",this._nonSSRBits.then(()=>{},()=>{}))}render(){this._rendered||(this._rendered=!0,this._nonSSRBits.then(a=>{a.render()}).catch(a=>{throw console.error(a),a}))}hide(){this.studio.transaction(({drafts:a})=>{a.ahistoric.visibilityState="everythingIsHidden"})}restore(){this.render(),this.studio.transaction(({drafts:a})=>{a.ahistoric.visibilityState="everythingIsVisible"})}get isHidden(){return(0,x_.val)(this.studio.atomP.ahistoric.visibilityState)==="everythingIsHidden"}renderToolset(a,c){let r=!1,e=null;return this._nonSSRBits.then(l=>{r||(e=l.renderToolset(a,c))}).catch(l=>{console.error(l)}),()=>{if(e){e();return}r||(r=!0)}}};var C7=require("@theatre/dataverse");function $a1(t){return t}var Qa1=(t,a=$a1)=>{let c=r=>({type:t,payload:a(r)});return c.type=t,c.is=r=>r&&r.type&&r.type===t,c},Z3=Qa1;var Im=P(X_()),Pm=P(yj());ma();var jh,Se1=new Uint8Array(16);function Rm(){if(!jh&&(jh=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!jh))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return jh(Se1)}var Sj=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function ke1(t){return typeof t=="string"&&Sj.test(t)}var kj=ke1;var J2=[];for(qh=0;qh<256;++qh)J2.push((qh+256).toString(16).substr(1));var qh;function Ae1(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,c=(J2[t[a+0]]+J2[t[a+1]]+J2[t[a+2]]+J2[t[a+3]]+"-"+J2[t[a+4]]+J2[t[a+5]]+"-"+J2[t[a+6]]+J2[t[a+7]]+"-"+J2[t[a+8]]+J2[t[a+9]]+"-"+J2[t[a+10]]+J2[t[a+11]]+J2[t[a+12]]+J2[t[a+13]]+J2[t[a+14]]+J2[t[a+15]]).toLowerCase();if(!kj(c))throw TypeError("Stringified UUID is invalid");return c}var Aj=Ae1;function Re1(t,a,c){t=t||{};var r=t.random||(t.rng||Rm)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,a){c=c||0;for(var e=0;e<16;++e)a[c+e]=r[e];return a}return Aj(r)}var bm=Re1;var jt={replaceHistory:Z3("@history/replaceHistory"),startHistoryFromScratch:Z3("@history/startHistoryFromScratch"),undo:Z3("@history/undo"),redo:Z3("@history/redo")};var be1={type:"@history/unknownAction",payload:""},Fe1={maxNumberOfCommits:100},Rj=(t,a=Fe1)=>{let c=Fm(t(void 0,be1));return function(e,l){return jt.startHistoryFromScratch.is(l)?Fm(t(void 0,l.payload)):jt.replaceHistory.is(l)?l.payload:jt.undo.is(l)?e?Ge1(e):c:jt.redo.is(l)?e?Te1(e):c:e?Ie1(e,t(e.innerState,l),a):Fm(t(void 0,l))}};function Fm(t){return{currentCommitHash:void 0,commitsByHash:{},listOfCommitHashes:[],innerState:t}}function Ie1(t,a,c){if(a===t.innerState)return t;let r=Pe1(t.innerState,a);if(r.forwardDiff.length===0)return t;let e=f3(t.listOfCommitHashes),l={currentCommitHash:r.hash,commitsByHash:S({},t.commitsByHash),listOfCommitHashes:[...t.listOfCommitHashes],innerState:a};if(t.currentCommitHash!==e){let i=t.listOfCommitHashes.findIndex(n=>n===t.currentCommitHash);t.listOfCommitHashes.slice(i+1).forEach(n=>{delete l.commitsByHash[n]}),l.listOfCommitHashes.splice(i+1,l.listOfCommitHashes.length)}if(l.listOfCommitHashes.push(r.hash),l.commitsByHash[r.hash]=r,l.listOfCommitHashes.length>c.maxNumberOfCommits){let i=l.listOfCommitHashes.length-c.maxNumberOfCommits;l.listOfCommitHashes.slice(0,i).forEach(n=>{delete l.commitsByHash[n]}),l.listOfCommitHashes.splice(0,i)}return l}function Pe1(t,a){let c=Im.default.diff(t,a,{invertible:!1}),r=Im.default.diff(a,t,{invertible:!1}),e=Date.now(),l=bm();return{forwardDiff:c,backwardDiff:r,timestamp:e,hash:l}}function Ge1(t){if(t.currentCommitHash===void 0)return t;let a=t.listOfCommitHashes.findIndex(o=>o===t.currentCommitHash);if(a===-1)throw new Error("This should never happen");let c=t.commitsByHash[t.currentCommitHash],r=(0,Pm.default)(t.innerState,c.backwardDiff),e=a-1,l=e===-1?void 0:t.listOfCommitHashes[e];return W(S({},t),{currentCommitHash:l,innerState:r})}function Te1(t){if(t.listOfCommitHashes.length===0)return t;let a=t.listOfCommitHashes.findIndex(o=>o===t.currentCommitHash);if(a===t.listOfCommitHashes.length-1)return t;let c=a+1,r=t.listOfCommitHashes[c],e=t.commitsByHash[r],l=(0,Pm.default)(t.innerState,e.forwardDiff);return W(S({},t),{currentCommitHash:r,innerState:l})}Wr();var Nh={ahistoric:{visibilityState:"everythingIsVisible",theTrigger:{position:{closestCorner:"bottomLeft",distanceFromHorizontalEdge:.02,distanceFromVerticalEdge:.02}},coreByProject:{},projects:{stateByProjectId:{}}},historic:{projects:{stateByProjectId:{}},autoKey:!0,coreByProject:{},panelInstanceDesceriptors:{}},ephemeral:{initialised:!1,coreByProject:{},projects:{stateByProjectId:{}},extensions:{byId:{},paneClasses:{}},showOutline:!1}},Fj=Z3("@storeBundle/replacePersistentState",t=>t),Ij=Z3("@storeBundle/reduceParts",t=>t),u8={historic:jt,replacePersistentState:Fj,reduceParts:Ij},Pj=Z3("@storeBundle/setInnerHistoricState",t=>t),Ze1=(t=Nh.historic,a)=>Pj.is(a)?a.payload:t,Gm=Rj(Ze1),bj=(t,a)=>{if(Fj.is(a)){let{historic:c,ahistoric:r}=a.payload,e=(t==null?void 0:t.ephemeral)||Nh.ephemeral;return{$persistent:{historic:c,ahistoric:r},ephemeral:e}}else if(t){let{historic:c,ahistoric:r}=t.$persistent,{ephemeral:e}=t;if(Ij.is(a)){let i={historic:t.$persistent.historic.innerState,ahistoric:t.$persistent.ahistoric,ephemeral:t.ephemeral},o=a.payload(i);if(o===i)return t;c.innerState!==o.historic&&(c=Gm(c,Pj(o.historic))),r=o.ahistoric,e=o.ephemeral}else{let i=Gm(c,a);if(i===c)return t;c=i}return{$persistent:c===t.$persistent.historic&&r===t.$persistent.ahistoric?t.$persistent:{historic:c,ahistoric:r},ephemeral:e}}else{let c=Gm(void 0,{}),r=Nh.ahistoric,e=Nh.ephemeral;return{$persistent:{historic:c,ahistoric:r},ephemeral:e}}},Gj=Z3("@history/pushTempAction",t=>t),Tj=Z3("@history/discardTempAction",t=>t),Zj=Z3("@history/commitTempAction",t=>t),Oe1=0,Oj=()=>{let t=Oe1++;return{push:e=>Gj({id:t,originalAction:e}),discard:()=>Tj(t),commit:()=>Zj(t)}},Ej=(t,a)=>{if(t){let{tempActions:c,permanent:r}=t.$temps,e;if(Gj.is(a))c=[...c,a];else if(Zj.is(a)){let i=c.find(o=>o.payload.id===a.payload);i?(e=i.payload.originalAction,c=c.filter(o=>o.payload.id!==a.payload)):kt.error("Comitting temp action group ".concat(a.payload," isn't possible as this group doesn't exist"))}else Tj.is(a)?c=c.filter(i=>i.payload.id!==a.payload):e=a;e&&(r=bj(t.$temps.permanent,e));let l={historic:r.$persistent.historic.innerState,ahistoric:r.$persistent.ahistoric,ephemeral:r.ephemeral};for(let i of c)l=i.payload.originalAction.payload(l);return S({$temps:{tempActions:c,permanent:r},$persistent:r.$persistent},l)}else{let c=bj(void 0,a);return{$temps:{permanent:c,tempActions:[]},$persistent:c.$persistent,historic:c.$persistent.historic.innerState,ahistoric:c.$persistent.ahistoric,ephemeral:c.ephemeral}}};o4();o4();O4();function Uh(t,a){if(typeof t!="object"||t===null)return;if(a.length===0){for(let i of Object.keys(t))delete t[i];return}let c=a.slice(0,a.length-1),r=t,e=new WeakMap;for(let i of c){let o=r,n=o[i];if(typeof n!="object"||n===null)return;e.set(n,o),r=n}let l=a.slice().reverse();for(let i of l){if(delete r[i],Object.keys(r).length>0)return;r=e.get(r)}}function Dj(t,{scale:a,origin:c,translate:r}){let e=c+(t-c)*a;return r+e}function u4(t){for(var a=arguments.length,c=Array(a>1?a-1:0),r=1;r<a;r++)c[r-1]=arguments[r];if(!1)var e,l;throw Error("[Immer] minified error nr: "+t+(c.length?" "+c.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function qt(t){return!!t&&!!t[u3]}function x7(t){return!!t&&(function(a){if(!a||typeof a!="object")return!1;var c=Object.getPrototypeOf(a);if(c===null)return!0;var r=Object.hasOwnProperty.call(c,"constructor")&&c.constructor;return r===Object||typeof r=="function"&&Function.toString.call(r)===Ne1}(t)||Array.isArray(t)||!!t[$j]||!!t.constructor[$j]||qm(t)||Nm(t))}function Yr(t,a,c){c===void 0&&(c=!1),Nt(t)===0?(c?Object.keys:Xm)(t).forEach(function(r){c&&typeof r=="symbol"||a(r,t[r],t)}):t.forEach(function(r,e){return a(e,r,t)})}function Nt(t){var a=t[u3];return a?a.i>3?a.i-4:a.i:Array.isArray(t)?1:qm(t)?2:Nm(t)?3:0}function Dm(t,a){return Nt(t)===2?t.has(a):Object.prototype.hasOwnProperty.call(t,a)}function Ee1(t,a){return Nt(t)===2?t.get(a):t[a]}function Qj(t,a,c){var r=Nt(t);r===2?t.set(a,c):r===3?(t.delete(a),t.add(c)):t[a]=c}function De1(t,a){return t===a?t!==0||1/t==1/a:t!=t&&a!=a}function qm(t){return je1&&t instanceof Map}function Nm(t){return qe1&&t instanceof Set}function f7(t){return t.o||t.t}function Um(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var a=Ue1(t);delete a[u3];for(var c=Xm(a),r=0;r<c.length;r++){var e=c[r],l=a[e];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(a[e]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[e]})}return Object.create(Object.getPrototypeOf(t),a)}function Km(t,a){return a===void 0&&(a=!1),$m(t)||qt(t)||!x7(t)||(Nt(t)>1&&(t.set=t.add=t.clear=t.delete=We1),Object.freeze(t),a&&Yr(t,function(c,r){return Km(r,!0)},!0)),t}function We1(){u4(2)}function $m(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function E5(t){var a=Ke1[t];return a||u4(18,t),a}function Wj(){return Jr}function Tm(t,a){a&&(E5("Patches"),t.u=[],t.s=[],t.v=a)}function Qh(t){Wm(t),t.p.forEach(_e1),t.p=null}function Wm(t){t===Jr&&(Jr=t.l)}function _j(t){return Jr={p:[],l:Jr,h:t,m:!0,_:0}}function _e1(t){var a=t[u3];a.i===0||a.i===1?a.j():a.O=!0}function Zm(t,a){a._=a.p.length;var c=a.p[0],r=t!==void 0&&t!==c;return a.h.g||E5("ES5").S(a,t,r),r?(c[u3].P&&(Qh(a),u4(4)),x7(t)&&(t=Xh(a,t),a.l||Yh(a,t)),a.u&&E5("Patches").M(c[u3],t,a.u,a.s)):t=Xh(a,c,[]),Qh(a),a.u&&a.v(a.u,a.s),t!==Xj?t:void 0}function Xh(t,a,c){if($m(a))return a;var r=a[u3];if(!r)return Yr(a,function(l,i){return jj(t,r,a,l,i,c)},!0),a;if(r.A!==t)return a;if(!r.P)return Yh(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var e=r.i===4||r.i===5?r.o=Um(r.k):r.o;Yr(r.i===3?new Set(e):e,function(l,i){return jj(t,r,e,l,i,c)}),Yh(t,e,!1),c&&t.u&&E5("Patches").R(r,c,t.u,t.s)}return r.o}function jj(t,a,c,r,e,l){if(qt(e)){var i=Xh(t,e,l&&a&&a.i!==3&&!Dm(a.D,r)?l.concat(r):void 0);if(Qj(c,r,i),!qt(i))return;t.m=!1}if(x7(e)&&!$m(e)){if(!t.h.F&&t._<1)return;Xh(t,e),a&&a.A.l||Yh(t,e)}}function Yh(t,a,c){c===void 0&&(c=!1),t.h.F&&t.m&&Km(a,c)}function Om(t,a){var c=t[u3];return(c?f7(c):t)[a]}function qj(t,a){if(a in t)for(var c=Object.getPrototypeOf(t);c;){var r=Object.getOwnPropertyDescriptor(c,a);if(r)return r;c=Object.getPrototypeOf(c)}}function _m(t){t.P||(t.P=!0,t.l&&_m(t.l))}function Em(t){t.o||(t.o=Um(t.t))}function jm(t,a,c){var r=qm(a)?E5("MapSet").N(a,c):Nm(a)?E5("MapSet").T(a,c):t.g?function(e,l){var i=Array.isArray(e),o={i:i?1:0,A:l?l.A:Wj(),P:!1,I:!1,D:{},l,t:e,k:null,o:null,j:null,C:!1},n=o,h=Kh;i&&(n=[o],h=$h);var v=Proxy.revocable(n,h),g=v.revoke,s=v.proxy;return o.k=s,o.j=g,s}(a,c):E5("ES5").J(a,c);return(c?c.A:Wj()).p.push(r),r}function te(t){return qt(t)||u4(22,t),function a(c){if(!x7(c))return c;var r,e=c[u3],l=Nt(c);if(e){if(!e.P&&(e.i<4||!E5("ES5").K(e)))return e.t;e.I=!0,r=Nj(c,l),e.I=!1}else r=Nj(c,l);return Yr(r,function(i,o){e&&Ee1(e.t,i)===o||Qj(r,i,a(o))}),l===3?new Set(r):r}(t)}function Nj(t,a){switch(a){case 2:return new Map(t);case 3:return Array.from(t)}return Um(t)}var Uj,Jr,Qm=typeof Symbol!="undefined"&&typeof Symbol("x")=="symbol",je1=typeof Map!="undefined",qe1=typeof Set!="undefined",Kj=typeof Proxy!="undefined"&&Proxy.revocable!==void 0&&typeof Reflect!="undefined",Xj=Qm?Symbol.for("immer-nothing"):((Uj={})["immer-nothing"]=!0,Uj),$j=Qm?Symbol.for("immer-draftable"):"__$immer_draftable",u3=Qm?Symbol.for("immer-state"):"__$immer_state";var Ne1=""+Object.prototype.constructor,Xm=typeof Reflect!="undefined"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,Ue1=Object.getOwnPropertyDescriptors||function(t){var a={};return Xm(t).forEach(function(c){a[c]=Object.getOwnPropertyDescriptor(t,c)}),a},Ke1={},Kh={get:function(t,a){if(a===u3)return t;var c=f7(t);if(!Dm(c,a))return function(e,l,i){var o,n=qj(l,i);return n?"value"in n?n.value:(o=n.get)===null||o===void 0?void 0:o.call(e.k):void 0}(t,c,a);var r=c[a];return t.I||!x7(r)?r:r===Om(t.t,a)?(Em(t),t.o[a]=jm(t.A.h,r,t)):r},has:function(t,a){return a in f7(t)},ownKeys:function(t){return Reflect.ownKeys(f7(t))},set:function(t,a,c){var r=qj(f7(t),a);if(r!=null&&r.set)return r.set.call(t.k,c),!0;if(!t.P){var e=Om(f7(t),a),l=e==null?void 0:e[u3];if(l&&l.t===c)return t.o[a]=c,t.D[a]=!1,!0;if(De1(c,e)&&(c!==void 0||Dm(t.t,a)))return!0;Em(t),_m(t)}return t.o[a]===c&&typeof c!="number"&&(c!==void 0||a in t.o)||(t.o[a]=c,t.D[a]=!0,!0)},deleteProperty:function(t,a){return Om(t.t,a)!==void 0||a in t.t?(t.D[a]=!1,Em(t),_m(t)):delete t.D[a],t.o&&delete t.o[a],!0},getOwnPropertyDescriptor:function(t,a){var c=f7(t),r=Reflect.getOwnPropertyDescriptor(c,a);return r&&{writable:!0,configurable:t.i!==1||a!=="length",enumerable:r.enumerable,value:c[a]}},defineProperty:function(){u4(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){u4(12)}},$h={};Yr(Kh,function(t,a){$h[t]=function(){return arguments[0]=arguments[0][0],a.apply(this,arguments)}}),$h.deleteProperty=function(t,a){return Kh.deleteProperty.call(this,t[0],a)},$h.set=function(t,a,c){return Kh.set.call(this,t[0],a,c,t[0])};var $e1=function(){function t(c){var r=this;this.g=Kj,this.F=!0,this.produce=function(e,l,i){if(typeof e=="function"&&typeof l!="function"){var o=l;l=e;var n=r;return function(d){var z=this;d===void 0&&(d=o);for(var u=arguments.length,M=Array(u>1?u-1:0),m=1;m<u;m++)M[m-1]=arguments[m];return n.produce(d,function(p){var f;return(f=l).call.apply(f,[z,p].concat(M))})}}var h;if(typeof l!="function"&&u4(6),i!==void 0&&typeof i!="function"&&u4(7),x7(e)){var v=_j(r),g=jm(r,e,void 0),s=!0;try{h=l(g),s=!1}finally{s?Qh(v):Wm(v)}return typeof Promise!="undefined"&&h instanceof Promise?h.then(function(d){return Tm(v,i),Zm(d,v)},function(d){throw Qh(v),d}):(Tm(v,i),Zm(h,v))}if(!e||typeof e!="object")return(h=l(e))===Xj?void 0:(h===void 0&&(h=e),r.F&&Km(h,!0),h);u4(21,e)},this.produceWithPatches=function(e,l){return typeof e=="function"?function(n){for(var h=arguments.length,v=Array(h>1?h-1:0),g=1;g<h;g++)v[g-1]=arguments[g];return r.produceWithPatches(n,function(s){return e.apply(void 0,[s].concat(v))})}:[r.produce(e,l,function(n,h){i=n,o=h}),i,o];var i,o},typeof(c==null?void 0:c.useProxies)=="boolean"&&this.setUseProxies(c.useProxies),typeof(c==null?void 0:c.autoFreeze)=="boolean"&&this.setAutoFreeze(c.autoFreeze)}var a=t.prototype;return a.createDraft=function(c){x7(c)||u4(8),qt(c)&&(c=te(c));var r=_j(this),e=jm(this,c,void 0);return e[u3].C=!0,Wm(r),e},a.finishDraft=function(c,r){var e=c&&c[u3],l=e.A;return Tm(l,r),Zm(void 0,l)},a.setAutoFreeze=function(c){this.F=c},a.setUseProxies=function(c){c&&!Kj&&u4(20),this.g=c},a.applyPatches=function(c,r){var e;for(e=r.length-1;e>=0;e--){var l=r[e];if(l.path.length===0&&l.op==="replace"){c=l.value;break}}var i=E5("Patches").$;return qt(c)?i(c,r):this.produce(c,function(o){return i(o,r.slice(e+1))})},t}(),p3=new $e1,tq1=p3.produce,aq1=p3.produceWithPatches.bind(p3),cq1=p3.setAutoFreeze.bind(p3),rq1=p3.setUseProxies.bind(p3),eq1=p3.applyPatches.bind(p3),Jh=p3.createDraft.bind(p3),tv=p3.finishDraft.bind(p3);xL();yL();NL();Qe();$L();Or();H2();N5();var O3={create(t){let a={byId:{},allIds:{}};if(t)for(let[c,r]of t)a.byId[c]=r,a.allIds[c]=!0;return a},shallowCopy(t){return{byId:S({},t==null?void 0:t.byId),allIds:S({},t==null?void 0:t.allIds)}},add(t,a,c){return{byId:W(S({},t==null?void 0:t.byId),{[a]:c}),allIds:W(S({},t==null?void 0:t.allIds),{[a]:!0})}},merge(t){let a=O3.create();for(let c=0;c<t.length;c++)a.byId=S(S({},a.byId),t[c].byId),a.allIds=S(S({},a.allIds),t[c].allIds);return a},remove(t,a){let c=O3.shallowCopy(t);return delete c.allIds[a],delete c.byId[a],c},filter(t,a){let c=O3.shallowCopy(t);for(let[r,e]of Object.entries(c.byId))a(e)||(delete c.allIds[r],delete c.byId[r]);return c}};var tM=t=>(Ym=t,Jm),Ym,t0=()=>{if(Ym===void 0)throw new Error("Calling stateEditors outside of a transaction is not allowed.");return Ym},Jm;(c=>{let t;(i=>{let r;(v=>{let o;(s=>{function g(d){var u;let z=t0().historic;(u=z.panelPositions)!=null||(z.panelPositions={}),z.panelPositions[d.panelId]=d.position}s.setPanelPosition=g})(o=v.panelPositions||(v.panelPositions={}));let n;(z=>{function g(){var u,M;return(M=(u=t0().historic).panels)!=null||(u.panels={}),t0().historic.panels}z._ensure=g;let s;(m=>{function u(){var f;let p=c.studio.historic.panels._ensure();return(f=p.outlinePanel)!=null||(p.outlinePanel={}),p.outlinePanel}m._ensure=u;let M;(H=>{function p(w){let y=[];for(let k of x3(w))de(k)?y.push(S({type:"Project"},k.address)):H7(k)?(y.push(S({type:"Sheet"},k.template.address)),c.studio.historic.projects.stateByProjectId.stateBySheetId.setSelectedInstanceId(k.address)):VM(k)?y.push(S({type:"Sheet"},k.address)):c0(k)?(y.push(S({type:"SheetObject"},k.template.address)),c.studio.historic.projects.stateByProjectId.stateBySheetId.setSelectedInstanceId(k.sheet.address)):wM(k)&&y.push(S({type:"SheetObject"},k.address));m._ensure().selection=y}H.set=p;function f(){m._ensure().selection=[]}H.unset=f})(M=m.selection||(m.selection={}))})(s=z.outline||(z.outline={}));let d;(m=>{function u(){var f;let p=c.studio.historic.panels._ensure();return(f=p.sequenceEditor)!=null||(p.sequenceEditor={}),p.sequenceEditor}m._ensure=u;let M;(H=>{function p(){var y;let w=m._ensure();return(y=w.graphEditor)!=null||(w.graphEditor={height:.5,isOpen:!1}),w.graphEditor}function f(w){p().isOpen=w.isOpen}H.setIsOpen=f})(M=m.graphEditor||(m.graphEditor={}))})(d=z.sequenceEditor||(z.sequenceEditor={}))})(n=v.panels||(v.panels={}));let h;(s=>{let g;(u=>{function d(M){let m=t0().historic;return m.projects.stateByProjectId[M.projectId]||(m.projects.stateByProjectId[M.projectId]={stateBySheetId:{}}),m.projects.stateByProjectId[M.projectId]}u._ensure=d;let z;(f=>{function M(H){let w=c.studio.historic.projects.stateByProjectId._ensure(H);return w.stateBySheetId[H.sheetId]||(w.stateBySheetId[H.sheetId]={selectedInstanceId:void 0,sequenceEditor:{selectedPropsByObject:{}}}),w.stateBySheetId[H.sheetId]}f._ensure=M;function m(H){c.studio.historic.projects.stateByProjectId.stateBySheetId._ensure(H).selectedInstanceId=H.sheetInstanceId}f.setSelectedInstanceId=m;let p;(A=>{function H(G){let{selectedPropsByObject:C}=f._ensure(G).sequenceEditor;C[G.objectKey]||(C[G.objectKey]={});let E=C[G.objectKey],t1=h3(G.pathToProp),F=new Set(Object.keys(v7));for(let[D,c1]of Object.entries(te(C)))for(let[j,_]of Object.entries(c1))F.delete(_);let X=F.size>0?F.values().next().value:Object.keys(v7)[0];E[t1]=X}A.addPropToGraphEditor=H;function w(G){let{selectedPropsByObject:C}=f._ensure(G).sequenceEditor;if(!C[G.objectKey])return;let E=C[G.objectKey],t1=h3(G.pathToProp);E[t1]&&Uh(C,[G.objectKey,t1])}A.removePropFromGraphEditor=w;function y(G){let C=c.studio.historic.projects.stateByProjectId.stateBySheetId._ensure(G).sequenceEditor;return C.markerSet||(C.markerSet=O3.create()),C.markerSet}function k(G){let C=y(G.sheetAddress),E=G.markers.filter(D=>!!isFinite(D.position)).map(D=>W(S({},D),{position:G.snappingFunction(D.position)})),t1=Ma(E,"id"),F=O3.filter(C,D=>D&&!t1[D.id]),X=Ma(Object.values(F.byId),"position");E.forEach(({position:D})=>{let c1=X[D];c1&&(F=O3.remove(F,c1.id))}),Object.assign(C,O3.merge([F,O3.create(E.map(D=>[D.id,D]))]))}A.replaceMarkers=k;function I(G){let C=y(G.sheetAddress);Object.assign(C,O3.remove(C,G.markerId))}A.removeMarker=I;function U(G){let E=y(G.sheetAddress).byId[G.markerId];E!==void 0&&(E.label=G.label)}A.updateMarker=U})(p=f.sequenceEditor||(f.sequenceEditor={}))})(z=u.stateBySheetId||(u.stateBySheetId={}))})(g=s.stateByProjectId||(s.stateByProjectId={}))})(h=v.projects||(v.projects={}))})(r=i.historic||(i.historic={}));let e;(h=>{function o(v){t0().ephemeral.showOutline=v}h.setShowOutline=o;let n;(g=>{let v;(z=>{function s(u){let M=t0().ephemeral;return M.projects.stateByProjectId[u.projectId]||(M.projects.stateByProjectId[u.projectId]={stateBySheetId:{}}),M.projects.stateByProjectId[u.projectId]}z._ensure=s;let d;(m=>{function u(p){let f=c.studio.ephemeral.projects.stateByProjectId._ensure(p);return f.stateBySheetId[p.sheetId]||(f.stateBySheetId[p.sheetId]={stateByObjectKey:{}}),f.stateBySheetId[p.sheetId]}m._ensure=u;let M;(H=>{function p(w){var k,I;let y=c.studio.ephemeral.projects.stateByProjectId.stateBySheetId._ensure(w).stateByObjectKey;return(I=y[k=w.objectKey])!=null||(y[k]={}),y[w.objectKey]}H._ensure=p;let f;(k=>{function w(I){var A;let U=c.studio.ephemeral.projects.stateByProjectId.stateBySheetId.stateByObjectKey._ensure(I);return(A=U.valuesBeingScrubbed)!=null||(U.valuesBeingScrubbed={}),U.valuesBeingScrubbed}k._ensure=w;function y(I){i6(w(I),I.pathToProp,!0)}k.flag=y})(f=H.propsBeingScrubbed||(H.propsBeingScrubbed={}))})(M=m.stateByObjectKey||(m.stateByObjectKey={}))})(d=z.stateBySheetId||(z.stateBySheetId={}))})(v=g.stateByProjectId||(g.stateByProjectId={}))})(n=h.projects||(h.projects={}))})(e=i.ephemeral||(i.ephemeral={}));let l;(d=>{function o(z){t0().ahistoric.pinOutline=z}d.setPinOutline=o;function n(z){t0().ahistoric.pinDetails=z}d.setPinDetails=n;function h(z){t0().ahistoric.pinNotifications=z}d.setPinNotifications=h;function v(z){t0().ahistoric.visibilityState=z}d.setVisibilityState=v;function g(z){let u=J6(z.map(p=>p.pathToProp)),M=z.map(({keyframe:p,pathToProp:f})=>({keyframe:p,pathToProp:f.slice(u.length)})),m=t0();m.ahistoric.clipboard?m.ahistoric.clipboard.keyframesWithRelativePaths=M:m.ahistoric.clipboard={keyframesWithRelativePaths:M}}d.setClipboardKeyframes=g;let s;(u=>{let z;(f=>{function M(H){let w=t0().ahistoric;return w.projects.stateByProjectId[H.projectId]||(w.projects.stateByProjectId[H.projectId]={stateBySheetId:{}}),w.projects.stateByProjectId[H.projectId]}f._ensure=M;let m;(y=>{function H(k){let I=c.studio.ahistoric.projects.stateByProjectId._ensure(k);return I.collapsedItemsInOutline||(I.collapsedItemsInOutline={}),I.collapsedItemsInOutline}y._ensure=H;function w(k){let I=c.studio.ahistoric.projects.stateByProjectId.collapsedItemsInOutline._ensure(k);k.isCollapsed?I[k.itemKey]=!0:delete I[k.itemKey]}y.set=w})(m=f.collapsedItemsInOutline||(f.collapsedItemsInOutline={}));let p;(y=>{function H(k){let I=c.studio.ahistoric.projects.stateByProjectId._ensure(k);return I.stateBySheetId[k.sheetId]||(I.stateBySheetId[k.sheetId]={}),I.stateBySheetId[k.sheetId]}y._ensure=H;let w;(G=>{function k(C){let E=c.studio.ahistoric.projects.stateByProjectId.stateBySheetId._ensure(C);return E.sequence||(E.sequence={}),E.sequence}G._ensure=k;let I;(t1=>{function C(F){c.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence._ensure(F).focusRange={range:F.range,enabled:F.enabled}}t1.set=C;function E(F){c.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence._ensure(F).focusRange=void 0}t1.unset=E})(I=G.focusRange||(G.focusRange={}));let U;(E=>{function C(t1){c.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence._ensure(t1).clippedSpaceRange=S({},t1.range)}E.set=C})(U=G.clippedSpaceRange||(G.clippedSpaceRange={}));let A;(t1=>{function C(F){let X=c.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence._ensure(F),D=X.collapsableItems;return D||(D=X.collapsableItems=O3.create()),D}function E(F){let X=C(F);Object.assign(X,O3.add(X,F.studioSheetItemKey,{isCollapsed:F.isCollapsed}))}t1.set=E})(A=G.sequenceEditorCollapsableItems||(G.sequenceEditorCollapsableItems={}))})(w=y.sequence||(y.sequence={}))})(p=f.stateBySheetId||(f.stateBySheetId={}))})(z=u.stateByProjectId||(u.stateByProjectId={}))})(s=d.projects||(d.projects={}))})(l=i.ahistoric||(i.ahistoric={}))})(t=c.studio||(c.studio={}));let a;(e=>{let r;(o=>{let l;(h=>{function n(v){let g=t0().historic.coreByProject[v.projectId].revisionHistory,s=50;g.unshift(v.revision),g.length>s&&(g.length=s)}h.add=n})(l=o.revisionHistory||(o.revisionHistory={}));let i;(d=>{function n(z){let u=t0().historic.coreByProject[z.projectId].sheetsById;return u[z.sheetId]||(u[z.sheetId]={staticOverrides:{byObject:{}}}),u[z.sheetId]}d._ensure=n;function h(z){let u=t0().historic.coreByProject[z.projectId].sheetsById[z.sheetId];if(!u)return;delete u.staticOverrides.byObject[z.objectKey];let M=u.sequence;M&&delete M.tracksByObject[z.objectKey]}d.forgetObject=h;function v(z){t0().historic.coreByProject[z.projectId].sheetsById[z.sheetId]&&delete t0().historic.coreByProject[z.projectId].sheetsById[z.sheetId]}d.forgetSheet=v;let g;(t1=>{function z(F){var D;let X=c.coreByProject.historic.sheetsById._ensure(F);return(D=X.sequence)!=null||(X.sequence={subUnitsPerUnit:30,length:10,type:"PositionalSequence",tracksByObject:{}}),X.sequence}t1._ensure=z;function u(F){z(F).length=F1(parseFloat(F.length.toFixed(2)),.01,1/0)}t1.setLength=u;function M(F){var D,c1;let X=c.coreByProject.historic.sheetsById.sequence._ensure(F).tracksByObject;return(c1=X[D=F.objectKey])!=null||(X[D]={trackData:{},trackIdByPropPath:{}}),X[F.objectKey]}function m(F,X){let D=M(F),c1=h3(F.pathToProp);if(typeof D.trackIdByPropPath[c1]=="string")return;let _=CF(),g1={type:"BasicKeyframedTrack",__debugName:"".concat(F.objectKey,":").concat(c1),keyframes:[]};D.trackData[_]=g1,D.trackIdByPropPath[c1]=_}t1.setPrimitivePropAsSequenced=m;function p(F){let X=M(F),D=h3(F.pathToProp),c1=X.trackIdByPropPath[D];typeof c1=="string"&&(delete X.trackIdByPropPath[D],delete X.trackData[c1],c.coreByProject.historic.sheetsById.staticOverrides.byObject.setValueOfPrimitiveProp(F))}t1.setPrimitivePropAsStatic=p;function f(F){let X=M(F);for(let D of Object.keys(X.trackIdByPropPath)){let c1=JSON.parse(D);if(F.pathToProp.every((_,g1)=>c1[g1]===_)){let _=X.trackIdByPropPath[D];if(typeof _!="string")continue;delete X.trackIdByPropPath[D],delete X.trackData[_]}}c.coreByProject.historic.sheetsById.staticOverrides.byObject.setValueOfCompoundProp(F)}t1.setCompoundPropAsStatic=f;function H(F){return M(F).trackData[F.trackId]}function w(F){let X=H(F);if(X)return X.keyframes.find(D=>D.id===F.keyframeId)}function y(F){let X=F.snappingFunction(F.position),D=H(F);if(!D)return;let{keyframes:c1}=D,j=c1.findIndex(Q=>Q.position===X);if(j!==-1){let Q=c1[j];Q.value=F.value;return}let _=fL(c1,Q=>Q.position<X);if(_===-1){c1.unshift({id:du(),position:X,connectedRight:!0,handles:F.handles||[.5,1,.5,0],type:F.type||"bezier",value:F.value});return}let g1=c1[_];c1.splice(_+1,0,{id:du(),position:X,connectedRight:g1.connectedRight,handles:F.handles||[.5,1,.5,0],type:F.type||"bezier",value:F.value})}t1.setKeyframeAtPosition=y;function k(F){let X=H(F);if(!X)return;let{keyframes:D}=X,c1=D.findIndex(j=>j.position===F.position);c1!==-1&&D.splice(c1,1)}t1.unsetKeyframeAtPosition=k;function I(F){let X=H(F);if(!X)return;let j=te(X.keyframes).filter(_=>F.keyframeIds.includes(_.id)).map(_=>{let g1=_.position,Q=F.snappingFunction(Dj(g1,F));return W(S({},_),{position:Q})});E(W(S({},F),{keyframes:j}))}t1.transformKeyframes=I;function U(F){let X=H(F);X&&(X.keyframes=X.keyframes.map((D,c1)=>{let j=X.keyframes[c1-1],_=F.keyframeIds.includes(D.id),g1=F.keyframeIds.includes(j==null?void 0:j.id);return _&&!g1?W(S({},D),{handles:[D.handles[0],D.handles[1],F.handles[0],F.handles[1]]}):_&&g1?W(S({},D),{handles:[F.handles[2],F.handles[3],F.handles[0],F.handles[1]]}):g1?W(S({},D),{handles:[F.handles[2],F.handles[3],D.handles[2],D.handles[3]]}):D}))}t1.setTweenBetweenKeyframes=U;function A(F){var D,c1,j,_,g1,Q,K,h1;let X=w(F);X&&(X.handles=[(c1=(D=F.end)==null?void 0:D[0])!=null?c1:X.handles[0],(_=(j=F.end)==null?void 0:j[1])!=null?_:X.handles[1],(Q=(g1=F.start)==null?void 0:g1[0])!=null?Q:X.handles[2],(h1=(K=F.start)==null?void 0:K[1])!=null?h1:X.handles[3]])}t1.setHandlesForKeyframe=A;function G(F){let X=H(F);X&&(X.keyframes=X.keyframes.filter(D=>F.keyframeIds.indexOf(D.id)===-1))}t1.deleteKeyframes=G;function C(F){let X=w(F);X&&(X.type=F.keyframeType)}t1.setKeyframeType=C;function E(F){let X=H(F);if(!X)return;let D=te(X.keyframes),c1=F.keyframes.filter(K=>!(typeof K.value=="number"&&!isFinite(K.value)||!K.handles.every(h1=>isFinite(h1)))).map(K=>W(S({},K),{position:F.snappingFunction(K.position)})),j=Ma(c1,"id"),_=D.filter(K=>!j[K.id]),g1=Ma(_,"position");c1.forEach(({position:K})=>{let h1=g1[K];h1&&qL(_,h1)});let Q=KL([..._,...c1],"position");X.keyframes=Q}t1.replaceKeyframes=E})(g=d.sequence||(d.sequence={}));let s;(u=>{let z;(H=>{function M(w){var k,I;let y=c.coreByProject.historic.sheetsById._ensure(w).staticOverrides.byObject;return(I=y[k=w.objectKey])!=null||(y[k]={}),y[w.objectKey]}function m(w){let y=M(w);i6(y,w.pathToProp,w.value)}H.setValueOfCompoundProp=m;function p(w){let y=M(w);i6(y,w.pathToProp,w.value)}H.setValueOfPrimitiveProp=p;function f(w){let y=c.coreByProject.historic.sheetsById._ensure(w).staticOverrides.byObject[w.objectKey];y&&Uh(y,w.pathToProp)}H.unsetValueOfPrimitiveProp=f})(z=u.byObject||(u.byObject={}))})(s=d.staticOverrides||(d.staticOverrides={}))})(i=o.sheetsById||(o.sheetsById={}))})(r=e.historic||(e.historic={}))})(a=c.coreByProject||(c.coreByProject={}))})(Jm||(Jm={}));function Ut(){let t,a,c=new Promise((e,l)=>{t=i=>{e(i),r.status="resolved"},a=i=>{l(i),r.status="rejected"}}),r={resolve:t,reject:a,promise:c,status:"pending"};return r}var Yj=require("@theatre/dataverse");function aM(t){let a=t.getState(),c=new Yj.Atom(a);return t.subscribe(()=>{let r=t.getState();c.set(r),a=r}),c}Rv();function cM(t){var a,c=t.Symbol;return typeof c=="function"?c.observable?a=c.observable:(a=c("observable"),c.observable=a):a="@@observable",a}var Kt;typeof self!="undefined"?Kt=self:typeof window!="undefined"?Kt=window:typeof global!="undefined"?Kt=global:typeof module!="undefined"?Kt=module:Kt=Function("return this")();var Qe1=cM(Kt),rM=Qe1;var eM={INIT:"@@redux/INIT"};function ae(t,a,c){var r;if(typeof a=="function"&&typeof c=="undefined"&&(c=a,a=void 0),typeof c!="undefined"){if(typeof c!="function")throw new Error("Expected the enhancer to be a function.");return c(ae)(t,a)}if(typeof t!="function")throw new Error("Expected the reducer to be a function.");var e=t,l=a,i=[],o=i,n=!1;function h(){o===i&&(o=i.slice())}function v(){return l}function g(u){if(typeof u!="function")throw new Error("Expected listener to be a function.");var M=!0;return h(),o.push(u),function(){if(M){M=!1,h();var p=o.indexOf(u);o.splice(p,1)}}}function s(u){if(!f8(u))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(typeof u.type=="undefined")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(n)throw new Error("Reducers may not dispatch actions.");try{n=!0,l=e(l,u)}finally{n=!1}for(var M=i=o,m=0;m<M.length;m++){var p=M[m];p()}return u}function d(u){if(typeof u!="function")throw new Error("Expected the nextReducer to be a function.");e=u,s({type:eM.INIT})}function z(){var u,M=g;return u={subscribe:function(p){if(typeof p!="object")throw new TypeError("Expected the observer to be an object.");function f(){p.next&&p.next(v())}f();var H=M(f);return{unsubscribe:H}}},u[rM]=function(){return this},u}return s({type:eM.INIT}),r={dispatch:s,subscribe:g,getState:v,replaceReducer:d},r[rM]=z,r}function ce(){for(var t=arguments.length,a=Array(t),c=0;c<t;c++)a[c]=arguments[c];return a.length===0?function(r){return r}:a.length===1?a[0]:a.reduce(function(r,e){return function(){return r(e.apply(void 0,arguments))}})}function lM(t){let c=ce(...[]);return ae(t.rootReducer,void 0,c)}Wr();Nv();var iM=new WeakMap,Jj=(t,a,c)=>{let r=n=>{t.dispatch(u8.replacePersistentState(n))},e=aq(c),l=()=>t.getState().$persistent;o();let i=()=>{let n=l(),h=iM.get(t);n!==h&&(iM.set(t,n),localStorage.setItem(e,JSON.stringify(n)))};t.subscribe(pa(i,1e3)),window&&window.addEventListener("beforeunload",i);function o(){let n=localStorage.getItem(e);if(n){let h,v=!0;try{h=JSON.parse(n),v=!1}catch(g){kt.warn("Could not parse Theatre's persisted state. This must be a bug. Please report it.")}finally{v||r(h),a()}}else a()}},tq=(t,a)=>{let c=aq(a),r=t.getState().$persistent;localStorage.removeItem(c),iM.set(t,r)};function aq(t){return t+".persistent"}wu();N5();D7();ge();cr();var re=require("@theatre/dataverse");L5();H2();Qp();function oM(t){if(typeof t=="boolean"||typeof t=="string"||typeof t=="number")return t;if(f8(t)){let a={},c=!1;for(let[r,e]of Object.entries(t))oM(e)!==void 0&&(a[r]=e,c=!0);if(c)return a}else return}function cq(t,a,c){for(let[r,e]of Object.entries(t.props))if(e.type==="compound")cq(e,[...a,r],c);else{if(e.type==="enum")throw new Error("Not yet implemented");c(e,[...a,r])}}function nM(t,a,c){return{set:(r,e)=>{t();let l=oM(e);if(typeof l=="undefined")return;let{root:i,path:o}=(0,re.getPointerParts)(r);if(c0(i)){let n=i.template.getMapOfValidSequenceTracks_forStudio().getValue(),h=U9(i.template.staticConfig,o);if(!h)throw new Error("Object ".concat(i.address.objectKey," does not have a prop at ").concat(JSON.stringify(o)));let v=(g,s,d)=>{if(g==null)return;if(oM(s.deserializeAndSanitize(g))===void 0)throw new Error("Invalid value ".concat(Vh(g)," for object.props").concat(d.map(m=>"[".concat(JSON.stringify(m),"]")).join("")," is invalid"));let u=W(S({},i.address),{pathToProp:d}),M=D3(n,d);if(typeof M=="string"){let m=i.sheet.getSequence();m.position=m.closestGridPosition(m.position),a.coreByProject.historic.sheetsById.sequence.setKeyframeAtPosition(W(S({},u),{trackId:M,position:m.position,value:g,snappingFunction:m.closestGridPosition,type:"bezier"}))}else a.coreByProject.historic.sheetsById.staticOverrides.byObject.setValueOfPrimitiveProp(W(S({},u),{value:g}))};if(h.type==="compound"){let g=(0,re.getPointerParts)(r).path,s=g.length;cq(h,g,(d,z)=>{let u=z.slice(s),M=l3(l,u);if(typeof M!="undefined")v(M,d,z);else throw new Error("Property object.props".concat(z.map(m=>"[".concat(JSON.stringify(m),"]")).join("")," is required but not provided"))})}else{if(h.type==="enum")throw new Error("Enums aren't implemented yet");v(l,h,o)}}else throw new Error("Only setting props of SheetObject-s is supported in a transaction so far")},unset:r=>{t();let{root:e,path:l}=(0,re.getPointerParts)(r);if(c0(e)){let i=e.template.getMapOfValidSequenceTracks_forStudio().getValue(),o=l3(e.template.getDefaultValues().getValue(),l),n=U9(e.template.staticConfig,l),h=(v,g)=>{let s=W(S({},e.address),{pathToProp:g}),d=D3(i,g);typeof d=="string"?a.coreByProject.historic.sheetsById.sequence.unsetKeyframeAtPosition(W(S({},s),{trackId:d,position:e.sheet.getSequence().positionSnappedToGrid})):n!==void 0&&a.coreByProject.historic.sheetsById.staticOverrides.byObject.unsetValueOfPrimitiveProp(s)};n.type==="compound"?j5(o,(v,g)=>{h(v,g)},(0,re.getPointerParts)(r).path):h(o,l)}else throw new Error("Only setting props of SheetObject-s is supported in a transaction so far")},get drafts(){return t(),c},get stateEditors(){return a}}}var ee=class{constructor(){y1(this,"_reduxStore");y1(this,"_atom");y1(this,"atomP");this._reduxStore=lM({rootReducer:Ej,devtoolsOptions:{name:"Theatre.js Studio"}}),this._atom=aM(this._reduxStore),this.atomP=this._atom.pointer}initialize(a){let c=Ut();return a.usePersistentStorage===!0?Jj(this._reduxStore,()=>{this.tempTransaction(({drafts:r})=>{r.ephemeral.initialised=!0}).commit(),c.resolve()},a.persistenceKey):(this.tempTransaction(({drafts:r})=>{r.ephemeral.initialised=!0}).commit(),c.resolve()),c.promise}getState(){return this._reduxStore.getState()}__experimental_clearPersistentStorage(a){return tq(this._reduxStore,a),this.getState()}__dev_startHistoryFromScratch(a){this._reduxStore.dispatch(u8.historic.startHistoryFromScratch(u8.reduceParts(c=>W(S({},c),{historic:a}))))}tempTransaction(a){let c=Oj(),r,e=c.push(u8.reduceParts(l=>{let i={historic:Jh(l.historic),ahistoric:Jh(l.ahistoric),ephemeral:Jh(l.ephemeral)},o=!0,n=()=>{if(!o)throw new Error("You seem to have called the transaction api after studio.transaction() has finished running")},h=tM(i),v=nM(n,h,i);try{return a(v),o=!1,{historic:tv(i.historic),ahistoric:tv(i.ahistoric),ephemeral:tv(i.ephemeral)}}catch(g){return r=g,l}finally{tM(void 0)}}));if(this._reduxStore.dispatch(e),r)throw this._reduxStore.dispatch(c.discard()),r;return{commit:()=>{this._reduxStore.dispatch(c.commit())},discard:()=>{this._reduxStore.dispatch(c.discard())}}}undo(){this._reduxStore.dispatch(u8.historic.undo())}redo(){this._reduxStore.dispatch(u8.historic.redo())}createContentOfSaveFile(a){if(!this._reduxStore.getState().$persistent.historic.innerState.coreByProject[a])throw new Error("Project ".concat(a," has not been initialized."));let r=Yo();this.tempTransaction(({stateEditors:i})=>{i.coreByProject.historic.revisionHistory.add({projectId:a,revision:r})}).commit();let e=this._reduxStore.getState().$persistent.historic.innerState.coreByProject[a];return S({},e)}};var rq=require("@theatre/dataverse");var D5=class{constructor(){y1(this,"_values",{})}get(a,c){if(this.has(a))return this._values[a];{let r=c();return this._values[a]=r,r}}has(a){return this._values.hasOwnProperty(a)}};N5();x5();m1();H2();fh();var le=class{constructor(a){y1(this,"ui",{hide(){Z().ui.hide()},get isHidden(){return Z().ui.isHidden},restore(){Z().ui.restore()},renderToolset(a,c){return Z().ui.renderToolset(a,c)}});y1(this,"_cache",new D5);y1(this,"__experimental",{__experimental_disblePlayPauseKeyboardShortcut(){hD()},__experimental_enablePlayPauseKeyboardShortcut(){vD()},__experimental_clearPersistentStorage(a){return Z().clearPersistentStorage(a)},__experimental_createContentOfSaveFileTyped(a){return Z().createContentOfSaveFile(a)}})}initialize(a){return Z().initialize(a)}extend(a,c){Z().extend(a,c)}transaction(a){return Z().transaction(({set:c,unset:r,stateEditors:e})=>a({set:c,unset:r,__experimental_forgetObject:o=>{if(!vv(o))throw new Error("object in transactionApi.__experimental_forgetObject(object) must be the return type of sheet.object(...)");e.coreByProject.historic.sheetsById.forgetObject(o.address)},__experimental_forgetSheet:o=>{if(!hv(o))throw new Error("sheet in transactionApi.__experimental_forgetSheet(sheet) must be the return type of project.sheet()");e.coreByProject.historic.sheetsById.forgetSheet(o.address)}}))}_getSelectionPrism(){return this._cache.get("_getSelectionPrism()",()=>(0,rq.prism)(()=>c3().filter(a=>a.type==="Theatre_SheetObject"||a.type==="Theatre_Sheet").map(a=>a.publicApi)))}_getSelection(){return this._getSelectionPrism().getValue()}setSelection(a){let c=[...a].filter(r=>vv(r)||hv(r)).map(r=>Z().corePrivateAPI(r));Z().transaction(({stateEditors:r})=>{r.studio.historic.panels.outline.selection.set(c)})}onSelectionChange(a){let c=Z();return this._getSelectionPrism().onChange(c.ticker,a,!0)}get selection(){return this._getSelection()}scrub(){return Z().scrub()}getStudioProject(){let a=Z().core;if(!a)throw new Error("You're calling studio.getStudioProject() before `@theatre/core` is loaded. To fix this:\n1. Check if `@theatre/core` is import/required in your bundle.\n2. Check the stack trace of this error and make sure the funciton that calls getStudioProject() is run after `@theatre/core` is loaded.");return Z().getStudioProject(a)}debouncedScrub(a=1e3){let c,r=pa(()=>{let l=c;l&&(c=void 0,l.commit())},a);return{capture:l=>{c||(c=this.scrub());let i=!0;try{c.capture(l),i=!1}finally{if(i){let o=c;c=void 0,o.discard()}else r()}}}}createPane(a){return Z().paneManager.createPane(a)}destroyPane(a){return Z().paneManager.destroyPane(a)}createContentOfSaveFile(a){return Z().createContentOfSaveFile(a)}};gu();var W5=require("@theatre/dataverse");var ie=class{constructor(a){this._studio=a;y1(this,"_cache",new D5);this._instantiatePanesAsTheyComeIn()}_instantiatePanesAsTheyComeIn(){let a=this._getAllPanes();a.onStale(()=>{a.getValue()})}_getAllPanes(){return this._cache.get("_getAllPanels()",()=>(0,W5.prism)(()=>{if(!(0,W5.val)(this._studio.coreP))return{};let c=(0,W5.val)(this._studio.atomP.historic.panelInstanceDesceriptors),r=(0,W5.val)(this._studio.atomP.ephemeral.extensions.paneClasses),e={};for(let l of Object.values(c)){if(!l)continue;let i=r[l.paneClass];if(!i)continue;let{instanceId:o}=l,{extensionId:n,classDefinition:h}=i,v=W5.prism.memo("instance-".concat(l.instanceId),()=>({extensionId:n,instanceId:o,definition:h}),[h]);e[o]=v}return e}))}get allPanesD(){return this._getAllPanes()}createPane(a){if(!this._studio.core)throw new Error("Can't create a pane because @theatre/core is not yet loaded");let r=(0,W5.val)(this._studio.atomP.ephemeral.extensions.paneClasses[a].extensionId),e=(0,W5.val)(this._studio.atomP.historic.panelInstanceDesceriptors),l;for(let i=1;i<1e3&&(l="".concat(a," #").concat(i),!!e[l]);i++);if(!r)throw new Error('Pane class "'.concat(a,'" is not registered.'));return this._studio.transaction(({drafts:i})=>{i.historic.panelInstanceDesceriptors[l]={instanceId:l,paneClass:a}}),this._getAllPanes().getValue()[l]}destroyPane(a){if(!this._studio.core)throw new Error("Can't do this yet because @theatre/core is not yet loaded");this._studio.transaction(({drafts:r})=>{delete r.historic.panelInstanceDesceriptors[a]})}};var $t=require("@theatre/dataverse");m1();var eq=30*60*1e3,Xe1=1e3*60*60;function Ye1(){return e2(this,null,function*(){let t=Z().atomP.ahistoric.visibilityState;if((0,$t.val)(t)==="everythingIsVisible")return;let a=Ut(),c=(0,$t.pointerToPrism)(t).onStale(()=>{(0,$t.val)(t)==="everythingIsVisible"&&(c(),a.resolve(void 0))});return a.promise})}function hM(){return e2(this,null,function*(){if(!("0.7.0"!=null&&"0.7.0".match(/COMPAT/)))for(yield av(500),yield Ye1();;){let t=(0,$t.val)(Z().atomP.ahistoric.updateChecker);if(t&&t.result!=="error"){let a=t.lastChecked,c=Date.now(),r=Math.abs(c-a);r<eq&&(yield av(eq-r))}try{let a=yield fetch(new Request("https://updates.theatrejs.com/updates/0.7.0"));if(a.ok){let c=yield a.json();if(!Je1(c))throw new Error("Bad response");Z().transaction(({drafts:r})=>{r.ahistoric.updateChecker={lastChecked:Date.now(),result:S({},c)}}),yield av(1e3)}else throw new Error("HTTP Error ".concat(a.statusText))}catch(a){yield av(Xe1)}}})}var av=t=>new Promise(a=>setTimeout(a,t));function Je1(t){if(typeof t!="object")return!1;let a=t;return typeof a.hasUpdates!="boolean"?!1:a.hasUpdates===!0&&typeof a.newVersion=="string"&&typeof a.releasePage=="string"||a.hasUpdates===!1}var zq=P(ps());function _5(t){return new Promise((a,c)=>{t.oncomplete=t.onsuccess=()=>a(t.result),t.onabort=t.onerror=()=>c(t.error)})}function gM(t,a){let c=indexedDB.open(t);c.onupgradeneeded=()=>c.result.createObjectStore(a);let r=_5(c);return(e,l)=>r.then(i=>l(i.transaction(a,e).objectStore(a)))}var vM;function Qt(){return vM||(vM=gM("keyval-store","keyval")),vM}function lq(t,a=Qt()){return a("readonly",c=>_5(c.get(t)))}function iq(t,a,c=Qt()){return c("readwrite",r=>(r.put(a,t),_5(r.transaction)))}function oq(t,a=Qt()){return a("readwrite",c=>(c.delete(t),_5(c.transaction)))}function dM(t,a){return t.openCursor().onsuccess=function(){this.result&&(a(this.result),this.result.continue())},_5(t.transaction)}function nq(t=Qt()){return t("readonly",a=>{if(a.getAllKeys)return _5(a.getAllKeys());let c=[];return dM(a,r=>c.push(r.key)).then(()=>c)})}function hq(t=Qt()){return t("readonly",a=>{if(a.getAll)return _5(a.getAll());let c=[];return dM(a,r=>c.push(r.value)).then(()=>c)})}function vq(t=Qt()){return t("readonly",a=>{if(a.getAll&&a.getAllKeys)return Promise.all([_5(a.getAllKeys()),_5(a.getAll())]).then(([r,e])=>r.map((l,i)=>[l,e[i]]));let c=[];return t("readonly",r=>dM(r,e=>c.push([e.key,e.value])).then(()=>c))})}var gq=t=>{let a=gM("theatrejs-".concat(t),"default-store");return{set:(c,r)=>iq(c,r,a),get:c=>lq(c,a),del:c=>oq(c,a),keys:()=>nq(a),entries:()=>vq(a),values:()=>hq(a)}};Iu();vt();var sq="theatre-0.4",al1="You seem to have imported '@theatre/studio' but haven't initialized it. You can initialize the studio by:\n```\nimport studio from '@theatre/studio'\nstudio.initialize()\n```\n\n* If you didn't mean to import '@theatre/studio', this means that your bundler is not tree-shaking it. This is most likely a bundler misconfiguration.\n\n* If you meant to import '@theatre/studio' without showing its UI, you can do that by running:\n\n```\nimport studio from '@theatre/studio'\nstudio.initialize()\nstudio.ui.hide()\n```\n",cl1="You seem to have imported '@theatre/studio' but called `studio.initialize()` after some delay.\nTheatre.js projects remain in pending mode (won't play their sequences) until the studio is initialized, so you should place the `studio.initialize()` line right after the import line:\n\n```\nimport studio from '@theatre/studio'\n// ... and other imports\n\nstudio.initialize()\n```\n",rv=class{constructor(){y1(this,"ui");y1(this,"publicApi");y1(this,"address");y1(this,"_projectsProxy",new C7.PointerProxy(new C7.Atom({}).pointer));y1(this,"projectsP",this._projectsProxy.pointer);y1(this,"_store",new ee);y1(this,"_corePrivateApi");y1(this,"_cache",new D5);y1(this,"paneManager");y1(this,"_coreAtom",new C7.Atom({}));y1(this,"_initializedDeferred",Ut());y1(this,"_initializeFnCalled",!1);y1(this,"_didWarnAboutNotInitializing",!1);y1(this,"_coreBits");y1(this,"_rafDriver");this.address={studioId:J9(10)},this.publicApi=new le(this),this.ui=new Nr(this),this._attachToIncomingProjects(),this.paneManager=new ie(this),typeof window!="undefined"&&setTimeout(()=>{this._initializeFnCalled||(console.error(al1),this._didWarnAboutNotInitializing=!0)},100)}get ticker(){if(!this._rafDriver)throw new Error("`studio.ticker` was read before studio.initialize() was called.");return this._rafDriver.ticker}get atomP(){return this._store.atomP}initialize(a){return e2(this,null,function*(){if(!this._coreBits)throw new Error("You seem to have imported `@theatre/studio` without importing `@theatre/core`. Make sure to include an import of `@theatre/core` before calling `studio.initializer()`.");if(this._initializeFnCalled)return this._initializedDeferred.promise;this._initializeFnCalled=!0,this._didWarnAboutNotInitializing&&console.warn(cl1);let c={persistenceKey:sq,usePersistentStorage:!0};if(typeof(a==null?void 0:a.persistenceKey)=="string"&&(c.persistenceKey=a.persistenceKey),((a==null?void 0:a.usePersistentStorage)===!1||typeof window=="undefined")&&(c.usePersistentStorage=!1),a!=null&&a.__experimental_rafDriver){if(a.__experimental_rafDriver.type!=="Theatre_RafDriver_PublicAPI")throw new Error("parameter `rafDriver` in `studio.initialize({__experimental_rafDriver})` must be either be undefined, or the return type of core.createRafDriver()");let r=this._coreBits.privateAPI(a.__experimental_rafDriver);if(!r)throw new Error("parameter `rafDriver` in `studio.initialize({__experimental_rafDriver})` seems to come from a different version of `@theatre/core` than the version that is attached to `@theatre/studio`");this._rafDriver=r}else this._rafDriver=this._coreBits.getCoreRafDriver();try{yield this._store.initialize(c)}catch(r){this._initializedDeferred.reject(r);return}typeof window!="undefined"&&(yield this.ui.ready),this._initializedDeferred.resolve(),this.ui.render(),hM().catch(r=>{console.error(r)})})}get initialized(){return this._initializedDeferred.promise}_attachToIncomingProjects(){let a=(0,C7.pointerToPrism)(this.projectsP),c=r=>{for(let e of Object.values(r))e.isAttachedToStudio||e.attachToStudio(this)};a.onStale(()=>{c(a.getValue())}),c(a.getValue())}setCoreBits(a){this._coreBits=a,this._corePrivateApi=a.privateAPI,this._coreAtom.setByPointer(c=>c.core,a.coreExports),this._setProjectsP(a.projectsP)}_setProjectsP(a){this._projectsProxy.setPointer(a)}scrub(){return new Jt(this)}tempTransaction(a){return this._store.tempTransaction(a)}transaction(a){return this.tempTransaction(a).commit()}__dev_startHistoryFromScratch(a){return this._store.__dev_startHistoryFromScratch(a)}get corePrivateAPI(){return this._corePrivateApi}get core(){return this._coreAtom.get().core}get coreP(){return this._coreAtom.pointer.core}extend(a,c){if(!a||typeof a!="object")throw new Error("Extensions must be JS objects");if(typeof a.id!="string")throw new Error("extension.id must be a string");let r=(c==null?void 0:c.__experimental_reconfigure)===!0,e=a.id,l=this._store.getState().ephemeral.extensions.byId[e];if(l&&!r){if(a===l||(0,zq.default)(a,l))return;throw new Error('Extension id "'.concat(a.id,'" is already defined. If you mean to re-configure the extension, do it like this: studio.extend(extension, {__experimental_reconfigure: true})})'))}this.transaction(({drafts:i})=>{var n,h;i.ephemeral.extensions.byId[a.id]=a;let o=i.ephemeral.extensions.paneClasses;r&&l&&((n=l.panes)==null||n.forEach(v=>{delete o[v.class]})),(h=a.panes)==null||h.forEach(v=>{if(typeof v.class!="string")throw new Error("pane.class must be a string");if(v.class.length<3)throw new Error("pane.class should be a string with 3 or more characters");let g=o[v.class];if(g)if(r&&g.extensionId===a.id)console.warn('Pane class "'.concat(v.class,'" already exists. This is a bug in Theatre.js. Please report it at https://github.com/theatre-js/theatre/issues/new'));else throw new Error('Pane class "'.concat(v.class,'" already exists and is supplied by extension ').concat(g));o[v.class]={extensionId:a.id,classDefinition:v}})})}getStudioProject(a){return this._cache.get("getStudioProject",()=>a.getProject("Studio"))}getExtensionSheet(a,c){return this._cache.get("extensionSheet-"+a,()=>this.getStudioProject(c).sheet("Extension "+a))}undo(){this._store.undo()}redo(){this._store.redo()}createContentOfSaveFile(a){return this._store.createContentOfSaveFile(a)}createAssetStorage(a,c){return e2(this,null,function*(){if(typeof window=="undefined")return{getAssetUrl:()=>"",createAsset:()=>Promise.resolve(null)};if(!("indexedDB"in window))return console.log("This browser doesn't support IndexedDB."),{getAssetUrl:v=>{throw new Error("IndexedDB is required by the default asset manager, but it's not supported by this browser. To use assets, please provide your own asset manager to the project config.")},createAsset:v=>{throw new Error("IndexedDB is required by the default asset manager, but it's not supported by this browser. To use assets, please provide your own asset manager to the project config.")}};let r=gq("".concat(a.address.projectId,"-assets")),e=ur(a),l=yield r.keys();yield Promise.all(l.map(v=>e2(this,null,function*(){e.includes(v)||(yield r.del(v))}))),yield Promise.all(l.map(v=>e2(this,null,function*(){var s,d;let g="".concat(c,"/").concat(v);try{(yield fetch(g,{method:"HEAD"})).ok&&(yield r.del(v))}catch(z){c7.error("Failed to access assets","Failed to access assets at ".concat((d=(s=a.config.assets)==null?void 0:s.baseUrl)!=null?d:"/",". This is likely due to a CORS issue."))}})));let i=new Map(yield r.entries()),o=new Map,n=v=>{if(o.has(v))return o.get(v);{let g=URL.createObjectURL(v);return o.set(v,g),g}},h=v=>{let g=i.get(v);if(!g)throw new Error("Asset with id ".concat(v," not found"));return n(g)};return{getAssetUrl:v=>i.has(v)?h(v):"".concat(c,"/").concat(v),createAsset:v=>e2(this,null,function*(){var d,z,u;let g=ur(a),s=!1;if(g.includes(v.name)){let M;try{M=(d=i.get(v.name))!=null?d:yield fetch("".concat(c,"/").concat(v.name)).then(m=>m.ok?m.blob():void 0)}catch(m){return c7.error("Failed to access assets","Failed to access assets at ".concat((u=(z=a.config.assets)==null?void 0:z.baseUrl)!=null?u:"/",". This is likely due to a CORS issue.")),Promise.resolve(null)}if(M){if(s=yield(yield Promise.resolve().then(()=>P(dq()))).default.isEqual(v,M),s)return v.name;{let p=H=>{let w=prompt(H,v.name);return w===null?!1:w===""?p("Asset name cannot be empty. Please choose a different file name for this asset."):g.includes(w)?(console.log(g),p("An asset with this name already exists. Please choose a different file name for this asset.")):(v=new File([v],w,{type:v.type}),!0)};if(!p("An asset with this name already exists. Please choose a different file name for this asset."))return null}}}return i.set(v.name,v),yield r.set(v.name,v),v.name})}})}clearPersistentStorage(a=sq){this._store.__experimental_clearPersistentStorage(a)}};var ev="__TheatreJS_StudioBundle",uq="__TheatreJS_CoreBundle",pq="__TheatreJS_Notifications";var oe=class{constructor(a){this._studio=a;y1(this,"_coreBundle")}get type(){return"Theatre_StudioBundle"}registerCoreBundle(a){if(this._coreBundle)throw new Error("StudioBundle.coreBundle is already registered. This is a bug.");this._coreBundle=a;let c;a.getBitsForStudio(this._studio,r=>{c=r}),this._studio.setCoreBits(c)}};var Mq=P(T());a1();var mq,el1=B.div(mq||(mq=V([""]))),ll1=t=>Mq.default.createElement(el1,null),fq=ll1;vt();var zM=new rv;HM(zM);var il1=zM.publicApi,ol1=il1;nl1();function nl1(){if(typeof window=="undefined")return;let t=window[ev];if(typeof t!="undefined")throw typeof t=="object"&&t&&typeof t.version=="string"?new Error("It seems that the module '@theatre/studio' is loaded more than once. This could have two possible causes:\n1. You might have two separate versions of Theatre.js in node_modules.\n2. Or this might be a bundling misconfiguration, in case you're using a bundler like Webpack/ESBuild/Rollup.\n\nNote that it **is okay** to import '@theatre/studio' multiple times. But those imports should point to the same module."):new Error("The variable window.".concat(ev," seems to be already set by a module other than @theatre/core."));let a=new oe(zM);window[ev]=a;let c=window[uq];c&&c!==null&&c.type==="Theatre_CoreBundle"&&a.registerCoreBundle(c)}typeof window!="undefined"&&(window[pq]={notify:c7});
/*! Bundled license information:

lodash-es/lodash.js:
  (**
   * @license
   * Lodash (Custom Build) <https://lodash.com/>
   * Build: `lodash modularize exports="es" -o ./`
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)

queue-microtask/index.js:
  (*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

react/cjs/react.production.min.js:
  (**
   * @license React
   * react.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

scheduler/cjs/scheduler.production.min.js:
  (**
   * @license React
   * scheduler.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom.production.min.js:
  (**
   * @license React
   * react-dom.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-is/cjs/react-is.production.min.js:
  (** @license React v17.0.2
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-is/cjs/react-is.production.min.js:
  (** @license React v16.13.1
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

jszip/dist/jszip.min.js:
  (*!
  
  JSZip v3.10.1 - A JavaScript class for generating and reading zip files
  <http://stuartk.com/jszip>
  
  (c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
  Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.
  
  JSZip uses the library pako released under the MIT license :
  https://github.com/nodeca/pako/blob/main/LICENSE
  *)

jiff/lib/lcs.js:
  (** @license MIT License (c) copyright 2010-2014 original author or authors *)

jiff/lib/array.js:
  (** @license MIT License (c) copyright 2010-2014 original author or authors *)

jiff/lib/jsonPointerParse.js:
  (** @license MIT License (c) copyright 2010-2014 original author or authors *)

jiff/lib/jsonPointer.js:
  (** @license MIT License (c) copyright 2010-2014 original author or authors *)

jiff/lib/clone.js:
  (** @license MIT License (c) copyright 2010-2014 original author or authors *)

jiff/lib/jsonPatch.js:
  (** @license MIT License (c) copyright 2010-2014 original author or authors *)

jiff/jiff.js:
  (** @license MIT License (c) copyright 2010-2014 original author or authors *)
*/
//# sourceMappingURL=index.js.map
